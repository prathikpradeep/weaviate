"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/weaviate-ts-client";
exports.ids = ["vendor-chunks/weaviate-ts-client"];
exports.modules = {

/***/ "(rsc)/../node_modules/weaviate-ts-client/dist/index.mjs":
/*!*********************************************************!*\
  !*** ../node_modules/weaviate-ts-client/dist/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Aggregator: () => (/* binding */ $),\n/* harmony export */   ApiKey: () => (/* binding */ ke),\n/* harmony export */   AuthAccessTokenCredentials: () => (/* binding */ j),\n/* harmony export */   AuthClientCredentials: () => (/* binding */ fe),\n/* harmony export */   AuthUserPasswordCredentials: () => (/* binding */ me),\n/* harmony export */   BackupCreateStatusGetter: () => (/* binding */ k),\n/* harmony export */   BackupCreator: () => (/* binding */ le),\n/* harmony export */   BackupRestoreStatusGetter: () => (/* binding */ T),\n/* harmony export */   BackupRestorer: () => (/* binding */ pe),\n/* harmony export */   Checker: () => (/* binding */ Y),\n/* harmony export */   ClassCreator: () => (/* binding */ V),\n/* harmony export */   ClassDeleter: () => (/* binding */ y),\n/* harmony export */   ClassGetter: () => (/* binding */ R),\n/* harmony export */   ClassificationsGetter: () => (/* binding */ b),\n/* harmony export */   ClassificationsScheduler: () => (/* binding */ ie),\n/* harmony export */   ConceptsGetter: () => (/* binding */ de),\n/* harmony export */   Creator: () => (/* binding */ W),\n/* harmony export */   Deleter: () => (/* binding */ Q),\n/* harmony export */   Explorer: () => (/* binding */ E),\n/* harmony export */   ExtensionCreator: () => (/* binding */ ce),\n/* harmony export */   FusionType: () => (/* binding */ _e),\n/* harmony export */   Getter: () => (/* binding */ K),\n/* harmony export */   GetterById: () => (/* binding */ z),\n/* harmony export */   GraphQLGetter: () => (/* binding */ B),\n/* harmony export */   LiveChecker: () => (/* binding */ oe),\n/* harmony export */   Merger: () => (/* binding */ H),\n/* harmony export */   MetaGetter: () => (/* binding */ C),\n/* harmony export */   NodesStatusGetter: () => (/* binding */ ue),\n/* harmony export */   ObjectsBatchDeleter: () => (/* binding */ ne),\n/* harmony export */   ObjectsBatcher: () => (/* binding */ se),\n/* harmony export */   OidcAuthenticator: () => (/* binding */ Ae),\n/* harmony export */   OpenidConfigurationGetter: () => (/* binding */ g),\n/* harmony export */   PropertyCreator: () => (/* binding */ O),\n/* harmony export */   Raw: () => (/* binding */ I),\n/* harmony export */   ReadyChecker: () => (/* binding */ he),\n/* harmony export */   ReferenceCreator: () => (/* binding */ X),\n/* harmony export */   ReferenceDeleter: () => (/* binding */ ee),\n/* harmony export */   ReferencePayloadBuilder: () => (/* binding */ te),\n/* harmony export */   ReferenceReplacer: () => (/* binding */ Z),\n/* harmony export */   ReferencesBatcher: () => (/* binding */ ae),\n/* harmony export */   SchemaGetter: () => (/* binding */ w),\n/* harmony export */   ShardUpdater: () => (/* binding */ M),\n/* harmony export */   ShardsUpdater: () => (/* binding */ F),\n/* harmony export */   TenantsCreator: () => (/* binding */ L),\n/* harmony export */   TenantsDeleter: () => (/* binding */ q),\n/* harmony export */   TenantsExists: () => (/* binding */ _),\n/* harmony export */   TenantsGetter: () => (/* binding */ G),\n/* harmony export */   TenantsUpdater: () => (/* binding */ D),\n/* harmony export */   Updater: () => (/* binding */ J),\n/* harmony export */   Validator: () => (/* binding */ U),\n/* harmony export */   \"default\": () => (/* binding */ mh),\n/* harmony export */   generateUuid5: () => (/* binding */ Do),\n/* harmony export */   toBase64FromBlob: () => (/* binding */ _o)\n/* harmony export */ });\n/* harmony import */ var graphql_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-request */ \"(rsc)/../node_modules/graphql-request/build/esm/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/../node_modules/uuid/dist/esm-node/v5.js\");\nvar Ae=class{constructor(t,e){this.refresh=async t=>{let e=await this.getOpenidConfig(t),r;switch(this.creds.constructor){case me:r=new Fe(this.http,this.creds,e);break;case j:r=new Le(this.http,this.creds,e);break;case fe:r=new Ge(this.http,this.creds,e);break;default:throw new Error(\"unsupported credential type\")}return r.refresh().then(s=>{this.accessToken=s.accessToken,this.expiresAt=s.expiresAt,this.refreshToken=s.refreshToken,this.startTokenRefresh(r)})};this.getOpenidConfig=t=>this.http.externalGet(t.href).then(e=>{let r=t.scopes||[];return{clientId:t.clientId,provider:e,scopes:r}});this.startTokenRefresh=t=>{this.creds.silentRefresh&&!this.refreshRunning&&this.refreshTokenProvided()&&(this.refreshInterval=setInterval(async()=>{if(this.expiresAt-Date.now()<=6e4){let e=await t.refresh();this.accessToken=e.accessToken,this.expiresAt=e.expiresAt,this.refreshToken=e.refreshToken}},3e4),this.refreshRunning=!0)};this.stopTokenRefresh=()=>{clearInterval(this.refreshInterval),this.refreshRunning=!1};this.refreshTokenProvided=()=>this.refreshToken&&this.refreshToken!=\"\";this.getAccessToken=()=>this.accessToken;this.getExpiresAt=()=>this.expiresAt;this.http=t,this.creds=e,this.accessToken=\"\",this.refreshToken=\"\",this.expiresAt=0,this.refreshRunning=!1,this.creds instanceof j&&(this.accessToken=this.creds.accessToken,this.expiresAt=this.creds.expiresAt,this.refreshToken=this.creds.refreshToken)}resetExpiresAt(){this.expiresAt=0}},me=class{constructor(t){this.username=t.username,this.password=t.password,this.scopes=t.scopes,this.silentRefresh=De(t.silentRefresh)}},Fe=class{constructor(t,e,r){this.refresh=()=>(this.validateOpenidConfig(),this.requestAccessToken().then(t=>({accessToken:t.access_token,expiresAt:Te(t.expires_in),refreshToken:t.refresh_token})).catch(t=>Promise.reject(new Error(`failed to refresh access token: ${t}`))));this.validateOpenidConfig=()=>{if(this.openidConfig.provider.grant_types_supported!==void 0&&!this.openidConfig.provider.grant_types_supported.includes(\"password\"))throw new Error(\"grant_type password not supported\");if(this.openidConfig.provider.token_endpoint.includes(\"https://login.microsoftonline.com\"))throw new Error(\"microsoft/azure recommends to avoid authentication using username and password, so this method is not supported by this client\");this.openidConfig.scopes.push(\"offline_access\")};this.requestAccessToken=()=>{let t=this.openidConfig.provider.token_endpoint,e=new URLSearchParams({grant_type:\"password\",client_id:this.openidConfig.clientId,username:this.creds.username,password:this.creds.password,scope:this.openidConfig.scopes.join(\" \")}),r=\"application/x-www-form-urlencoded;charset=UTF-8\";return this.http.externalPost(t,e,r)};this.http=t,this.creds=e,this.openidConfig=r,e.scopes&&this.openidConfig.scopes.push(e.scopes)}},j=class{constructor(t){this.validate=t=>{if(t.expiresIn===void 0)throw new Error(\"AuthAccessTokenCredentials: expiresIn is required\");if(!Number.isInteger(t.expiresIn)||t.expiresIn<=0)throw new Error(\"AuthAccessTokenCredentials: expiresIn must be int > 0\")};this.validate(t),this.accessToken=t.accessToken,this.expiresAt=Te(t.expiresIn),this.refreshToken=t.refreshToken,this.silentRefresh=De(t.silentRefresh)}},Le=class{constructor(t,e,r){this.refresh=()=>this.creds.refreshToken===void 0||this.creds.refreshToken==\"\"?(console.warn(\"AuthAccessTokenCredentials not provided with refreshToken, cannot refresh\"),Promise.resolve({accessToken:this.creds.accessToken,expiresAt:this.creds.expiresAt})):(this.validateOpenidConfig(),this.requestAccessToken().then(t=>({accessToken:t.access_token,expiresAt:Te(t.expires_in),refreshToken:t.refresh_token})).catch(t=>Promise.reject(new Error(`failed to refresh access token: ${t}`))));this.validateOpenidConfig=()=>{if(this.openidConfig.provider.grant_types_supported===void 0||!this.openidConfig.provider.grant_types_supported.includes(\"refresh_token\"))throw new Error(\"grant_type refresh_token not supported\")};this.requestAccessToken=()=>{let t=this.openidConfig.provider.token_endpoint,e=new URLSearchParams({grant_type:\"refresh_token\",client_id:this.openidConfig.clientId,refresh_token:this.creds.refreshToken}),r=\"application/x-www-form-urlencoded;charset=UTF-8\";return this.http.externalPost(t,e,r)};this.http=t,this.creds=e,this.openidConfig=r}},fe=class{constructor(t){this.clientSecret=t.clientSecret,this.scopes=t.scopes,this.silentRefresh=De(t.silentRefresh)}},Ge=class{constructor(t,e,r){this.refresh=()=>(this.validateOpenidConfig(),this.requestAccessToken().then(t=>({accessToken:t.access_token,expiresAt:Te(t.expires_in),refreshToken:t.refresh_token})).catch(t=>Promise.reject(new Error(`failed to refresh access token: ${t}`))));this.validateOpenidConfig=()=>{this.openidConfig.scopes.length>0||this.openidConfig.provider.token_endpoint.includes(\"https://login.microsoftonline.com\")&&this.openidConfig.scopes.push(this.openidConfig.clientId+\"/.default\")};this.requestAccessToken=()=>{let t=this.openidConfig.provider.token_endpoint,e=new URLSearchParams({grant_type:\"client_credentials\",client_id:this.openidConfig.clientId,client_secret:this.creds.clientSecret,scope:this.openidConfig.scopes.join(\" \")}),r=\"application/x-www-form-urlencoded;charset=UTF-8\";return this.http.externalPost(t,e,r)};this.http=t,this.creds=e,this.openidConfig=r,e.scopes&&this.openidConfig.scopes.push(e.scopes)}},ke=class{constructor(t){this.apiKey=t}};function Te(i){return Date.now()+(i-2)*1e3}function De(i){return i===void 0?!0:i}var g=class{constructor(t){this.do=()=>this.client.getRaw(\"/.well-known/openid-configuration\").then(t=>t.status<400?t.json():t.status==404?Promise.resolve(void 0):Promise.reject(new Error(`unexpected status code: ${t.status}`)));this.client=t}};var lt=i=>{let t=\"/v1\",e=`${i.host}${t}`,r=pt(e);return{post:(s,o,h=!0,c=\"\")=>{let d={method:\"POST\",headers:{...i.headers,\"content-type\":\"application/json\"},body:JSON.stringify(o)};return x(d,c),fetch(r(s),d).then(v(h))},put:(s,o,h=!0,c=\"\")=>{let d={method:\"PUT\",headers:{...i.headers,\"content-type\":\"application/json\"},body:JSON.stringify(o)};return x(d,c),fetch(r(s),d).then(v(h))},patch:(s,o,h=\"\")=>{let c={method:\"PATCH\",headers:{...i.headers,\"content-type\":\"application/json\"},body:JSON.stringify(o)};return x(c,h),fetch(r(s),c).then(v(!1))},delete:(s,o,h=!1,c=\"\")=>{let d={method:\"DELETE\",headers:{...i.headers,\"content-type\":\"application/json\"},body:o?JSON.stringify(o):void 0};return x(d,c),fetch(r(s),d).then(v(h))},head:(s,o,h=\"\")=>{let c={method:\"HEAD\",headers:{...i.headers,\"content-type\":\"application/json\"},body:o?JSON.stringify(o):void 0};return x(c,h),fetch(r(s),c).then(ut(!1))},get:(s,o=!0,h=\"\")=>{let c={method:\"GET\",headers:{...i.headers}};return x(c,h),fetch(r(s),c).then(v(o))},getRaw:(s,o=\"\")=>{let h={method:\"GET\",headers:{...i.headers}};return x(h,o),fetch(r(s),h)},externalGet:s=>fetch(s,{method:\"GET\",headers:{...i.headers}}).then(v(!0)),externalPost:(s,o,h)=>{(h==null||h==\"\")&&(h=\"application/json\");let c={body:void 0,method:\"POST\",headers:{...i.headers,\"content-type\":h}};return o!=null&&(c.body=o),fetch(s,c).then(v(!0))}}},pt=i=>t=>i+t,v=i=>t=>{if(t.status>=400)return t.text().then(e=>{let r;try{r=JSON.stringify(JSON.parse(e))}catch{r=e}return Promise.reject(new Error(`usage error (${t.status}): ${r}`))});if(i)return t.json()},ut=i=>t=>t.status==200||t.status==204||t.status==404?t.status==200||t.status==204:v(i)(t);function x(i,t){t!==\"\"&&(i.headers.Authorization=`Bearer ${t}`)}var Je=lt;var ft=i=>{let t=i.headers,e=\"/v1/graphql\",r=`${i.host}${e}`;return{query:(s,o,h)=>new graphql_request__WEBPACK_IMPORTED_MODULE_0__.GraphQLClient(r,{headers:{...t,...h},fetch}).request(s,o,h).then(c=>({data:c}))}},He=ft;var ge=class{constructor(t){this.post=(t,e,r=!0)=>this.authEnabled?this.login().then(s=>this.http.post(t,e,r,s)):this.http.post(t,e,r);this.put=(t,e,r=!0)=>this.authEnabled?this.login().then(s=>this.http.put(t,e,r,s)):this.http.put(t,e,r);this.patch=(t,e)=>this.authEnabled?this.login().then(r=>this.http.patch(t,e,r)):this.http.patch(t,e);this.delete=(t,e,r=!1)=>this.authEnabled?this.login().then(s=>this.http.delete(t,e,r,s)):this.http.delete(t,e,r);this.head=(t,e)=>this.authEnabled?this.login().then(r=>this.http.head(t,e,r)):this.http.head(t,e);this.get=(t,e=!0)=>this.authEnabled?this.login().then(r=>this.http.get(t,e,r)):this.http.get(t,e);this.query=(t,e)=>this.authEnabled?this.login().then(r=>{let s={Authorization:`Bearer ${r}`};return this.gql.query(t,e,s)}):this.gql.query(t,e);this.login=async()=>{if(this.apiKey)return this.apiKey;if(!this.oidcAuth)return\"\";let t=await new g(this.http).do();return t===void 0?(console.warn(\"client is configured for authentication, but server is not\"),\"\"):(Date.now()>=this.oidcAuth.getExpiresAt()&&await this.oidcAuth.refresh(t),this.oidcAuth.getAccessToken())};t=this.sanitizeParams(t),this.host=t.host,this.http=Je(t),this.gql=He(t),this.authEnabled=this.parseAuthParams(t)}parseAuthParams(t){if(t.authClientSecret&&t.apiKey)throw new Error(\"must provide one of authClientSecret (OIDC) or apiKey, cannot provide both\");return t.authClientSecret?(this.oidcAuth=new Ae(this.http,t.authClientSecret),!0):t.apiKey?(this.apiKey=t.apiKey?.apiKey,!0):!1}sanitizeParams(t){for(;t.host.endsWith(\"/\");)t.host=t.host.slice(0,-1);let e=/^(https?|ftp|file)(?::\\/\\/)/,r=t.host.match(e);if(t.scheme){if(r&&r[1]!==`${t.scheme}`)throw new Error(`The host contains a different protocol than specified in the scheme (scheme: ${t.scheme} != host: ${r[1]})`);r||(t.host=`${t.scheme}://${t.host}`)}else if(!r)throw new Error(\"The host must start with a recognized protocol (e.g., http or https) if no scheme is provided.\");return t}};var l=class{constructor(t){this.source=t}toString(){if(this.parse(),this.validate(),this.operands)return`{operator:${this.operator},operands:[${this.operands}]}`;{let t=this.getValueType(),e=this.marshalValueContent();return`{operator:${this.operator},${t}:${e},path:${JSON.stringify(this.path)}}`}}marshalValueContent(){return this.valueType==\"valueGeoRange\"?this.marshalValueGeoRange():JSON.stringify(this.valueContent)}getValueType(){switch(this.valueType){case\"valueStringArray\":return\"valueString\";case\"valueTextArray\":return\"valueText\";case\"valueIntArray\":return\"valueInt\";case\"valueNumberArray\":return\"valueNumber\";case\"valueDateArray\":return\"valueDate\";case\"valueBooleanArray\":return\"valueBoolean\";default:return this.valueType}}marshalValueGeoRange(){let t=[],e=this.valueContent.geoCoordinates;if(e){let s=[];e.latitude&&(s=[...s,`latitude:${e.latitude}`]),e.longitude&&(s=[...s,`longitude:${e.longitude}`]),t=[...t,`geoCoordinates:{${s.join(\",\")}}`]}let r=this.valueContent.distance;if(r){let s=[];r.max&&(s=[...s,`max:${r.max}`]),t=[...t,`distance:{${s.join(\",\")}}`]}return`{${t.join(\",\")}}`}validate(){if(!this.operator)throw new Error(\"where filter: operator cannot be empty\");if(!this.operands){if(!this.valueType)throw new Error(\"where filter: value<Type> cannot be empty\");if(!this.path)throw new Error(\"where filter: path cannot be empty\")}}parse(){for(let t in this.source)switch(t){case\"operator\":this.parseOperator(this.source[t]);break;case\"operands\":this.parseOperands(this.source[t]);break;case\"path\":this.parsePath(this.source[t]);break;default:if(t.indexOf(\"value\")!=0)throw new Error(\"where filter: unrecognized key '\"+t+\"'\");this.parseValue(t,this.source[t])}}parseOperator(t){if(typeof t!=\"string\")throw new Error(\"where filter: operator must be a string\");this.operator=t}parsePath(t){if(!Array.isArray(t))throw new Error(\"where filter: path must be an array\");this.path=t}parseValue(t,e){switch(t){case\"valueString\":case\"valueText\":case\"valueInt\":case\"valueNumber\":case\"valueDate\":case\"valueBoolean\":case\"valueStringArray\":case\"valueTextArray\":case\"valueIntArray\":case\"valueNumberArray\":case\"valueDateArray\":case\"valueBooleanArray\":case\"valueGeoRange\":break;default:throw new Error(\"where filter: unrecognized value prop '\"+t+\"'\")}this.valueType=t,this.valueContent=e}parseOperands(t){if(!Array.isArray(t))throw new Error(\"where filter: operands must be an array\");this.operands=t.map(e=>new l(e).toString()).join(\",\")}};var p=class{constructor(t){this.certainty=t.certainty,this.distance=t.distance,this.media=t.media,this.type=t.type,this.targetVectors=t.targetVectors}toString(t=!0){let e=[];if(this.media.startsWith(\"data:\")){let r=\";base64,\";this.media=this.media.substring(this.media.indexOf(r)+r.length)}return e=[...e,`${this.type.toLowerCase()}:${JSON.stringify(this.media)}`],this.certainty&&(e=[...e,`certainty:${this.certainty}`]),this.distance&&(e=[...e,`distance:${this.distance}`]),this.targetVectors&&this.targetVectors.length>0&&(e=[...e,`targetVectors:${JSON.stringify(this.targetVectors)}`]),t?`{${e.join(\",\")}}`:`${e.join(\",\")}`}};var u=class{constructor(t){this.autocorrect=t.autocorrect,this.certainty=t.certainty,this.concepts=t.concepts,this.distance=t.distance,this.moveAwayFrom=t.moveAwayFrom,this.moveTo=t.moveTo,this.targetVectors=t.targetVectors}toString(){this.validate();let t=[`concepts:${JSON.stringify(this.concepts)}`];return this.certainty&&(t=[...t,`certainty:${this.certainty}`]),this.distance&&(t=[...t,`distance:${this.distance}`]),this.targetVectors&&this.targetVectors.length>0&&(t=[...t,`targetVectors:${JSON.stringify(this.targetVectors)}`]),this.moveTo&&(t=[...t,ve(\"moveTo\",this.moveTo)]),this.moveAwayFrom&&(t=[...t,ve(\"moveAwayFrom\",this.moveAwayFrom)]),this.autocorrect!==void 0&&(t=[...t,`autocorrect:${this.autocorrect}`]),`{${t.join(\",\")}}`}validate(){if(this.moveTo){if(!this.moveTo.concepts&&!this.moveTo.objects)throw new Error(\"nearText filter: moveTo.concepts or moveTo.objects must be present\");if(!this.moveTo.force||!this.moveTo.concepts&&!this.moveTo.objects)throw new Error(\"nearText filter: moveTo must have fields 'concepts' or 'objects' and 'force'\")}if(this.moveAwayFrom){if(!this.moveAwayFrom.concepts&&!this.moveAwayFrom.objects)throw new Error(\"nearText filter: moveAwayFrom.concepts or moveAwayFrom.objects must be present\");if(!this.moveAwayFrom.force||!this.moveAwayFrom.concepts&&!this.moveAwayFrom.objects)throw new Error(\"nearText filter: moveAwayFrom must have fields 'concepts' or 'objects' and 'force'\")}}};function gt(i,t){let e=[];for(let r in t){if(!t[r].id&&!t[r].beacon)throw new Error(`nearText: ${i}.objects[${r}].id or ${i}.objects[${r}].beacon must be present`);let s=[];t[r].id&&s.push(`id:\"${t[r].id}\"`),t[r].beacon&&s.push(`beacon:\"${t[r].beacon}\"`),e.push(`{${s.join(\",\")}}`)}return`[${e.join(\",\")}]`}function ve(i,t){let e=[];return t.concepts&&(e=[...e,`concepts:${JSON.stringify(t.concepts)}`]),t.objects&&(e=[...e,`objects:${gt(i,t.objects)}`]),t.force&&(e=[...e,`force:${t.force}`]),`${i}:{${e.join(\",\")}}`}var m=class{constructor(t){this.certainty=t.certainty,this.distance=t.distance,this.vector=t.vector,this.targetVectors=t.targetVectors}toString(t=!0){let e=[`vector:${JSON.stringify(this.vector)}`];return this.certainty&&(e=[...e,`certainty:${this.certainty}`]),this.distance&&(e=[...e,`distance:${this.distance}`]),this.targetVectors&&this.targetVectors.length>0&&(e=[...e,`targetVectors:${JSON.stringify(this.targetVectors)}`]),t?`{${e.join(\",\")}}`:`${e.join(\",\")}`}};var f=class{constructor(t){this.beacon=t.beacon,this.certainty=t.certainty,this.distance=t.distance,this.id=t.id,this.targetVectors=t.targetVectors}toString(t=!0){this.validate();let e=[];return this.id&&(e=[...e,`id:${JSON.stringify(this.id)}`]),this.beacon&&(e=[...e,`beacon:${JSON.stringify(this.beacon)}`]),this.certainty&&(e=[...e,`certainty:${this.certainty}`]),this.distance&&(e=[...e,`distance:${this.distance}`]),this.targetVectors&&this.targetVectors.length>0&&(e=[...e,`targetVectors:${JSON.stringify(this.targetVectors)}`]),t?`{${e.join(\",\")}}`:`${e.join(\",\")}`}validate(){if(!this.id&&!this.beacon)throw new Error(\"nearObject filter: id or beacon needs to be set\")}};function vt(i){return Number.isInteger(i)}function Ke(i){return vt(i)&&i>=0}var n=class{constructor(t){this.client=t,this._errors=[]}get errors(){return this._errors}addError(t){this._errors=[...this.errors,t]}addErrors(t){this._errors=[...this.errors,...t]}};var $=class extends n{constructor(e){super(e);this.withFields=e=>(this.fields=e,this);this.withClassName=e=>(this.className=e,this);this.withWhere=e=>{try{this.whereString=new l(e).toString()}catch(r){this.addError(r)}return this};this.withNearMedia=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearMediaString=new p(e).toString(),this.nearMediaType=e.type,this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withNearImage=e=>this.withNearMedia({...e,media:e.image,type:\"Image\"});this.withNearAudio=e=>this.withNearMedia({...e,media:e.audio,type:\"Audio\"});this.withNearVideo=e=>this.withNearMedia({...e,media:e.video,type:\"Video\"});this.withNearDepth=e=>this.withNearMedia({...e,media:e.depth,type:\"Depth\"});this.withNearIMU=e=>this.withNearMedia({...e,media:e.imu,type:\"IMU\"});this.withNearText=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearTextString=new u(e).toString(),this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withNearObject=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearObjectString=new f(e).toString(),this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withNearVector=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearVectorString=new m(e).toString(),this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withObjectLimit=e=>{if(!Ke(e))throw new Error(\"objectLimit must be a non-negative integer\");return this.objectLimit=e,this};this.withLimit=e=>(this.limit=e,this);this.withGroupBy=e=>(this.groupBy=e,this);this.withTenant=e=>(this.tenant=e,this);this.validateGroup=()=>{if(this.groupBy&&!Array.isArray(this.groupBy))throw new Error(\"groupBy must be an array\")};this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateGroup(),this.validateIsSet(this.className,\"className\",\".withClassName(className)\"),this.validateIsSet(this.fields,\"fields\",\".withFields(fields)\")};this.do=()=>{let e=\"\";if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));if(this.whereString||this.nearTextString||this.nearObjectString||this.nearVectorString||this.limit||this.groupBy||this.tenant){let r=[];this.whereString&&(r=[...r,`where:${this.whereString}`]),this.nearTextString&&(r=[...r,`nearText:${this.nearTextString}`]),this.nearObjectString&&(r=[...r,`nearObject:${this.nearObjectString}`]),this.nearVectorString&&(r=[...r,`nearVector:${this.nearVectorString}`]),this.nearMediaString&&(r=[...r,`${this.nearMediaType}:${this.nearMediaString}`]),this.groupBy&&(r=[...r,`groupBy:${JSON.stringify(this.groupBy)}`]),this.limit&&(r=[...r,`limit:${this.limit}`]),this.objectLimit&&(r=[...r,`objectLimit:${this.objectLimit}`]),this.tenant&&(r=[...r,`tenant:\"${this.tenant}\"`]),e=`(${r.join(\",\")})`}return this.client.query(`{Aggregate{${this.className}${e}{${this.fields}}}}`)};this.includesNearMediaFilter=!1}};var ye=class{constructor(t){this.properties=t.properties,this.query=t.query}toString(){let t=[`query:${JSON.stringify(this.query)}`];return this.properties!==void 0&&(t=[...t,`properties:${JSON.stringify(this.properties)}`]),`{${t.join(\",\")}}`}};var _e=(e=>(e.rankedFusion=\"rankedFusion\",e.relativeScoreFusion=\"relativeScoreFusion\",e))(_e||{}),qe=class{constructor(t){this.nearText=t.nearText,this.nearVector=t.nearVector}toString(){let t=[];if(this.nearText!==void 0){let e=[`concepts:${JSON.stringify(this.nearText.concepts)}`];this.nearText.certainty&&(e=[...e,`certainty:${this.nearText.certainty}`]),this.nearText.distance&&(e=[...e,`distance:${this.nearText.distance}`]),this.nearText.moveTo&&(e=[...e,ve(\"moveTo\",this.nearText.moveTo)]),this.nearText.moveAwayFrom&&(e=[...e,ve(\"moveAwayFrom\",this.nearText.moveAwayFrom)]),t=[...t,`nearText:{${e.join(\",\")}}`]}if(this.nearVector!==void 0){let e=[`vector:${JSON.stringify(this.nearVector.vector)}`];this.nearVector.certainty&&(e=[...e,`certainty:${this.nearVector.certainty}`]),this.nearVector.distance&&(e=[...e,`distance:${this.nearVector.distance}`]),this.nearVector.targetVectors&&this.nearVector.targetVectors.length>0&&(e=[...e,`targetVectors:${JSON.stringify(this.nearVector.targetVectors)}`]),t=[...t,`nearVector:{${e.join(\",\")}}`]}return`{${t.join(\",\")}}`}},we=class{constructor(t){this.alpha=t.alpha,this.query=t.query,this.vector=t.vector,this.properties=t.properties,this.targetVectors=t.targetVectors,this.fusionType=t.fusionType,this.searches=t.searches?.map(e=>new qe(e))}toString(){let t=[`query:${JSON.stringify(this.query)}`];return this.alpha!==void 0&&(t=[...t,`alpha:${JSON.stringify(this.alpha)}`]),this.vector!==void 0&&(t=[...t,`vector:${JSON.stringify(this.vector)}`]),this.properties&&this.properties.length>0&&(t=[...t,`properties:${JSON.stringify(this.properties)}`]),this.targetVectors&&this.targetVectors.length>0&&(t=[...t,`targetVectors:${JSON.stringify(this.targetVectors)}`]),this.fusionType!==void 0&&(t=[...t,`fusionType:${this.fusionType}`]),this.searches!==void 0&&(t=[...t,`searches:[${this.searches.map(e=>e.toString()).join(\",\")}]`]),`{${t.join(\",\")}}`}};var S=class{constructor(t){this.certainty=t.certainty,this.distance=t.distance,this.image=t.image,this.targetVectors=t.targetVectors}toString(t=!0){this.validate();let e=[];if(this.image){let r=this.image;if(r.startsWith(\"data:\")){let s=\";base64,\";r=r.substring(r.indexOf(s)+s.length)}e=[...e,`image:${JSON.stringify(r)}`]}return this.certainty&&(e=[...e,`certainty:${this.certainty}`]),this.distance&&(e=[...e,`distance:${this.distance}`]),this.targetVectors&&this.targetVectors.length>0&&(e=[...e,`targetVectors:${JSON.stringify(this.targetVectors)}`]),t?`{${e.join(\",\")}}`:`${e.join(\",\")}`}validate(){if(!this.image)throw new Error(\"nearImage filter: image field must be present\")}};var A=class{constructor(t){this.autocorrect=t.autocorrect,this.certainty=t.certainty,this.distance=t.distance,this.properties=t.properties,this.question=t.question,this.rerank=t.rerank}toString(t=!0){this.validate();let e=[];return this.question&&(e=[...e,`question:${JSON.stringify(this.question)}`]),this.properties&&(e=[...e,`properties:${JSON.stringify(this.properties)}`]),this.certainty&&(e=[...e,`certainty:${this.certainty}`]),this.distance&&(e=[...e,`distance:${this.distance}`]),this.autocorrect!==void 0&&(e=[...e,`autocorrect:${this.autocorrect}`]),this.rerank!==void 0&&(e=[...e,`rerank:${this.rerank}`]),t?`{${e.join(\",\")}}`:`${e.join(\",\")}`}validate(){if(!this.question)throw new Error(\"ask filter: question needs to be set\")}};var be=class{constructor(t){this.args=t}toString(){let t=[];return this.args.type&&(t=[...t,`type:${this.args.type}`]),this.args.force&&(t=[...t,`force:${this.args.force}`]),`{${t.join(\",\")}}`}};var Ce=class{constructor(t){this.args=t}toString(){let t=[];for(let e of this.args){let r=`{path:${JSON.stringify(e.path)}`;e.order?r=r.concat(`,order:${e.order}}`):r=r.concat(\"}\"),t.push(r)}return t.join(\",\")}};var je=class{constructor(t){this.groupedTask=t.groupedTask,this.groupedProperties=t.groupedProperties,this.singlePrompt=t.singlePrompt}toString(){this.validate();let t=\"generate(\",e=[\"error\"];if(this.singlePrompt&&(t+=`singleResult:{prompt:\"${this.singlePrompt.replace(/[\\n\\r]+/g,\"\")}\"}`,e.push(\"singleResult\")),this.groupedTask||this.groupedProperties!==void 0&&this.groupedProperties.length>0){let r=[];this.groupedTask&&r.push(`task:\"${this.groupedTask.replace(/[\\n\\r]+/g,\"\")}\"`),this.groupedProperties!==void 0&&this.groupedProperties.length>0&&r.push(`properties:${JSON.stringify(this.groupedProperties)}`),t+=`groupedResult:{${r.join(\",\")}}`,e.push(\"groupedResult\")}return t+=`){${e.join(\" \")}}`,t}validate(){if(!this.groupedTask&&!this.singlePrompt)throw new Error(\"must provide at least one of `singlePrompt` or `groupTask`\");if(this.groupedTask!==void 0&&this.groupedTask==\"\")throw new Error(\"groupedTask must not be empty\");if(this.singlePrompt!==void 0&&this.singlePrompt==\"\")throw new Error(\"singlePrompt must not be empty\")}};var Ne=class{constructor(t){this.args=t}toString(){let t=[];return this.args.path&&(t=[...t,`path:${JSON.stringify(this.args.path)}`]),this.args.groups&&(t=[...t,`groups:${this.args.groups}`]),this.args.objectsPerGroup&&(t=[...t,`objectsPerGroup:${this.args.objectsPerGroup}`]),`{${t.join(\",\")}}`}};var B=class extends n{constructor(e){super(e);this.withFields=e=>(this.fields=e,this);this.withClassName=e=>(this.className=e,this);this.withAfter=e=>(this.after=e,this);this.withGroup=e=>{try{this.groupString=new be(e).toString()}catch(r){this.addError(r.toString())}return this};this.withWhere=e=>{try{this.whereString=new l(e).toString()}catch(r){this.addError(r.toString())}return this};this.withNearText=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");return this.nearTextString=new u(e).toString(),this.includesNearMediaFilter=!0,this};this.withBm25=e=>{try{this.bm25String=new ye(e).toString()}catch(r){this.addError(r.toString())}return this};this.withHybrid=e=>{try{this.hybridString=new we(e).toString()}catch(r){this.addError(r.toString())}return this};this.withNearObject=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearObjectString=new f(e).toString(),this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withAsk=e=>{try{this.askString=new A(e).toString()}catch(r){this.addError(r.toString())}return this};this.withNearMedia=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearMediaString=new p(e).toString(),this.nearMediaType=e.type,this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withNearImage=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearMediaString=new S(e).toString(),this.nearMediaType=\"Image\",this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withNearAudio=e=>this.withNearMedia({...e,type:\"Audio\",media:e.audio});this.withNearVideo=e=>this.withNearMedia({...e,type:\"Video\",media:e.video});this.withNearThermal=e=>this.withNearMedia({...e,type:\"Thermal\",media:e.thermal});this.withNearDepth=e=>this.withNearMedia({...e,type:\"Depth\",media:e.depth});this.withNearIMU=e=>this.withNearMedia({...e,type:\"IMU\",media:e.imu});this.withNearVector=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearVectorString=new m(e).toString(),this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withLimit=e=>(this.limit=e,this);this.withOffset=e=>(this.offset=e,this);this.withAutocut=e=>(this.autocut=e,this);this.withSort=e=>(this.sortString=new Ce(e).toString(),this);this.withGenerate=e=>(this.generateString=new je(e).toString(),this);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.withGroupBy=e=>{try{this.groupByString=new Ne(e).toString()}catch(r){this.addError(r.toString())}return this};this.withTenant=e=>(this.tenant=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.className,\"className\",\".withClassName(className)\"),this.validateIsSet(this.fields,\"fields\",\".withFields(fields)\")};this.do=()=>{let e=\"\";if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let r=[];return this.whereString&&(r=[...r,`where:${this.whereString}`]),this.nearTextString&&(r=[...r,`nearText:${this.nearTextString}`]),this.nearObjectString&&(r=[...r,`nearObject:${this.nearObjectString}`]),this.askString&&(r=[...r,`ask:${this.askString}`]),this.nearMediaString&&(r=[...r,`near${this.nearMediaType}:${this.nearMediaString}`]),this.nearVectorString&&(r=[...r,`nearVector:${this.nearVectorString}`]),this.bm25String&&(r=[...r,`bm25:${this.bm25String}`]),this.hybridString&&(r=[...r,`hybrid:${this.hybridString}`]),this.groupString&&(r=[...r,`group:${this.groupString}`]),this.limit&&(r=[...r,`limit:${this.limit}`]),this.offset&&(r=[...r,`offset:${this.offset}`]),this.autocut&&(r=[...r,`autocut:${this.autocut}`]),this.sortString&&(r=[...r,`sort:[${this.sortString}]`]),this.after&&(r=[...r,`after:\"${this.after}\"`]),this.generateString&&(this.fields?.includes(\"_additional\")?this.fields.replace(\"_additional{\",`_additional{${this.generateString}`):this.fields=this.fields?.concat(` _additional{${this.generateString}}`)),this.consistencyLevel&&(r=[...r,`consistencyLevel:${this.consistencyLevel}`]),this.groupByString&&(r=[...r,`groupBy:${this.groupByString}`]),this.tenant&&(r=[...r,`tenant:\"${this.tenant}\"`]),r.length>0&&(e=`(${r.join(\",\")})`),this.client.query(`{Get{${this.className}${e}{${this.fields}}}}`)};this.includesNearMediaFilter=!1}};var E=class extends n{constructor(e){super(e);this.withFields=e=>(this.fields=e,this);this.withLimit=e=>(this.limit=e,this);this.withNearText=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearTextString=new u(e).toString()}catch(r){this.addError(r.toString())}return this};this.withNearObject=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearObjectString=new f(e).toString()}catch(r){this.addError(r.toString())}return this};this.withAsk=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.askString=new A(e).toString()}catch(r){this.addError(r.toString())}return this};this.withNearMedia=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearMediaString=new p(e).toString(),this.nearMediaType=e.type,this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withNearImage=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearMediaString=new S(e).toString(),this.nearMediaType=\"Image\",this.includesNearMediaFilter=!0}catch(r){this.addError(r.toString())}return this};this.withNearAudio=e=>this.withNearMedia({...e,media:e.audio,type:\"Audio\"});this.withNearVideo=e=>this.withNearMedia({...e,media:e.video,type:\"Video\"});this.withNearDepth=e=>this.withNearMedia({...e,media:e.depth,type:\"Depth\"});this.withNearThermal=e=>this.withNearMedia({...e,media:e.thermal,type:\"Thermal\"});this.withNearIMU=e=>this.withNearMedia({...e,media:e.imu,type:\"IMU\"});this.withNearVector=e=>{if(this.includesNearMediaFilter)throw new Error(\"cannot use multiple near<Media> filters in a single query\");try{this.nearVectorString=new m(e).toString()}catch(r){this.addError(r.toString())}return this};this.validateGroup=()=>{if(this.group&&!Array.isArray(this.group))throw new Error(\"groupBy must be an array\")};this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.fields,\"fields\",\".withFields(fields)\")};this.do=()=>{let e=\"\";if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let r=[];return this.nearTextString&&(r=[...r,`nearText:${this.nearTextString}`]),this.nearObjectString&&(r=[...r,`nearObject:${this.nearObjectString}`]),this.askString&&(r=[...r,`ask:${this.askString}`]),this.nearMediaString&&(r=[...r,`${this.nearMediaType}:${this.nearMediaString}`]),this.nearVectorString&&(r=[...r,`nearVector:${this.nearVectorString}`]),this.limit&&(r=[...r,`limit:${this.limit}`]),e=`(${r.join(\",\")})`,this.client.query(`{Explore${e}{${this.fields}}}`)};this.params={},this.includesNearMediaFilter=!1}};var I=class extends n{constructor(e){super(e);this.withQuery=e=>(this.query=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.query,\"query\",\".raw().withQuery(query)\")};this.do=()=>{let e=\"\";return this.validate(),this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):this.query?this.client.query(this.query):Promise.resolve(void 0)}}};var yt=i=>({get:()=>new B(i),aggregate:()=>new $(i),explore:()=>new E(i),raw:()=>new I(i)}),Qe=yt;var V=class extends n{constructor(e){super(e);this.withClass=e=>(this.class=e,this);this.validateClass=()=>{(this.class==null||this.class==null)&&this.addError(\"class object must be set - set with .withClass(class)\")};this.do=()=>{if(this.validateClass(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=\"/schema\";return this.client.post(e,this.class)}}validate(){this.validateClass()}};function a(i){return typeof i==\"string\"&&i.length>0}var y=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.validate=()=>{this.validateClassName()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=`/schema/${this.className}`;return this.client.delete(e,void 0,!1)}}};var Pe=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.validate=()=>{this.validateClassName()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=\"/schema\";return this.client.get(e).then(r=>r.classes?.some(s=>s.class===this.className))}}};var R=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.validate=()=>{this.validateClassName()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=`/schema/${this.className}`;return this.client.get(e)}}};var O=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.withProperty=e=>(this.property=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.validateProperty=()=>{(this.property==null||this.property==null)&&this.addError(\"property must be set - set with .withProperty(property)\")};this.validate=()=>{this.validateClassName(),this.validateProperty()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=`/schema/${this.className}/properties`;return this.client.post(e,this.property)}}};var w=class extends n{constructor(e){super(e);this.do=()=>{if(this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=\"/schema\";return this.client.get(e)}}validate(){}};var xe=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.validate=()=>{this.validateClassName()};this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(`invalid usage: ${this.errors.join(\", \")}`)):We(this.client,this.className))}};function We(i,t){let e=`/schema/${t}/shards`;return i.get(e)}var M=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.withShardName=e=>(this.shardName=e,this);this.validateShardName=()=>{a(this.shardName)||this.addError(\"shardName must be set - set with .withShardName(shardName)\")};this.withStatus=e=>(this.status=e,this);this.validateStatus=()=>{a(this.status)||this.addError(\"status must be set - set with .withStatus(status)\")};this.validate=()=>{this.validateClassName(),this.validateShardName(),this.validateStatus()};this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(`invalid usage: ${this.errors.join(\", \")}`)):Ue(this.client,this.className,this.shardName,this.status))}};function Ue(i,t,e,r){let s=`/schema/${t}/shards/${e}`;return i.put(s,{status:r},!0)}var F=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.withStatus=e=>(this.status=e,this);this.validateStatus=()=>{a(this.status)||this.addError(\"status must be set - set with .withStatus(status)\")};this.validate=()=>{this.validateClassName(),this.validateStatus()};this.updateShards=async()=>{let e=await Promise.all(Array.from({length:this.shards.length},(r,s)=>Ue(this.client,this.className,this.shards[s].name||\"\",this.status).then(o=>({name:this.shards[s].name,status:o.status})).catch(o=>this.addError(o.toString()))));return this.errors.length>0?Promise.reject(new Error(`failed to update shards: ${this.errors.join(\", \")}`)):Promise.resolve(e)};this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(`invalid usage: ${this.errors.join(\", \")}`)):We(this.client,this.className).then(e=>this.shards=e).then(()=>this.updateShards()).then(e=>e).catch(e=>Promise.reject(e)));this.shards=[]}};var L=class extends n{constructor(e,r,s){super(e);this.validate=()=>{};this.do=()=>this.client.post(`/schema/${this.className}/tenants`,this.tenants);this.className=r,this.tenants=s}};var G=class extends n{constructor(e,r){super(e);this.validate=()=>{};this.do=()=>this.client.get(`/schema/${this.className}/tenants`);this.className=r}};var D=class extends n{constructor(e,r,s){super(e);this.validate=()=>{};this.do=()=>this.client.put(`/schema/${this.className}/tenants`,this.tenants);this.className=r,this.tenants=s}};var q=class extends n{constructor(e,r,s){super(e);this.validate=()=>{};this.do=()=>this.client.delete(`/schema/${this.className}/tenants`,this.tenants,!1);this.className=r,this.tenants=s}};var Ye=async i=>{let e=await new w(i).do();await Promise.all(e.classes?e.classes.map(r=>new y(i).withClassName(r.class).do()):[])};var _=class extends n{constructor(e,r,s){super(e);this.validate=()=>{};this.do=()=>this.client.head(`/schema/${this.className}/tenants/${this.tenant}`,void 0);this.className=r,this.tenant=s}};var wt=i=>({classCreator:()=>new V(i),classDeleter:()=>new y(i),classGetter:()=>new R(i),exists:t=>new Pe(i).withClassName(t).do(),getter:()=>new w(i),propertyCreator:()=>new O(i),deleteAll:()=>Ye(i),shardsGetter:()=>new xe(i),shardUpdater:()=>new M(i),shardsUpdater:()=>new F(i),tenantsCreator:(t,e)=>new L(i,t,e),tenantsGetter:t=>new G(i,t),tenantsUpdater:(t,e)=>new D(i,t,e),tenantsDeleter:(t,e)=>new q(i,t,e),tenantsExists:(t,e)=>new _(i,t,e)}),Xe=wt;var W=class extends n{constructor(e,r){super(e);this.withVector=e=>(this.vector=e,this);this.withVectors=e=>(this.vectors=e,this);this.withClassName=e=>(this.className=e,this);this.withProperties=e=>(this.properties=e,this);this.withId=e=>(this.id=e,this);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.withTenant=e=>(this.tenant=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.payload=()=>({tenant:this.tenant,vector:this.vector,properties:this.properties,class:this.className,id:this.id,vectors:this.vectors});this.validate=()=>{this.validateClassName()};this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):this.objectsPath.buildCreate(this.consistencyLevel).then(e=>this.client.post(e,this.payload())));this.objectsPath=r}};var U=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.withProperties=e=>(this.properties=e,this);this.withId=e=>(this.id=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with .withClassName(className)\")};this.payload=()=>({properties:this.properties,class:this.className,id:this.id});this.validate=()=>{this.validateClassName()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=\"/objects/validate\";return this.client.post(e,this.payload(),!1).then(()=>!0)}}};var J=class extends n{constructor(e,r){super(e);this.withVector=e=>(this.vector=e,this);this.withVectors=e=>(this.vectors=e,this);this.withProperties=e=>(this.properties=e,this);this.withId=e=>(this.id=e,this);this.withClassName=e=>(this.className=e,this);this.withTenant=e=>(this.tenant=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - use withClassName(className)\")};this.validateId=()=>{(this.id==null||this.id==null||this.id.length==0)&&this.addError(\"id must be set - initialize with updater(id)\")};this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.payload=()=>({tenant:this.tenant,properties:this.properties,class:this.className,id:this.id,vector:this.vector,vectors:this.vectors});this.validate=()=>{this.validateClassName(),this.validateId()};this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):this.objectsPath.buildUpdate(this.id,this.className,this.consistencyLevel).then(e=>this.client.put(e,this.payload())));this.objectsPath=r}};var H=class extends n{constructor(e,r){super(e);this.withProperties=e=>(this.properties=e,this);this.withClassName=e=>(this.className=e,this);this.withId=e=>(this.id=e,this);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.withTenant=e=>(this.tenant=e,this);this.validateClassName=()=>{a(this.className)||this.addError(\"className must be set - set with withClassName(className)\")};this.validateId=()=>{(this.id==null||this.id==null||this.id.length==0)&&this.addError(\"id must be set - set with withId(id)\")};this.payload=()=>({tenant:this.tenant,properties:this.properties,class:this.className,id:this.id});this.validate=()=>{this.validateClassName(),this.validateId()};this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):this.objectsPath.buildMerge(this.id,this.className,this.consistencyLevel).then(e=>this.client.patch(e,this.payload())));this.objectsPath=r}};var K=class extends n{constructor(e,r){super(e);this.withClassName=e=>(this.className=e,this);this.withAfter=e=>(this.after=e,this);this.withLimit=e=>(this.limit=e,this);this.withTenant=e=>(this.tenant=e,this);this.extendAdditional=e=>(this.additional=[...this.additional,e],this);this.withAdditional=e=>this.extendAdditional(e);this.withVector=()=>this.extendAdditional(\"vector\");this.do=()=>this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):this.objectsPath.buildGet(this.className,this.limit,this.additional,this.after,this.tenant).then(e=>this.client.get(e));this.objectsPath=r,this.additional=[]}validate(){}};var z=class extends n{constructor(e,r){super(e);this.withId=e=>(this.id=e,this);this.withClassName=e=>(this.className=e,this);this.withTenant=e=>(this.tenant=e,this);this.extendAdditional=e=>(this.additional=[...this.additional,e],this);this.withAdditional=e=>this.extendAdditional(e);this.withVector=()=>this.extendAdditional(\"vector\");this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.withNodeName=e=>(this.nodeName=e,this);this.validateId=()=>{(this.id==null||this.id==null||this.id.length==0)&&this.addError(\"id must be set - initialize with getterById(id)\")};this.validate=()=>{this.validateId()};this.buildPath=()=>this.objectsPath.buildGetOne(this.id,this.className,this.additional,this.consistencyLevel,this.nodeName,this.tenant);this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):this.buildPath().then(e=>this.client.get(e)));this.objectsPath=r,this.additional=[]}};var Q=class extends n{constructor(e,r){super(e);this.withId=e=>(this.id=e,this);this.withClassName=e=>(this.className=e,this);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.withTenant=e=>(this.tenant=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validateId=()=>{this.validateIsSet(this.id,\"id\",\".withId(id)\")};this.validate=()=>{this.validateId()};this.do=()=>this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):(this.validate(),this.objectsPath.buildDelete(this.id,this.className,this.consistencyLevel,this.tenant).then(e=>this.client.delete(e,void 0,!1)));this.objectsPath=r}};var Y=class extends n{constructor(e,r){super(e);this.withId=e=>(this.id=e,this);this.withClassName=e=>(this.className=e,this);this.withTenant=e=>(this.tenant=e,this);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.buildPath=()=>this.objectsPath.buildCheck(this.id,this.className,this.consistencyLevel,this.tenant);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validateId=()=>{this.validateIsSet(this.id,\"id\",\".withId(id)\")};this.validate=()=>{this.validateId()};this.do=()=>this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):(this.validate(),this.buildPath().then(e=>this.client.head(e,void 0)));this.objectsPath=r}};var X=class extends n{constructor(e,r,s){super(e);this.withId=e=>(this.id=e,this);this.withReference=e=>(this.reference=e,this);this.withReferenceProperty=e=>(this.refProp=e,this);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.withTenant=e=>(this.tenant=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.id,\"id\",\".withId(id)\"),this.validateIsSet(this.refProp,\"referenceProperty\",\".withReferenceProperty(refProp)\")};this.payload=()=>this.reference;this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));if(!this.reference.beacon)throw new Error(\"reference beacon must be set\");return Promise.all([this.referencesPath.build(this.id,this.className,this.refProp,this.consistencyLevel,this.tenant),this.beaconPath.rebuild(this.reference.beacon)]).then(e=>{let r=e[0],s=e[1];return this.client.post(r,{beacon:s},!1)})};this.referencesPath=r,this.beaconPath=s}withClassName(e){return this.className=e,this}};var Z=class extends n{constructor(e,r,s){super(e);this.withId=e=>(this.id=e,this);this.withReferences=e=>(this.references=e,this);this.withReferenceProperty=e=>(this.refProp=e,this);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.withTenant=e=>(this.tenant=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.id,\"id\",\".withId(id)\"),this.validateIsSet(this.refProp,\"referenceProperty\",\".withReferenceProperty(refProp)\")};this.payload=()=>this.references;this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=Array.isArray(this.references)?Promise.all(this.references.map(r=>this.rebuildReferencePromise(r))):Promise.resolve([]);return Promise.all([this.referencesPath.build(this.id,this.className,this.refProp,this.consistencyLevel,this.tenant),e]).then(r=>{let s=r[0],o=r[1];return this.client.put(s,o,!1)})};this.beaconPath=s,this.referencesPath=r}withClassName(e){return this.className=e,this}rebuildReferencePromise(e){return this.beaconPath.rebuild(e.beacon).then(r=>({beacon:r}))}};var ee=class extends n{constructor(e,r,s){super(e);this.withId=e=>(this.id=e,this);this.withReference=e=>(this.reference=e,this);this.withReferenceProperty=e=>(this.refProp=e,this);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.withTenant=e=>(this.tenant=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.id,\"id\",\".withId(id)\"),this.validateIsSet(this.refProp,\"referenceProperty\",\".withReferenceProperty(refProp)\")};this.payload=()=>this.reference;this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));if(!this.reference.beacon)throw new Error(\"reference beacon must be set\");return Promise.all([this.referencesPath.build(this.id,this.className,this.refProp,this.consistencyLevel,this.tenant),this.beaconPath.rebuild(this.reference.beacon)]).then(e=>{let r=e[0],s=e[1];return this.client.delete(r,{beacon:s},!1)})};this.referencesPath=r,this.beaconPath=s}withClassName(e){return this.className=e,this}};var te=class extends n{constructor(e){super(e);this.withId=e=>(this.id=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.id,\"id\",\".withId(id)\")};this.payload=()=>{if(this.validate(),this.errors.length>0)throw new Error(this.errors.join(\", \"));let e=\"weaviate://localhost\";return a(this.className)&&(e=`${e}/${this.className}`),{beacon:`${e}/${this.id}`}}}withClassName(e){return this.className=e,this}do(){return Promise.reject(new Error(\"Should never be called\"))}};function $e(i){if(typeof i==\"string\"){let t=i.split(\".\");if(t.length>=2){let e=parseInt(t[0],10),r=parseInt(t[1],10);return!(e<=1&&r<16)}}return!0}var Ze=\"/objects\",Be=class{constructor(t){this.dbVersionSupport=t}buildCreate(t){return this.build({consistencyLevel:t},[this.addQueryParams])}buildDelete(t,e,r,s){return this.build({id:t,className:e,consistencyLevel:r,tenant:s},[this.addClassNameDeprecatedNotSupportedCheck,this.addId,this.addQueryParams])}buildCheck(t,e,r,s){return this.build({id:t,className:e,consistencyLevel:r,tenant:s},[this.addClassNameDeprecatedNotSupportedCheck,this.addId,this.addQueryParams])}buildGetOne(t,e,r,s,o,h){return this.build({id:t,className:e,additional:r,consistencyLevel:s,nodeName:o,tenant:h},[this.addClassNameDeprecatedNotSupportedCheck,this.addId,this.addQueryParams])}buildGet(t,e,r,s,o){return this.build({className:t,limit:e,additional:r,after:s,tenant:o},[this.addQueryParamsForGet])}buildUpdate(t,e,r){return this.build({id:t,className:e,consistencyLevel:r},[this.addClassNameDeprecatedCheck,this.addId,this.addQueryParams])}buildMerge(t,e,r){return this.build({id:t,className:e,consistencyLevel:r},[this.addClassNameDeprecatedCheck,this.addId,this.addQueryParams])}build(t,e){return this.dbVersionSupport.supportsClassNameNamespacedEndpointsPromise().then(r=>{let s=Ze;return e.forEach(o=>{s=o(t,s,r)}),s})}addClassNameDeprecatedNotSupportedCheck(t,e,r){if(r.supports){if(a(t.className))return`${e}/${t.className}`;r.warns.deprecatedNonClassNameNamespacedEndpointsForObjects()}else r.warns.notSupportedClassNamespacedEndpointsForObjects();return e}addClassNameDeprecatedCheck(t,e,r){if(r.supports){if(a(t.className))return`${e}/${t.className}`;r.warns.deprecatedNonClassNameNamespacedEndpointsForObjects()}return e}addId(t,e){return a(t.id)?`${e}/${t.id}`:e}addQueryParams(t,e){let r=[];return Array.isArray(t.additional)&&t.additional.length>0&&r.push(`include=${t.additional.join(\",\")}`),a(t.nodeName)&&r.push(`node_name=${t.nodeName}`),a(t.consistencyLevel)&&r.push(`consistency_level=${t.consistencyLevel}`),a(t.tenant)&&r.push(`tenant=${t.tenant}`),r.length>0?`${e}?${r.join(\"&\")}`:e}addQueryParamsForGet(t,e,r){let s=[];return Array.isArray(t.additional)&&t.additional.length>0&&s.push(`include=${t.additional.join(\",\")}`),typeof t.limit==\"number\"&&t.limit>0&&s.push(`limit=${t.limit}`),a(t.className)&&(r.supports?s.push(`class=${t.className}`):r.warns.notSupportedClassParameterInEndpointsForObjects()),a(t.after)&&s.push(`after=${t.after}`),a(t.tenant)&&s.push(`tenant=${t.tenant}`),s.length>0?`${e}?${s.join(\"&\")}`:e}},Ee=class{constructor(t){this.dbVersionSupport=t}build(t,e,r,s,o){return this.dbVersionSupport.supportsClassNameNamespacedEndpointsPromise().then(h=>{let c=Ze;h.supports?a(e)?c=`${c}/${e}`:h.warns.deprecatedNonClassNameNamespacedEndpointsForReferences():h.warns.notSupportedClassNamespacedEndpointsForReferences(),h.version&&($e(h.version)||h.warns.deprecatedWeaviateTooOld()),a(t)&&(c=`${c}/${t}`),c=`${c}/references`,a(r)&&(c=`${c}/${r}`);let d=[];return a(s)&&d.push(`consistency_level=${s}`),a(o)&&d.push(`tenant=${o}`),d.length>0&&(c=`${c}?${d.join(\"&\")}`),c})}};var bt=\"weaviate://localhost\",re=class{constructor(t){this.dbVersionSupport=t,this.beaconRegExp=/^weaviate:\\/\\/localhost(\\/([^\\\\/]+))?(\\/([^\\\\/]+))?[\\\\/]?$/gi}async rebuild(t){let e=await this.dbVersionSupport.supportsClassNameNamespacedEndpointsPromise(),r=new RegExp(this.beaconRegExp).exec(t);if(!r)return t;let s,o;r[4]!==void 0?(o=r[4],s=r[2]):o=r[2];let h=bt;return e.supports?a(s)?h=`${h}/${s}`:e.warns.deprecatedNonClassNameNamespacedEndpointsForBeacons():e.warns.notSupportedClassNamespacedEndpointsForBeacons(),e.version&&($e(e.version)||e.warns.deprecatedWeaviateTooOld()),a(o)&&(h=`${h}/${o}`),h}};var Ct=(i,t)=>{let e=new Be(t),r=new Ee(t),s=new re(t);return{creator:()=>new W(i,e),validator:()=>new U(i),updater:()=>new J(i,e),merger:()=>new H(i,e),getter:()=>new K(i,e),getterById:()=>new z(i,e),deleter:()=>new Q(i,e),checker:()=>new Y(i,e),referenceCreator:()=>new X(i,r,s),referenceReplacer:()=>new Z(i,r,s),referenceDeleter:()=>new ee(i,r,s),referencePayloadBuilder:()=>new te(i)}},et=Ct;var b=class extends n{constructor(e){super(e);this.withId=e=>(this.id=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validateId=()=>{this.validateIsSet(this.id,\"id\",\".withId(id)\")};this.validate=()=>{this.validateId()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=`/classifications/${this.id}`;return this.client.get(e)}}};var ie=class extends n{constructor(e){super(e);this.withType=e=>(this.type=e,this);this.withSettings=e=>(this.settings=e,this);this.withClassName=e=>(this.className=e,this);this.withClassifyProperties=e=>(this.classifyProperties=e,this);this.withBasedOnProperties=e=>(this.basedOnProperties=e,this);this.withWaitForCompletion=()=>(this.waitForCompletion=!0,this);this.withWaitTimeout=e=>(this.waitTimeout=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validateClassName=()=>{this.validateIsSet(this.className,\"className\",\".withClassName(className)\")};this.validateBasedOnProperties=()=>{this.validateIsSet(this.basedOnProperties,\"basedOnProperties\",\".withBasedOnProperties(basedOnProperties)\")};this.validateClassifyProperties=()=>{this.validateIsSet(this.classifyProperties,\"classifyProperties\",\".withClassifyProperties(classifyProperties)\")};this.validate=()=>{this.validateClassName(),this.validateClassifyProperties(),this.validateBasedOnProperties()};this.payload=()=>({type:this.type,settings:this.settings,class:this.className,classifyProperties:this.classifyProperties,basedOnProperties:this.basedOnProperties});this.pollForCompletion=e=>new Promise((r,s)=>{let o=setTimeout(()=>{clearInterval(h),clearTimeout(o),s(new Error(\"classification didn't finish within configured timeout, set larger timeout with .withWaitTimeout(timeout)\"))},this.waitTimeout),h=setInterval(()=>{new b(this.client).withId(e).do().then(c=>{c.status===\"completed\"&&(clearInterval(h),clearTimeout(o),r(c))})},500)});this.do=()=>{if(this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));this.validate();let e=\"/classifications\";return this.client.post(e,this.payload()).then(r=>this.waitForCompletion?this.pollForCompletion(r.id):Promise.resolve(r))};this.waitTimeout=10*60*1e3,this.waitForCompletion=!1}};var Nt=i=>({scheduler:()=>new ie(i),getter:()=>new b(i)}),tt=Nt;function Ie(i){return it(\"/batch/objects\",i)}function rt(i){return it(\"/batch/references\",i)}function it(i,t){return t&&t.toString()!=\"\"&&(i=`${i}?${t.toString()}`),i}var se=class extends n{constructor(e){super(e);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.payload=()=>({objects:this.objects});this.validateObjectCount=()=>{this.objects.length==0&&this.addError(\"need at least one object to send a request, add one with .withObject(obj)\")};this.validate=()=>{this.validateObjectCount()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=new URLSearchParams;this.consistencyLevel&&e.set(\"consistency_level\",this.consistencyLevel);let r=Ie(e);return this.client.post(r,this.payload())};this.objects=[]}withObjects(...e){let r=e;return e.length&&Array.isArray(e[0])&&(r=e[0]),this.objects=[...this.objects,...r],this}withObject(e){return this.withObjects(e)}};var ne=class extends n{constructor(e){super(e);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.payload=()=>({match:{class:this.className,where:this.whereFilter},output:this.output,dryRun:this.dryRun});this.validateClassName=()=>{a(this.className)||this.addError(\"string className must be set - set with .withClassName(className)\")};this.validateWhereFilter=()=>{typeof this.whereFilter!=\"object\"&&this.addError(\"object where must be set - set with .withWhere(whereFilter)\")};this.validate=()=>{this.validateClassName(),this.validateWhereFilter()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=new URLSearchParams;this.consistencyLevel&&e.set(\"consistency_level\",this.consistencyLevel),this.tenant&&e.set(\"tenant\",this.tenant);let r=Ie(e);return this.client.delete(r,this.payload(),!0)}}withClassName(e){return this.className=e,this}withWhere(e){return this.whereFilter=e,this}withOutput(e){return this.output=e,this}withDryRun(e){return this.dryRun=e,this}withTenant(e){return this.tenant=e,this}};var ae=class extends n{constructor(e,r){super(e);this.withConsistencyLevel=e=>(this.consistencyLevel=e,this);this.payload=()=>this.references;this.validateReferenceCount=()=>{this.references.length==0&&this.addError(\"need at least one reference to send a request, add one with .withReference(obj)\")};this.validate=()=>{this.validateReferenceCount()};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=new URLSearchParams;this.consistencyLevel&&e.set(\"consistency_level\",this.consistencyLevel);let r=rt(e);return Promise.all(this.references.map(o=>this.rebuildReferencePromise(o))).then(o=>this.client.post(r,o))};this.rebuildReferencePromise=e=>this.beaconPath.rebuild(e.to).then(r=>({from:e.from,to:r,tenant:e.tenant}));this.beaconPath=r,this.references=[]}withReferences(...e){let r=e;return e.length&&Array.isArray(e[0])&&(r=e[0]),this.references=[...this.references,...r],this}withReference(e){return this.withReferences(e)}};var Se=class extends n{constructor(e){super(e);this.withFromId=e=>(this.fromId=e,this);this.withToId=e=>(this.toId=e,this);this.withFromClassName=e=>(this.fromClassName=e,this);this.withFromRefProp=e=>(this.fromRefProp=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.fromId,\"fromId\",\".withFromId(id)\"),this.validateIsSet(this.toId,\"toId\",\".withToId(id)\"),this.validateIsSet(this.fromClassName,\"fromClassName\",\".withFromClassName(className)\"),this.validateIsSet(this.fromRefProp,\"fromRefProp\",\".withFromRefProp(refProp)\")};this.payload=()=>{if(this.validate(),this.errors.length>0)throw new Error(this.errors.join(\", \"));let e=\"weaviate://localhost\";return a(this.toClassName)&&(e=`${e}/${this.toClassName}`),{from:`weaviate://localhost/${this.fromClassName}/${this.fromId}/${this.fromRefProp}`,to:`${e}/${this.toId}`}};this.do=()=>Promise.reject(new Error(\"Should never be called\"))}withToClassName(e){return this.toClassName=e,this}};var Pt=(i,t)=>{let e=new re(t);return{objectsBatcher:()=>new se(i),objectsBatchDeleter:()=>new ne(i),referencesBatcher:()=>new ae(i,e),referencePayloadBuilder:()=>new Se(i)}},st=Pt;var oe=class extends n{constructor(e,r){super(e);this.do=()=>this.client.get(\"/.well-known/live\",!1).then(()=>(setTimeout(()=>this.dbVersionProvider.refresh()),Promise.resolve(!0))).catch(()=>Promise.resolve(!1));this.dbVersionProvider=r}validate(){}};var he=class extends n{constructor(e,r){super(e);this.do=()=>this.client.get(\"/.well-known/ready\",!1).then(()=>(setTimeout(()=>this.dbVersionProvider.refresh()),Promise.resolve(!0))).catch(()=>Promise.resolve(!1));this.dbVersionProvider=r}validate(){}};var C=class extends n{constructor(e){super(e);this.do=()=>this.client.get(\"/meta\",!0)}validate(){}};var xt=(i,t)=>({liveChecker:()=>new oe(i,t),readyChecker:()=>new he(i,t),metaGetter:()=>new C(i),openidConfigurationGetter:()=>new g(i.http)}),nt=xt;var ce=class extends n{constructor(e){super(e);this.withConcept=e=>(this.concept=e,this);this.withDefinition=e=>(this.definition=e,this);this.withWeight=e=>(this.weight=e,this);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.validate=()=>{this.validateIsSet(this.concept,\"concept\",\"withConcept(concept)\"),this.validateIsSet(this.definition,\"definition\",\"withDefinition(definition)\"),this.validateIsSet(this.weight?.toString()||\"\",\"weight\",\"withWeight(weight)\")};this.payload=()=>({concept:this.concept,definition:this.definition,weight:this.weight});this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=\"/modules/text2vec-contextionary/extensions\";return this.client.post(e,this.payload())}}};var de=class extends n{constructor(e){super(e);this.validateIsSet=(e,r,s)=>{(e==null||e==null||e.length==0)&&this.addError(`${r} must be set - set with ${s}`)};this.withConcept=e=>(this.concept=e,this);this.validate=()=>{this.validateIsSet(this.concept,\"concept\",\"withConcept(concept)\")};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e=`/modules/text2vec-contextionary/concepts/${this.concept}`;return this.client.get(e)}}};var St=i=>({conceptsGetter:()=>new de(i),extensionCreator:()=>new ce(i)}),at=St;var Ve=class{constructor(t){this.dbVersionProvider=t}supportsClassNameNamespacedEndpointsPromise(){return this.dbVersionProvider.getVersionPromise().then(t=>({version:t,supports:this.supportsClassNameNamespacedEndpoints(t),warns:{deprecatedNonClassNameNamespacedEndpointsForObjects:()=>console.warn(`Usage of objects paths without className is deprecated in Weaviate ${t}. Please provide className parameter`),deprecatedNonClassNameNamespacedEndpointsForReferences:()=>console.warn(`Usage of references paths without className is deprecated in Weaviate ${t}. Please provide className parameter`),deprecatedNonClassNameNamespacedEndpointsForBeacons:()=>console.warn(`Usage of beacons paths without className is deprecated in Weaviate ${t}. Please provide className parameter`),deprecatedWeaviateTooOld:()=>console.warn(`Usage of weaviate ${t} is deprecated. Please consider upgrading to the latest version. See https://www.weaviate.io/developers/weaviate for details.`),notSupportedClassNamespacedEndpointsForObjects:()=>console.warn(`Usage of objects paths with className is not supported in Weaviate ${t}. className parameter is ignored`),notSupportedClassNamespacedEndpointsForReferences:()=>console.warn(`Usage of references paths with className is not supported in Weaviate ${t}. className parameter is ignored`),notSupportedClassNamespacedEndpointsForBeacons:()=>console.warn(`Usage of beacons paths with className is not supported in Weaviate ${t}. className parameter is ignored`),notSupportedClassParameterInEndpointsForObjects:()=>console.warn(`Usage of objects paths with class query parameter is not supported in Weaviate ${t}. class query parameter is ignored`)}}))}supportsClassNameNamespacedEndpoints(t){if(typeof t==\"string\"){let e=t.split(\".\");if(e.length>=2){let r=parseInt(e[0],10),s=parseInt(e[1],10);return r==1&&s>=14||r>=2}}return!1}},ot=\"\",Re=class{constructor(t){this.versionGetter=t,this.emptyVersionPromise=Promise.resolve(ot),this.versionPromise=void 0}getVersionPromise(){return this.versionPromise?this.versionPromise:this.versionGetter().then(t=>this.assignPromise(t))}refresh(t=!1){return t||!this.versionPromise?(this.versionPromise=void 0,this.versionGetter().then(e=>this.assignPromise(e)).then(()=>Promise.resolve(!0))):Promise.resolve(!1)}assignPromise(t){return t===ot?this.emptyVersionPromise:(this.versionPromise=Promise.resolve(t),this.versionPromise)}};function Oe(i){if(Array.isArray(i)){let t=[];return i.forEach(e=>{a(e)||t.push(\"string className invalid - set with .withIncludeClassNames(...classNames)\")}),t}return i!=null?[\"strings classNames invalid - set with .withIncludeClassNames(...classNames)\"]:[]}function Me(i){if(Array.isArray(i)){let t=[];return i.forEach(e=>{a(e)||t.push(\"string className invalid - set with .withExcludeClassNames(...classNames)\")}),t}return i!=null?[\"strings classNames invalid - set with .withExcludeClassNames(...classNames)\"]:[]}function N(i){return a(i)?[]:[\"string backend must set - set with .withBackend(backend)\"]}function P(i){return a(i)?[]:[\"string backupId must be set - set with .withBackupId(backupId)\"]}var At=1e3,le=class extends n{constructor(e,r){super(e);this.validate=()=>{this.addErrors([...Oe(this.includeClassNames),...Me(this.excludeClassNames),...N(this.backend),...P(this.backupId)])};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e={id:this.backupId,config:this.config,include:this.includeClassNames,exclude:this.excludeClassNames};return this.waitForCompletion?this._createAndWaitForCompletion(e):this._create(e)};this._create=e=>this.client.post(this._path(),e);this._createAndWaitForCompletion=e=>new Promise((r,s)=>{this._create(e).then(o=>{this.statusGetter.withBackend(this.backend).withBackupId(this.backupId);let h=()=>{this.statusGetter.do().then(c=>{c.status==\"SUCCESS\"||c.status==\"FAILED\"?r(this._merge(c,o)):setTimeout(h,At)}).catch(s)};h()}).catch(s)});this._path=()=>`/backups/${this.backend}`;this._merge=(e,r)=>{let s={};return\"id\"in e&&(s.id=e.id),\"path\"in e&&(s.path=e.path),\"backend\"in e&&(s.backend=e.backend),\"status\"in e&&(s.status=e.status),\"error\"in e&&(s.error=e.error),\"classes\"in r&&(s.classes=r.classes),s};this.statusGetter=r}withIncludeClassNames(...e){let r=e;return e.length&&Array.isArray(e[0])&&(r=e[0]),this.includeClassNames=r,this}withExcludeClassNames(...e){let r=e;return e.length&&Array.isArray(e[0])&&(r=e[0]),this.excludeClassNames=r,this}withBackend(e){return this.backend=e,this}withBackupId(e){return this.backupId=e,this}withWaitForCompletion(e){return this.waitForCompletion=e,this}withConfig(e){return this.config=e,this}};var k=class extends n{constructor(e){super(e);this.validate=()=>{this.addErrors([...N(this.backend),...P(this.backupId)])};this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):this.client.get(this._path()));this._path=()=>`/backups/${this.backend}/${this.backupId}`}withBackend(e){return this.backend=e,this}withBackupId(e){return this.backupId=e,this}};var kt=1e3,pe=class extends n{constructor(e,r){super(e);this.validate=()=>{this.addErrors([...Oe(this.includeClassNames||[]),...Me(this.excludeClassNames||[]),...N(this.backend),...P(this.backupId)])};this.do=()=>{if(this.validate(),this.errors.length>0)return Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \")));let e={config:this.config,include:this.includeClassNames,exclude:this.excludeClassNames};return this.waitForCompletion?this._restoreAndWaitForCompletion(e):this._restore(e)};this._restore=e=>this.client.post(this._path(),e);this._restoreAndWaitForCompletion=e=>new Promise((r,s)=>{this._restore(e).then(o=>{this.statusGetter.withBackend(this.backend).withBackupId(this.backupId);let h=()=>{this.statusGetter.do().then(c=>{c.status==\"SUCCESS\"||c.status==\"FAILED\"?r(this._merge(c,o)):setTimeout(h,kt)}).catch(s)};h()}).catch(s)});this._path=()=>`/backups/${this.backend}/${this.backupId}/restore`;this._merge=(e,r)=>{let s={};return\"id\"in e&&(s.id=e.id),\"path\"in e&&(s.path=e.path),\"backend\"in e&&(s.backend=e.backend),\"status\"in e&&(s.status=e.status),\"error\"in e&&(s.error=e.error),\"classes\"in r&&(s.classes=r.classes),s};this.statusGetter=r}withIncludeClassNames(...e){let r=e;return e.length&&Array.isArray(e[0])&&(r=e[0]),this.includeClassNames=r,this}withExcludeClassNames(...e){let r=e;return e.length&&Array.isArray(e[0])&&(r=e[0]),this.excludeClassNames=r,this}withBackend(e){return this.backend=e,this}withBackupId(e){return this.backupId=e,this}withWaitForCompletion(e){return this.waitForCompletion=e,this}withConfig(e){return this.config=e,this}};var T=class extends n{constructor(e){super(e);this.validate=()=>{this.addErrors([...N(this.backend),...P(this.backupId)])};this.do=()=>(this.validate(),this.errors.length>0?Promise.reject(new Error(\"invalid usage: \"+this.errors.join(\", \"))):this.client.get(this._path()));this._path=()=>`/backups/${this.backend}/${this.backupId}/restore`}withBackend(e){return this.backend=e,this}withBackupId(e){return this.backupId=e,this}};var Tt=i=>({creator:()=>new le(i,new k(i)),createStatusGetter:()=>new k(i),restorer:()=>new pe(i,new T(i)),restoreStatusGetter:()=>new T(i)}),ht=Tt;var ue=class extends n{constructor(e){super(e);this.withClassName=e=>(this.className=e,this);this.withOutput=e=>(this.output=e,this);this.do=()=>{let e=\"/nodes\";return this.className&&(e=`${e}/${this.className}`),this.output?e=`${e}?output=${this.output}`:e=`${e}?output=verbose`,this.client.get(e)}}validate(){}};var jt=i=>({nodesStatusGetter:()=>new ue(i)}),ct=jt;function Do(i,t=\"\"){let e=i.toString()+t.toString();return (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DNS).toString()}function _o(i){if(typeof window>\"u\")throw new Error(\"This function is only available in the browser\");let t=new FileReader;return new Promise((e,r)=>{t.onload=e,t.onerror=r,t.readAsDataURL(i)}).then(()=>{if(typeof t.result!=\"string\")throw new Error(`Unexpected result when converting blob to base64 (result is not a string): ${t.result}`);return t.result})}var $t={client:function(i){if(!i.host)throw new Error(\"Missing `host` parameter\");i.headers||(i.headers={});let t=new ge(i),e=Bt(t),r=new Ve(e),s={graphql:Qe(t),schema:Xe(t),data:et(t,r),classifications:tt(t),batch:st(t,r),misc:nt(t,e),c11y:at(t),backup:ht(t),cluster:ct(t)};return t.oidcAuth&&(s.oidcAuth=t.oidcAuth),s},ApiKey:ke,AuthUserPasswordCredentials:me,AuthAccessTokenCredentials:j,AuthClientCredentials:fe};function Bt(i){let t=new C(i),e=()=>t.do().then(s=>s.version).catch(()=>Promise.resolve(\"\")),r=new Re(e);return r.refresh(),r}var mh=$t;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbm9kZV9tb2R1bGVzL3dlYXZpYXRlLXRzLWNsaWVudC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxpQkFBaUIsdUJBQXVCLHNDQUFzQywrQkFBK0IseUNBQXlDLE1BQU0sd0NBQXdDLE1BQU0seUNBQXlDLE1BQU0sdURBQXVELDRCQUE0QixxSEFBcUgsR0FBRywrREFBK0QsbUJBQW1CLE9BQU8seUNBQXlDLEVBQUUsMkJBQTJCLHlIQUF5SCxtQ0FBbUMsd0JBQXdCLDRGQUE0RiwrQkFBK0IsMkJBQTJCLDREQUE0RCx1RUFBdUUseUNBQXlDLHFDQUFxQywyUEFBMlAsaUJBQWlCLGtCQUFrQixVQUFVLGVBQWUsK0dBQStHLFVBQVUsbUJBQW1CLGtGQUFrRixtRkFBbUYsd0VBQXdFLEVBQUUsTUFBTSwrQkFBK0IsMExBQTBMLDZPQUE2TyxpREFBaUQsNkJBQTZCLHVFQUF1RSw4SkFBOEosdUNBQXVDLGVBQWUsc0NBQXNDLGdHQUFnRyxTQUFTLGVBQWUsa0JBQWtCLDZGQUE2Riw0SEFBNEgsd0pBQXdKLFVBQVUsbUJBQW1CLDJMQUEyTCxrRUFBa0Usb0VBQW9FLG1GQUFtRix3RUFBd0UsRUFBRSxNQUFNLCtCQUErQixxTUFBcU0sNkJBQTZCLHVFQUF1RSxzR0FBc0csdUNBQXVDLGVBQWUsc0NBQXNDLDhDQUE4QyxVQUFVLGVBQWUsOEZBQThGLFVBQVUsbUJBQW1CLGtGQUFrRixtRkFBbUYsd0VBQXdFLEVBQUUsTUFBTSwrQkFBK0IsbU1BQW1NLDZCQUE2Qix1RUFBdUUsb0pBQW9KLHVDQUF1QyxlQUFlLHNDQUFzQyxnR0FBZ0csVUFBVSxlQUFlLGdCQUFnQixlQUFlLDRCQUE0QixlQUFlLHVCQUF1QixZQUFZLGVBQWUsNExBQTRMLFNBQVMsS0FBSyxnQkFBZ0IsV0FBVyxpQkFBaUIsT0FBTyxFQUFFLEVBQUUsVUFBVSxPQUFP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LGdCQUFnQixFQUFFLFFBQVEsbUJBQW1CLHVEQUF1RCx3QkFBd0IsRUFBRSx1Q0FBdUMsZ0lBQWdJLDZDQUE2QyxpR0FBaUcsZUFBZSwwRkFBMEYscUJBQXFCLFVBQXdrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXZpYXRlLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy93ZWF2aWF0ZS10cy1jbGllbnQvZGlzdC9pbmRleC5tanM/MTMxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQWU9Y2xhc3N7Y29uc3RydWN0b3IodCxlKXt0aGlzLnJlZnJlc2g9YXN5bmMgdD0+e2xldCBlPWF3YWl0IHRoaXMuZ2V0T3BlbmlkQ29uZmlnKHQpLHI7c3dpdGNoKHRoaXMuY3JlZHMuY29uc3RydWN0b3Ipe2Nhc2UgbWU6cj1uZXcgRmUodGhpcy5odHRwLHRoaXMuY3JlZHMsZSk7YnJlYWs7Y2FzZSBqOnI9bmV3IExlKHRoaXMuaHR0cCx0aGlzLmNyZWRzLGUpO2JyZWFrO2Nhc2UgZmU6cj1uZXcgR2UodGhpcy5odHRwLHRoaXMuY3JlZHMsZSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBjcmVkZW50aWFsIHR5cGVcIil9cmV0dXJuIHIucmVmcmVzaCgpLnRoZW4ocz0+e3RoaXMuYWNjZXNzVG9rZW49cy5hY2Nlc3NUb2tlbix0aGlzLmV4cGlyZXNBdD1zLmV4cGlyZXNBdCx0aGlzLnJlZnJlc2hUb2tlbj1zLnJlZnJlc2hUb2tlbix0aGlzLnN0YXJ0VG9rZW5SZWZyZXNoKHIpfSl9O3RoaXMuZ2V0T3BlbmlkQ29uZmlnPXQ9PnRoaXMuaHR0cC5leHRlcm5hbEdldCh0LmhyZWYpLnRoZW4oZT0+e2xldCByPXQuc2NvcGVzfHxbXTtyZXR1cm57Y2xpZW50SWQ6dC5jbGllbnRJZCxwcm92aWRlcjplLHNjb3BlczpyfX0pO3RoaXMuc3RhcnRUb2tlblJlZnJlc2g9dD0+e3RoaXMuY3JlZHMuc2lsZW50UmVmcmVzaCYmIXRoaXMucmVmcmVzaFJ1bm5pbmcmJnRoaXMucmVmcmVzaFRva2VuUHJvdmlkZWQoKSYmKHRoaXMucmVmcmVzaEludGVydmFsPXNldEludGVydmFsKGFzeW5jKCk9PntpZih0aGlzLmV4cGlyZXNBdC1EYXRlLm5vdygpPD02ZTQpe2xldCBlPWF3YWl0IHQucmVmcmVzaCgpO3RoaXMuYWNjZXNzVG9rZW49ZS5hY2Nlc3NUb2tlbix0aGlzLmV4cGlyZXNBdD1lLmV4cGlyZXNBdCx0aGlzLnJlZnJlc2hUb2tlbj1lLnJlZnJlc2hUb2tlbn19LDNlNCksdGhpcy5yZWZyZXNoUnVubmluZz0hMCl9O3RoaXMuc3RvcFRva2VuUmVmcmVzaD0oKT0+e2NsZWFySW50ZXJ2YWwodGhpcy5yZWZyZXNoSW50ZXJ2YWwpLHRoaXMucmVmcmVzaFJ1bm5pbmc9ITF9O3RoaXMucmVmcmVzaFRva2VuUHJvdmlkZWQ9KCk9PnRoaXMucmVmcmVzaFRva2VuJiZ0aGlzLnJlZnJlc2hUb2tlbiE9XCJcIjt0aGlzLmdldEFjY2Vzc1Rva2VuPSgpPT50aGlzLmFjY2Vzc1Rva2VuO3RoaXMuZ2V0RXhwaXJlc0F0PSgpPT50aGlzLmV4cGlyZXNBdDt0aGlzLmh0dHA9dCx0aGlzLmNyZWRzPWUsdGhpcy5hY2Nlc3NUb2tlbj1cIlwiLHRoaXMucmVmcmVzaFRva2VuPVwiXCIsdGhpcy5leHBpcmVzQXQ9MCx0aGlzLnJlZnJlc2hSdW5uaW5nPSExLHRoaXMuY3JlZHMgaW5zdGFuY2VvZiBqJiYodGhpcy5hY2Nlc3NUb2tlbj10aGlzLmNyZWRzLmFjY2Vzc1Rva2VuLHRoaXMuZXhwaXJlc0F0PXRoaXMuY3JlZHMuZXhwaXJlc0F0LHRoaXMucmVmcmVzaFRva2VuPXRoaXMuY3JlZHMucmVmcmVzaFRva2VuKX1yZXNldEV4cGlyZXNBdCgpe3RoaXMuZXhwaXJlc0F0PTB9fSxtZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnVzZXJuYW1lPXQudXNlcm5hbWUsdGhpcy5wYXNzd29yZD10LnBhc3N3b3JkLHRoaXMuc2NvcGVzPXQuc2NvcGVzLHRoaXMuc2lsZW50UmVmcmVzaD1EZSh0LnNpbGVudFJlZnJlc2gpfX0sRmU9Y2xhc3N7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMucmVmcmVzaD0oKT0+KHRoaXMudmFsaWRhdGVPcGVuaWRDb25maWcoKSx0aGlzLnJlcXVlc3RBY2Nlc3NUb2tlbigpLnRoZW4odD0+KHthY2Nlc3NUb2tlbjp0LmFjY2Vzc190b2tlbixleHBpcmVzQXQ6VGUodC5leHBpcmVzX2luKSxyZWZyZXNoVG9rZW46dC5yZWZyZXNoX3Rva2VufSkpLmNhdGNoKHQ9PlByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgZmFpbGVkIHRvIHJlZnJlc2ggYWNjZXNzIHRva2VuOiAke3R9YCkpKSk7dGhpcy52YWxpZGF0ZU9wZW5pZENvbmZpZz0oKT0+e2lmKHRoaXMub3BlbmlkQ29uZmlnLnByb3ZpZGVyLmdyYW50X3R5cGVzX3N1cHBvcnRlZCE9PXZvaWQgMCYmIXRoaXMub3BlbmlkQ29uZmlnLnByb3ZpZGVyLmdyYW50X3R5cGVzX3N1cHBvcnRlZC5pbmNsdWRlcyhcInBhc3N3b3JkXCIpKXRocm93IG5ldyBFcnJvcihcImdyYW50X3R5cGUgcGFzc3dvcmQgbm90IHN1cHBvcnRlZFwiKTtpZih0aGlzLm9wZW5pZENvbmZpZy5wcm92aWRlci50b2tlbl9lbmRwb2ludC5pbmNsdWRlcyhcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbVwiKSl0aHJvdyBuZXcgRXJyb3IoXCJtaWNyb3NvZnQvYXp1cmUgcmVjb21tZW5kcyB0byBhdm9pZCBhdXRoZW50aWNhdGlvbiB1c2luZyB1c2VybmFtZSBhbmQgcGFzc3dvcmQsIHNvIHRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBjbGllbnRcIik7dGhpcy5vcGVuaWRDb25maWcuc2NvcGVzLnB1c2goXCJvZmZsaW5lX2FjY2Vzc1wiKX07dGhpcy5yZXF1ZXN0QWNjZXNzVG9rZW49KCk9PntsZXQgdD10aGlzLm9wZW5pZENvbmZpZy5wcm92aWRlci50b2tlbl9lbmRwb2ludCxlPW5ldyBVUkxTZWFyY2hQYXJhbXMoe2dyYW50X3R5cGU6XCJwYXNzd29yZFwiLGNsaWVudF9pZDp0aGlzLm9wZW5pZENvbmZpZy5jbGllbnRJZCx1c2VybmFtZTp0aGlzLmNyZWRzLnVzZXJuYW1lLHBhc3N3b3JkOnRoaXMuY3JlZHMucGFzc3dvcmQsc2NvcGU6dGhpcy5vcGVuaWRDb25maWcuc2NvcGVzLmpvaW4oXCIgXCIpfSkscj1cImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04XCI7cmV0dXJuIHRoaXMuaHR0cC5leHRlcm5hbFBvc3QodCxlLHIpfTt0aGlzLmh0dHA9dCx0aGlzLmNyZWRzPWUsdGhpcy5vcGVuaWRDb25maWc9cixlLnNjb3BlcyYmdGhpcy5vcGVuaWRDb25maWcuc2NvcGVzLnB1c2goZS5zY29wZXMpfX0saj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnZhbGlkYXRlPXQ9PntpZih0LmV4cGlyZXNJbj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJBdXRoQWNjZXNzVG9rZW5DcmVkZW50aWFsczogZXhwaXJlc0luIGlzIHJlcXVpcmVkXCIpO2lmKCFOdW1iZXIuaXNJbnRlZ2VyKHQuZXhwaXJlc0luKXx8dC5leHBpcmVzSW48PTApdGhyb3cgbmV3IEVycm9yKFwiQXV0aEFjY2Vzc1Rva2VuQ3JlZGVudGlhbHM6IGV4cGlyZXNJbiBtdXN0IGJlIGludCA+IDBcIil9O3RoaXMudmFsaWRhdGUodCksdGhpcy5hY2Nlc3NUb2tlbj10LmFjY2Vzc1Rva2VuLHRoaXMuZXhwaXJlc0F0PVRlKHQuZXhwaXJlc0luKSx0aGlzLnJlZnJlc2hUb2tlbj10LnJlZnJlc2hUb2tlbix0aGlzLnNpbGVudFJlZnJlc2g9RGUodC5zaWxlbnRSZWZyZXNoKX19LExlPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnJlZnJlc2g9KCk9PnRoaXMuY3JlZHMucmVmcmVzaFRva2VuPT09dm9pZCAwfHx0aGlzLmNyZWRzLnJlZnJlc2hUb2tlbj09XCJcIj8oY29uc29sZS53YXJuKFwiQXV0aEFjY2Vzc1Rva2VuQ3JlZGVudGlhbHMgbm90IHByb3ZpZGVkIHdpdGggcmVmcmVzaFRva2VuLCBjYW5ub3QgcmVmcmVzaFwiKSxQcm9taXNlLnJlc29sdmUoe2FjY2Vzc1Rva2VuOnRoaXMuY3JlZHMuYWNjZXNzVG9rZW4sZXhwaXJlc0F0OnRoaXMuY3JlZHMuZXhwaXJlc0F0fSkpOih0aGlzLnZhbGlkYXRlT3BlbmlkQ29uZmlnKCksdGhpcy5yZXF1ZXN0QWNjZXNzVG9rZW4oKS50aGVuKHQ9Pih7YWNjZXNzVG9rZW46dC5hY2Nlc3NfdG9rZW4sZXhwaXJlc0F0OlRlKHQuZXhwaXJlc19pbikscmVmcmVzaFRva2VuOnQucmVmcmVzaF90b2tlbn0pKS5jYXRjaCh0PT5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYGZhaWxlZCB0byByZWZyZXNoIGFjY2VzcyB0b2tlbjogJHt0fWApKSkpO3RoaXMudmFsaWRhdGVPcGVuaWRDb25maWc9KCk9PntpZih0aGlzLm9wZW5pZENvbmZpZy5wcm92aWRlci5ncmFudF90eXBlc19zdXBwb3J0ZWQ9PT12b2lkIDB8fCF0aGlzLm9wZW5pZENvbmZpZy5wcm92aWRlci5ncmFudF90eXBlc19zdXBwb3J0ZWQuaW5jbHVkZXMoXCJyZWZyZXNoX3Rva2VuXCIpKXRocm93IG5ldyBFcnJvcihcImdyYW50X3R5cGUgcmVmcmVzaF90b2tlbiBub3Qgc3VwcG9ydGVkXCIpfTt0aGlzLnJlcXVlc3RBY2Nlc3NUb2tlbj0oKT0+e2xldCB0PXRoaXMub3BlbmlkQ29uZmlnLnByb3ZpZGVyLnRva2VuX2VuZHBvaW50LGU9bmV3IFVSTFNlYXJjaFBhcmFtcyh7Z3JhbnRfdHlwZTpcInJlZnJlc2hfdG9rZW5cIixjbGllbnRfaWQ6dGhpcy5vcGVuaWRDb25maWcuY2xpZW50SWQscmVmcmVzaF90b2tlbjp0aGlzLmNyZWRzLnJlZnJlc2hUb2tlbn0pLHI9XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOFwiO3JldHVybiB0aGlzLmh0dHAuZXh0ZXJuYWxQb3N0KHQsZSxyKX07dGhpcy5odHRwPXQsdGhpcy5jcmVkcz1lLHRoaXMub3BlbmlkQ29uZmlnPXJ9fSxmZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmNsaWVudFNlY3JldD10LmNsaWVudFNlY3JldCx0aGlzLnNjb3Blcz10LnNjb3Blcyx0aGlzLnNpbGVudFJlZnJlc2g9RGUodC5zaWxlbnRSZWZyZXNoKX19LEdlPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnJlZnJlc2g9KCk9Pih0aGlzLnZhbGlkYXRlT3BlbmlkQ29uZmlnKCksdGhpcy5yZXF1ZXN0QWNjZXNzVG9rZW4oKS50aGVuKHQ9Pih7YWNjZXNzVG9rZW46dC5hY2Nlc3NfdG9rZW4sZXhwaXJlc0F0OlRlKHQuZXhwaXJlc19pbikscmVmcmVzaFRva2VuOnQucmVmcmVzaF90b2tlbn0pKS5jYXRjaCh0PT5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYGZhaWxlZCB0byByZWZyZXNoIGFjY2VzcyB0b2tlbjogJHt0fWApKSkpO3RoaXMudmFsaWRhdGVPcGVuaWRDb25maWc9KCk9Pnt0aGlzLm9wZW5pZENvbmZpZy5zY29wZXMubGVuZ3RoPjB8fHRoaXMub3BlbmlkQ29uZmlnLnByb3ZpZGVyLnRva2VuX2VuZHBvaW50LmluY2x1ZGVzKFwiaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tXCIpJiZ0aGlzLm9wZW5pZENvbmZpZy5zY29wZXMucHVzaCh0aGlzLm9wZW5pZENvbmZpZy5jbGllbnRJZCtcIi8uZGVmYXVsdFwiKX07dGhpcy5yZXF1ZXN0QWNjZXNzVG9rZW49KCk9PntsZXQgdD10aGlzLm9wZW5pZENvbmZpZy5wcm92aWRlci50b2tlbl9lbmRwb2ludCxlPW5ldyBVUkxTZWFyY2hQYXJhbXMoe2dyYW50X3R5cGU6XCJjbGllbnRfY3JlZGVudGlhbHNcIixjbGllbnRfaWQ6dGhpcy5vcGVuaWRDb25maWcuY2xpZW50SWQsY2xpZW50X3NlY3JldDp0aGlzLmNyZWRzLmNsaWVudFNlY3JldCxzY29wZTp0aGlzLm9wZW5pZENvbmZpZy5zY29wZXMuam9pbihcIiBcIil9KSxyPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLThcIjtyZXR1cm4gdGhpcy5odHRwLmV4dGVybmFsUG9zdCh0LGUscil9O3RoaXMuaHR0cD10LHRoaXMuY3JlZHM9ZSx0aGlzLm9wZW5pZENvbmZpZz1yLGUuc2NvcGVzJiZ0aGlzLm9wZW5pZENvbmZpZy5zY29wZXMucHVzaChlLnNjb3Blcyl9fSxrZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmFwaUtleT10fX07ZnVuY3Rpb24gVGUoaSl7cmV0dXJuIERhdGUubm93KCkrKGktMikqMWUzfWZ1bmN0aW9uIERlKGkpe3JldHVybiBpPT09dm9pZCAwPyEwOml9dmFyIGc9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5kbz0oKT0+dGhpcy5jbGllbnQuZ2V0UmF3KFwiLy53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uXCIpLnRoZW4odD0+dC5zdGF0dXM8NDAwP3QuanNvbigpOnQuc3RhdHVzPT00MDQ/UHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk6UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGB1bmV4cGVjdGVkIHN0YXR1cyBjb2RlOiAke3Quc3RhdHVzfWApKSk7dGhpcy5jbGllbnQ9dH19O3ZhciBsdD1pPT57bGV0IHQ9XCIvdjFcIixlPWAke2kuaG9zdH0ke3R9YCxyPXB0KGUpO3JldHVybntwb3N0OihzLG8saD0hMCxjPVwiXCIpPT57bGV0IGQ9e21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOnsuLi5pLmhlYWRlcnMsXCJjb250ZW50LXR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeShvKX07cmV0dXJuIHgoZCxjKSxmZXRjaChyKHMpLGQpLnRoZW4odihoKSl9LHB1dDoocyxvLGg9ITAsYz1cIlwiKT0+e2xldCBkPXttZXRob2Q6XCJQVVRcIixoZWFkZXJzOnsuLi5pLmhlYWRlcnMsXCJjb250ZW50LXR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeShvKX07cmV0dXJuIHgoZCxjKSxmZXRjaChyKHMpLGQpLnRoZW4odihoKSl9LHBhdGNoOihzLG8saD1cIlwiKT0+e2xldCBjPXttZXRob2Q6XCJQQVRDSFwiLGhlYWRlcnM6ey4uLmkuaGVhZGVycyxcImNvbnRlbnQtdHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5OkpTT04uc3RyaW5naWZ5KG8pfTtyZXR1cm4geChjLGgpLGZldGNoKHIocyksYykudGhlbih2KCExKSl9LGRlbGV0ZToocyxvLGg9ITEsYz1cIlwiKT0+e2xldCBkPXttZXRob2Q6XCJERUxFVEVcIixoZWFkZXJzOnsuLi5pLmhlYWRlcnMsXCJjb250ZW50LXR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpvP0pTT04uc3RyaW5naWZ5KG8pOnZvaWQgMH07cmV0dXJuIHgoZCxjKSxmZXRjaChyKHMpLGQpLnRoZW4odihoKSl9LGhlYWQ6KHMsbyxoPVwiXCIpPT57bGV0IGM9e21ldGhvZDpcIkhFQURcIixoZWFkZXJzOnsuLi5pLmhlYWRlcnMsXCJjb250ZW50LXR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpvP0pTT04uc3RyaW5naWZ5KG8pOnZvaWQgMH07cmV0dXJuIHgoYyxoKSxmZXRjaChyKHMpLGMpLnRoZW4odXQoITEpKX0sZ2V0OihzLG89ITAsaD1cIlwiKT0+e2xldCBjPXttZXRob2Q6XCJHRVRcIixoZWFkZXJzOnsuLi5pLmhlYWRlcnN9fTtyZXR1cm4geChjLGgpLGZldGNoKHIocyksYykudGhlbih2KG8pKX0sZ2V0UmF3OihzLG89XCJcIik9PntsZXQgaD17bWV0aG9kOlwiR0VUXCIsaGVhZGVyczp7Li4uaS5oZWFkZXJzfX07cmV0dXJuIHgoaCxvKSxmZXRjaChyKHMpLGgpfSxleHRlcm5hbEdldDpzPT5mZXRjaChzLHttZXRob2Q6XCJHRVRcIixoZWFkZXJzOnsuLi5pLmhlYWRlcnN9fSkudGhlbih2KCEwKSksZXh0ZXJuYWxQb3N0OihzLG8saCk9PnsoaD09bnVsbHx8aD09XCJcIikmJihoPVwiYXBwbGljYXRpb24vanNvblwiKTtsZXQgYz17Ym9keTp2b2lkIDAsbWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6ey4uLmkuaGVhZGVycyxcImNvbnRlbnQtdHlwZVwiOmh9fTtyZXR1cm4gbyE9bnVsbCYmKGMuYm9keT1vKSxmZXRjaChzLGMpLnRoZW4odighMCkpfX19LHB0PWk9PnQ9PmkrdCx2PWk9PnQ9PntpZih0LnN0YXR1cz49NDAwKXJldHVybiB0LnRleHQoKS50aGVuKGU9PntsZXQgcjt0cnl7cj1KU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKGUpKX1jYXRjaHtyPWV9cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgdXNhZ2UgZXJyb3IgKCR7dC5zdGF0dXN9KTogJHtyfWApKX0pO2lmKGkpcmV0dXJuIHQuanNvbigpfSx1dD1pPT50PT50LnN0YXR1cz09MjAwfHx0LnN0YXR1cz09MjA0fHx0LnN0YXR1cz09NDA0P3Quc3RhdHVzPT0yMDB8fHQuc3RhdHVzPT0yMDQ6dihpKSh0KTtmdW5jdGlvbiB4KGksdCl7dCE9PVwiXCImJihpLmhlYWRlcnMuQXV0aG9yaXphdGlvbj1gQmVhcmVyICR7dH1gKX12YXIgSmU9bHQ7aW1wb3J0e0dyYXBoUUxDbGllbnQgYXMgbXR9ZnJvbVwiZ3JhcGhxbC1yZXF1ZXN0XCI7dmFyIGZ0PWk9PntsZXQgdD1pLmhlYWRlcnMsZT1cIi92MS9ncmFwaHFsXCIscj1gJHtpLmhvc3R9JHtlfWA7cmV0dXJue3F1ZXJ5OihzLG8saCk9Pm5ldyBtdChyLHtoZWFkZXJzOnsuLi50LC4uLmh9LGZldGNofSkucmVxdWVzdChzLG8saCkudGhlbihjPT4oe2RhdGE6Y30pKX19LEhlPWZ0O3ZhciBnZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnBvc3Q9KHQsZSxyPSEwKT0+dGhpcy5hdXRoRW5hYmxlZD90aGlzLmxvZ2luKCkudGhlbihzPT50aGlzLmh0dHAucG9zdCh0LGUscixzKSk6dGhpcy5odHRwLnBvc3QodCxlLHIpO3RoaXMucHV0PSh0LGUscj0hMCk9PnRoaXMuYXV0aEVuYWJsZWQ/dGhpcy5sb2dpbigpLnRoZW4ocz0+dGhpcy5odHRwLnB1dCh0LGUscixzKSk6dGhpcy5odHRwLnB1dCh0LGUscik7dGhpcy5wYXRjaD0odCxlKT0+dGhpcy5hdXRoRW5hYmxlZD90aGlzLmxvZ2luKCkudGhlbihyPT50aGlzLmh0dHAucGF0Y2godCxlLHIpKTp0aGlzLmh0dHAucGF0Y2godCxlKTt0aGlzLmRlbGV0ZT0odCxlLHI9ITEpPT50aGlzLmF1dGhFbmFibGVkP3RoaXMubG9naW4oKS50aGVuKHM9PnRoaXMuaHR0cC5kZWxldGUodCxlLHIscykpOnRoaXMuaHR0cC5kZWxldGUodCxlLHIpO3RoaXMuaGVhZD0odCxlKT0+dGhpcy5hdXRoRW5hYmxlZD90aGlzLmxvZ2luKCkudGhlbihyPT50aGlzLmh0dHAuaGVhZCh0LGUscikpOnRoaXMuaHR0cC5oZWFkKHQsZSk7dGhpcy5nZXQ9KHQsZT0hMCk9PnRoaXMuYXV0aEVuYWJsZWQ/dGhpcy5sb2dpbigpLnRoZW4ocj0+dGhpcy5odHRwLmdldCh0LGUscikpOnRoaXMuaHR0cC5nZXQodCxlKTt0aGlzLnF1ZXJ5PSh0LGUpPT50aGlzLmF1dGhFbmFibGVkP3RoaXMubG9naW4oKS50aGVuKHI9PntsZXQgcz17QXV0aG9yaXphdGlvbjpgQmVhcmVyICR7cn1gfTtyZXR1cm4gdGhpcy5ncWwucXVlcnkodCxlLHMpfSk6dGhpcy5ncWwucXVlcnkodCxlKTt0aGlzLmxvZ2luPWFzeW5jKCk9PntpZih0aGlzLmFwaUtleSlyZXR1cm4gdGhpcy5hcGlLZXk7aWYoIXRoaXMub2lkY0F1dGgpcmV0dXJuXCJcIjtsZXQgdD1hd2FpdCBuZXcgZyh0aGlzLmh0dHApLmRvKCk7cmV0dXJuIHQ9PT12b2lkIDA/KGNvbnNvbGUud2FybihcImNsaWVudCBpcyBjb25maWd1cmVkIGZvciBhdXRoZW50aWNhdGlvbiwgYnV0IHNlcnZlciBpcyBub3RcIiksXCJcIik6KERhdGUubm93KCk+PXRoaXMub2lkY0F1dGguZ2V0RXhwaXJlc0F0KCkmJmF3YWl0IHRoaXMub2lkY0F1dGgucmVmcmVzaCh0KSx0aGlzLm9pZGNBdXRoLmdldEFjY2Vzc1Rva2VuKCkpfTt0PXRoaXMuc2FuaXRpemVQYXJhbXModCksdGhpcy5ob3N0PXQuaG9zdCx0aGlzLmh0dHA9SmUodCksdGhpcy5ncWw9SGUodCksdGhpcy5hdXRoRW5hYmxlZD10aGlzLnBhcnNlQXV0aFBhcmFtcyh0KX1wYXJzZUF1dGhQYXJhbXModCl7aWYodC5hdXRoQ2xpZW50U2VjcmV0JiZ0LmFwaUtleSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IHByb3ZpZGUgb25lIG9mIGF1dGhDbGllbnRTZWNyZXQgKE9JREMpIG9yIGFwaUtleSwgY2Fubm90IHByb3ZpZGUgYm90aFwiKTtyZXR1cm4gdC5hdXRoQ2xpZW50U2VjcmV0Pyh0aGlzLm9pZGNBdXRoPW5ldyBBZSh0aGlzLmh0dHAsdC5hdXRoQ2xpZW50U2VjcmV0KSwhMCk6dC5hcGlLZXk/KHRoaXMuYXBpS2V5PXQuYXBpS2V5Py5hcGlLZXksITApOiExfXNhbml0aXplUGFyYW1zKHQpe2Zvcig7dC5ob3N0LmVuZHNXaXRoKFwiL1wiKTspdC5ob3N0PXQuaG9zdC5zbGljZSgwLC0xKTtsZXQgZT0vXihodHRwcz98ZnRwfGZpbGUpKD86OlxcL1xcLykvLHI9dC5ob3N0Lm1hdGNoKGUpO2lmKHQuc2NoZW1lKXtpZihyJiZyWzFdIT09YCR7dC5zY2hlbWV9YCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBob3N0IGNvbnRhaW5zIGEgZGlmZmVyZW50IHByb3RvY29sIHRoYW4gc3BlY2lmaWVkIGluIHRoZSBzY2hlbWUgKHNjaGVtZTogJHt0LnNjaGVtZX0gIT0gaG9zdDogJHtyWzFdfSlgKTtyfHwodC5ob3N0PWAke3Quc2NoZW1lfTovLyR7dC5ob3N0fWApfWVsc2UgaWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGhvc3QgbXVzdCBzdGFydCB3aXRoIGEgcmVjb2duaXplZCBwcm90b2NvbCAoZS5nLiwgaHR0cCBvciBodHRwcykgaWYgbm8gc2NoZW1lIGlzIHByb3ZpZGVkLlwiKTtyZXR1cm4gdH19O3ZhciBsPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuc291cmNlPXR9dG9TdHJpbmcoKXtpZih0aGlzLnBhcnNlKCksdGhpcy52YWxpZGF0ZSgpLHRoaXMub3BlcmFuZHMpcmV0dXJuYHtvcGVyYXRvcjoke3RoaXMub3BlcmF0b3J9LG9wZXJhbmRzOlske3RoaXMub3BlcmFuZHN9XX1gO3tsZXQgdD10aGlzLmdldFZhbHVlVHlwZSgpLGU9dGhpcy5tYXJzaGFsVmFsdWVDb250ZW50KCk7cmV0dXJuYHtvcGVyYXRvcjoke3RoaXMub3BlcmF0b3J9LCR7dH06JHtlfSxwYXRoOiR7SlNPTi5zdHJpbmdpZnkodGhpcy5wYXRoKX19YH19bWFyc2hhbFZhbHVlQ29udGVudCgpe3JldHVybiB0aGlzLnZhbHVlVHlwZT09XCJ2YWx1ZUdlb1JhbmdlXCI/dGhpcy5tYXJzaGFsVmFsdWVHZW9SYW5nZSgpOkpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWVDb250ZW50KX1nZXRWYWx1ZVR5cGUoKXtzd2l0Y2godGhpcy52YWx1ZVR5cGUpe2Nhc2VcInZhbHVlU3RyaW5nQXJyYXlcIjpyZXR1cm5cInZhbHVlU3RyaW5nXCI7Y2FzZVwidmFsdWVUZXh0QXJyYXlcIjpyZXR1cm5cInZhbHVlVGV4dFwiO2Nhc2VcInZhbHVlSW50QXJyYXlcIjpyZXR1cm5cInZhbHVlSW50XCI7Y2FzZVwidmFsdWVOdW1iZXJBcnJheVwiOnJldHVyblwidmFsdWVOdW1iZXJcIjtjYXNlXCJ2YWx1ZURhdGVBcnJheVwiOnJldHVyblwidmFsdWVEYXRlXCI7Y2FzZVwidmFsdWVCb29sZWFuQXJyYXlcIjpyZXR1cm5cInZhbHVlQm9vbGVhblwiO2RlZmF1bHQ6cmV0dXJuIHRoaXMudmFsdWVUeXBlfX1tYXJzaGFsVmFsdWVHZW9SYW5nZSgpe2xldCB0PVtdLGU9dGhpcy52YWx1ZUNvbnRlbnQuZ2VvQ29vcmRpbmF0ZXM7aWYoZSl7bGV0IHM9W107ZS5sYXRpdHVkZSYmKHM9Wy4uLnMsYGxhdGl0dWRlOiR7ZS5sYXRpdHVkZX1gXSksZS5sb25naXR1ZGUmJihzPVsuLi5zLGBsb25naXR1ZGU6JHtlLmxvbmdpdHVkZX1gXSksdD1bLi4udCxgZ2VvQ29vcmRpbmF0ZXM6eyR7cy5qb2luKFwiLFwiKX19YF19bGV0IHI9dGhpcy52YWx1ZUNvbnRlbnQuZGlzdGFuY2U7aWYocil7bGV0IHM9W107ci5tYXgmJihzPVsuLi5zLGBtYXg6JHtyLm1heH1gXSksdD1bLi4udCxgZGlzdGFuY2U6eyR7cy5qb2luKFwiLFwiKX19YF19cmV0dXJuYHske3Quam9pbihcIixcIil9fWB9dmFsaWRhdGUoKXtpZighdGhpcy5vcGVyYXRvcil0aHJvdyBuZXcgRXJyb3IoXCJ3aGVyZSBmaWx0ZXI6IG9wZXJhdG9yIGNhbm5vdCBiZSBlbXB0eVwiKTtpZighdGhpcy5vcGVyYW5kcyl7aWYoIXRoaXMudmFsdWVUeXBlKXRocm93IG5ldyBFcnJvcihcIndoZXJlIGZpbHRlcjogdmFsdWU8VHlwZT4gY2Fubm90IGJlIGVtcHR5XCIpO2lmKCF0aGlzLnBhdGgpdGhyb3cgbmV3IEVycm9yKFwid2hlcmUgZmlsdGVyOiBwYXRoIGNhbm5vdCBiZSBlbXB0eVwiKX19cGFyc2UoKXtmb3IobGV0IHQgaW4gdGhpcy5zb3VyY2Upc3dpdGNoKHQpe2Nhc2VcIm9wZXJhdG9yXCI6dGhpcy5wYXJzZU9wZXJhdG9yKHRoaXMuc291cmNlW3RdKTticmVhaztjYXNlXCJvcGVyYW5kc1wiOnRoaXMucGFyc2VPcGVyYW5kcyh0aGlzLnNvdXJjZVt0XSk7YnJlYWs7Y2FzZVwicGF0aFwiOnRoaXMucGFyc2VQYXRoKHRoaXMuc291cmNlW3RdKTticmVhaztkZWZhdWx0OmlmKHQuaW5kZXhPZihcInZhbHVlXCIpIT0wKXRocm93IG5ldyBFcnJvcihcIndoZXJlIGZpbHRlcjogdW5yZWNvZ25pemVkIGtleSAnXCIrdCtcIidcIik7dGhpcy5wYXJzZVZhbHVlKHQsdGhpcy5zb3VyY2VbdF0pfX1wYXJzZU9wZXJhdG9yKHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBFcnJvcihcIndoZXJlIGZpbHRlcjogb3BlcmF0b3IgbXVzdCBiZSBhIHN0cmluZ1wiKTt0aGlzLm9wZXJhdG9yPXR9cGFyc2VQYXRoKHQpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihcIndoZXJlIGZpbHRlcjogcGF0aCBtdXN0IGJlIGFuIGFycmF5XCIpO3RoaXMucGF0aD10fXBhcnNlVmFsdWUodCxlKXtzd2l0Y2godCl7Y2FzZVwidmFsdWVTdHJpbmdcIjpjYXNlXCJ2YWx1ZVRleHRcIjpjYXNlXCJ2YWx1ZUludFwiOmNhc2VcInZhbHVlTnVtYmVyXCI6Y2FzZVwidmFsdWVEYXRlXCI6Y2FzZVwidmFsdWVCb29sZWFuXCI6Y2FzZVwidmFsdWVTdHJpbmdBcnJheVwiOmNhc2VcInZhbHVlVGV4dEFycmF5XCI6Y2FzZVwidmFsdWVJbnRBcnJheVwiOmNhc2VcInZhbHVlTnVtYmVyQXJyYXlcIjpjYXNlXCJ2YWx1ZURhdGVBcnJheVwiOmNhc2VcInZhbHVlQm9vbGVhbkFycmF5XCI6Y2FzZVwidmFsdWVHZW9SYW5nZVwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwid2hlcmUgZmlsdGVyOiB1bnJlY29nbml6ZWQgdmFsdWUgcHJvcCAnXCIrdCtcIidcIil9dGhpcy52YWx1ZVR5cGU9dCx0aGlzLnZhbHVlQ29udGVudD1lfXBhcnNlT3BlcmFuZHModCl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKFwid2hlcmUgZmlsdGVyOiBvcGVyYW5kcyBtdXN0IGJlIGFuIGFycmF5XCIpO3RoaXMub3BlcmFuZHM9dC5tYXAoZT0+bmV3IGwoZSkudG9TdHJpbmcoKSkuam9pbihcIixcIil9fTt2YXIgcD1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmNlcnRhaW50eT10LmNlcnRhaW50eSx0aGlzLmRpc3RhbmNlPXQuZGlzdGFuY2UsdGhpcy5tZWRpYT10Lm1lZGlhLHRoaXMudHlwZT10LnR5cGUsdGhpcy50YXJnZXRWZWN0b3JzPXQudGFyZ2V0VmVjdG9yc310b1N0cmluZyh0PSEwKXtsZXQgZT1bXTtpZih0aGlzLm1lZGlhLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSl7bGV0IHI9XCI7YmFzZTY0LFwiO3RoaXMubWVkaWE9dGhpcy5tZWRpYS5zdWJzdHJpbmcodGhpcy5tZWRpYS5pbmRleE9mKHIpK3IubGVuZ3RoKX1yZXR1cm4gZT1bLi4uZSxgJHt0aGlzLnR5cGUudG9Mb3dlckNhc2UoKX06JHtKU09OLnN0cmluZ2lmeSh0aGlzLm1lZGlhKX1gXSx0aGlzLmNlcnRhaW50eSYmKGU9Wy4uLmUsYGNlcnRhaW50eToke3RoaXMuY2VydGFpbnR5fWBdKSx0aGlzLmRpc3RhbmNlJiYoZT1bLi4uZSxgZGlzdGFuY2U6JHt0aGlzLmRpc3RhbmNlfWBdKSx0aGlzLnRhcmdldFZlY3RvcnMmJnRoaXMudGFyZ2V0VmVjdG9ycy5sZW5ndGg+MCYmKGU9Wy4uLmUsYHRhcmdldFZlY3RvcnM6JHtKU09OLnN0cmluZ2lmeSh0aGlzLnRhcmdldFZlY3RvcnMpfWBdKSx0P2B7JHtlLmpvaW4oXCIsXCIpfX1gOmAke2Uuam9pbihcIixcIil9YH19O3ZhciB1PWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuYXV0b2NvcnJlY3Q9dC5hdXRvY29ycmVjdCx0aGlzLmNlcnRhaW50eT10LmNlcnRhaW50eSx0aGlzLmNvbmNlcHRzPXQuY29uY2VwdHMsdGhpcy5kaXN0YW5jZT10LmRpc3RhbmNlLHRoaXMubW92ZUF3YXlGcm9tPXQubW92ZUF3YXlGcm9tLHRoaXMubW92ZVRvPXQubW92ZVRvLHRoaXMudGFyZ2V0VmVjdG9ycz10LnRhcmdldFZlY3RvcnN9dG9TdHJpbmcoKXt0aGlzLnZhbGlkYXRlKCk7bGV0IHQ9W2Bjb25jZXB0czoke0pTT04uc3RyaW5naWZ5KHRoaXMuY29uY2VwdHMpfWBdO3JldHVybiB0aGlzLmNlcnRhaW50eSYmKHQ9Wy4uLnQsYGNlcnRhaW50eToke3RoaXMuY2VydGFpbnR5fWBdKSx0aGlzLmRpc3RhbmNlJiYodD1bLi4udCxgZGlzdGFuY2U6JHt0aGlzLmRpc3RhbmNlfWBdKSx0aGlzLnRhcmdldFZlY3RvcnMmJnRoaXMudGFyZ2V0VmVjdG9ycy5sZW5ndGg+MCYmKHQ9Wy4uLnQsYHRhcmdldFZlY3RvcnM6JHtKU09OLnN0cmluZ2lmeSh0aGlzLnRhcmdldFZlY3RvcnMpfWBdKSx0aGlzLm1vdmVUbyYmKHQ9Wy4uLnQsdmUoXCJtb3ZlVG9cIix0aGlzLm1vdmVUbyldKSx0aGlzLm1vdmVBd2F5RnJvbSYmKHQ9Wy4uLnQsdmUoXCJtb3ZlQXdheUZyb21cIix0aGlzLm1vdmVBd2F5RnJvbSldKSx0aGlzLmF1dG9jb3JyZWN0IT09dm9pZCAwJiYodD1bLi4udCxgYXV0b2NvcnJlY3Q6JHt0aGlzLmF1dG9jb3JyZWN0fWBdKSxgeyR7dC5qb2luKFwiLFwiKX19YH12YWxpZGF0ZSgpe2lmKHRoaXMubW92ZVRvKXtpZighdGhpcy5tb3ZlVG8uY29uY2VwdHMmJiF0aGlzLm1vdmVUby5vYmplY3RzKXRocm93IG5ldyBFcnJvcihcIm5lYXJUZXh0IGZpbHRlcjogbW92ZVRvLmNvbmNlcHRzIG9yIG1vdmVUby5vYmplY3RzIG11c3QgYmUgcHJlc2VudFwiKTtpZighdGhpcy5tb3ZlVG8uZm9yY2V8fCF0aGlzLm1vdmVUby5jb25jZXB0cyYmIXRoaXMubW92ZVRvLm9iamVjdHMpdGhyb3cgbmV3IEVycm9yKFwibmVhclRleHQgZmlsdGVyOiBtb3ZlVG8gbXVzdCBoYXZlIGZpZWxkcyAnY29uY2VwdHMnIG9yICdvYmplY3RzJyBhbmQgJ2ZvcmNlJ1wiKX1pZih0aGlzLm1vdmVBd2F5RnJvbSl7aWYoIXRoaXMubW92ZUF3YXlGcm9tLmNvbmNlcHRzJiYhdGhpcy5tb3ZlQXdheUZyb20ub2JqZWN0cyl0aHJvdyBuZXcgRXJyb3IoXCJuZWFyVGV4dCBmaWx0ZXI6IG1vdmVBd2F5RnJvbS5jb25jZXB0cyBvciBtb3ZlQXdheUZyb20ub2JqZWN0cyBtdXN0IGJlIHByZXNlbnRcIik7aWYoIXRoaXMubW92ZUF3YXlGcm9tLmZvcmNlfHwhdGhpcy5tb3ZlQXdheUZyb20uY29uY2VwdHMmJiF0aGlzLm1vdmVBd2F5RnJvbS5vYmplY3RzKXRocm93IG5ldyBFcnJvcihcIm5lYXJUZXh0IGZpbHRlcjogbW92ZUF3YXlGcm9tIG11c3QgaGF2ZSBmaWVsZHMgJ2NvbmNlcHRzJyBvciAnb2JqZWN0cycgYW5kICdmb3JjZSdcIil9fX07ZnVuY3Rpb24gZ3QoaSx0KXtsZXQgZT1bXTtmb3IobGV0IHIgaW4gdCl7aWYoIXRbcl0uaWQmJiF0W3JdLmJlYWNvbil0aHJvdyBuZXcgRXJyb3IoYG5lYXJUZXh0OiAke2l9Lm9iamVjdHNbJHtyfV0uaWQgb3IgJHtpfS5vYmplY3RzWyR7cn1dLmJlYWNvbiBtdXN0IGJlIHByZXNlbnRgKTtsZXQgcz1bXTt0W3JdLmlkJiZzLnB1c2goYGlkOlwiJHt0W3JdLmlkfVwiYCksdFtyXS5iZWFjb24mJnMucHVzaChgYmVhY29uOlwiJHt0W3JdLmJlYWNvbn1cImApLGUucHVzaChgeyR7cy5qb2luKFwiLFwiKX19YCl9cmV0dXJuYFske2Uuam9pbihcIixcIil9XWB9ZnVuY3Rpb24gdmUoaSx0KXtsZXQgZT1bXTtyZXR1cm4gdC5jb25jZXB0cyYmKGU9Wy4uLmUsYGNvbmNlcHRzOiR7SlNPTi5zdHJpbmdpZnkodC5jb25jZXB0cyl9YF0pLHQub2JqZWN0cyYmKGU9Wy4uLmUsYG9iamVjdHM6JHtndChpLHQub2JqZWN0cyl9YF0pLHQuZm9yY2UmJihlPVsuLi5lLGBmb3JjZToke3QuZm9yY2V9YF0pLGAke2l9Onske2Uuam9pbihcIixcIil9fWB9dmFyIG09Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5jZXJ0YWludHk9dC5jZXJ0YWludHksdGhpcy5kaXN0YW5jZT10LmRpc3RhbmNlLHRoaXMudmVjdG9yPXQudmVjdG9yLHRoaXMudGFyZ2V0VmVjdG9ycz10LnRhcmdldFZlY3RvcnN9dG9TdHJpbmcodD0hMCl7bGV0IGU9W2B2ZWN0b3I6JHtKU09OLnN0cmluZ2lmeSh0aGlzLnZlY3Rvcil9YF07cmV0dXJuIHRoaXMuY2VydGFpbnR5JiYoZT1bLi4uZSxgY2VydGFpbnR5OiR7dGhpcy5jZXJ0YWludHl9YF0pLHRoaXMuZGlzdGFuY2UmJihlPVsuLi5lLGBkaXN0YW5jZToke3RoaXMuZGlzdGFuY2V9YF0pLHRoaXMudGFyZ2V0VmVjdG9ycyYmdGhpcy50YXJnZXRWZWN0b3JzLmxlbmd0aD4wJiYoZT1bLi4uZSxgdGFyZ2V0VmVjdG9yczoke0pTT04uc3RyaW5naWZ5KHRoaXMudGFyZ2V0VmVjdG9ycyl9YF0pLHQ/YHske2Uuam9pbihcIixcIil9fWA6YCR7ZS5qb2luKFwiLFwiKX1gfX07dmFyIGY9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5iZWFjb249dC5iZWFjb24sdGhpcy5jZXJ0YWludHk9dC5jZXJ0YWludHksdGhpcy5kaXN0YW5jZT10LmRpc3RhbmNlLHRoaXMuaWQ9dC5pZCx0aGlzLnRhcmdldFZlY3RvcnM9dC50YXJnZXRWZWN0b3JzfXRvU3RyaW5nKHQ9ITApe3RoaXMudmFsaWRhdGUoKTtsZXQgZT1bXTtyZXR1cm4gdGhpcy5pZCYmKGU9Wy4uLmUsYGlkOiR7SlNPTi5zdHJpbmdpZnkodGhpcy5pZCl9YF0pLHRoaXMuYmVhY29uJiYoZT1bLi4uZSxgYmVhY29uOiR7SlNPTi5zdHJpbmdpZnkodGhpcy5iZWFjb24pfWBdKSx0aGlzLmNlcnRhaW50eSYmKGU9Wy4uLmUsYGNlcnRhaW50eToke3RoaXMuY2VydGFpbnR5fWBdKSx0aGlzLmRpc3RhbmNlJiYoZT1bLi4uZSxgZGlzdGFuY2U6JHt0aGlzLmRpc3RhbmNlfWBdKSx0aGlzLnRhcmdldFZlY3RvcnMmJnRoaXMudGFyZ2V0VmVjdG9ycy5sZW5ndGg+MCYmKGU9Wy4uLmUsYHRhcmdldFZlY3RvcnM6JHtKU09OLnN0cmluZ2lmeSh0aGlzLnRhcmdldFZlY3RvcnMpfWBdKSx0P2B7JHtlLmpvaW4oXCIsXCIpfX1gOmAke2Uuam9pbihcIixcIil9YH12YWxpZGF0ZSgpe2lmKCF0aGlzLmlkJiYhdGhpcy5iZWFjb24pdGhyb3cgbmV3IEVycm9yKFwibmVhck9iamVjdCBmaWx0ZXI6IGlkIG9yIGJlYWNvbiBuZWVkcyB0byBiZSBzZXRcIil9fTtmdW5jdGlvbiB2dChpKXtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihpKX1mdW5jdGlvbiBLZShpKXtyZXR1cm4gdnQoaSkmJmk+PTB9dmFyIG49Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5jbGllbnQ9dCx0aGlzLl9lcnJvcnM9W119Z2V0IGVycm9ycygpe3JldHVybiB0aGlzLl9lcnJvcnN9YWRkRXJyb3IodCl7dGhpcy5fZXJyb3JzPVsuLi50aGlzLmVycm9ycyx0XX1hZGRFcnJvcnModCl7dGhpcy5fZXJyb3JzPVsuLi50aGlzLmVycm9ycywuLi50XX19O3ZhciAkPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhGaWVsZHM9ZT0+KHRoaXMuZmllbGRzPWUsdGhpcyk7dGhpcy53aXRoQ2xhc3NOYW1lPWU9Pih0aGlzLmNsYXNzTmFtZT1lLHRoaXMpO3RoaXMud2l0aFdoZXJlPWU9Pnt0cnl7dGhpcy53aGVyZVN0cmluZz1uZXcgbChlKS50b1N0cmluZygpfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Iocil9cmV0dXJuIHRoaXN9O3RoaXMud2l0aE5lYXJNZWRpYT1lPT57aWYodGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgdXNlIG11bHRpcGxlIG5lYXI8TWVkaWE+IGZpbHRlcnMgaW4gYSBzaW5nbGUgcXVlcnlcIik7dHJ5e3RoaXMubmVhck1lZGlhU3RyaW5nPW5ldyBwKGUpLnRvU3RyaW5nKCksdGhpcy5uZWFyTWVkaWFUeXBlPWUudHlwZSx0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyPSEwfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Ioci50b1N0cmluZygpKX1yZXR1cm4gdGhpc307dGhpcy53aXRoTmVhckltYWdlPWU9PnRoaXMud2l0aE5lYXJNZWRpYSh7Li4uZSxtZWRpYTplLmltYWdlLHR5cGU6XCJJbWFnZVwifSk7dGhpcy53aXRoTmVhckF1ZGlvPWU9PnRoaXMud2l0aE5lYXJNZWRpYSh7Li4uZSxtZWRpYTplLmF1ZGlvLHR5cGU6XCJBdWRpb1wifSk7dGhpcy53aXRoTmVhclZpZGVvPWU9PnRoaXMud2l0aE5lYXJNZWRpYSh7Li4uZSxtZWRpYTplLnZpZGVvLHR5cGU6XCJWaWRlb1wifSk7dGhpcy53aXRoTmVhckRlcHRoPWU9PnRoaXMud2l0aE5lYXJNZWRpYSh7Li4uZSxtZWRpYTplLmRlcHRoLHR5cGU6XCJEZXB0aFwifSk7dGhpcy53aXRoTmVhcklNVT1lPT50aGlzLndpdGhOZWFyTWVkaWEoey4uLmUsbWVkaWE6ZS5pbXUsdHlwZTpcIklNVVwifSk7dGhpcy53aXRoTmVhclRleHQ9ZT0+e2lmKHRoaXMuaW5jbHVkZXNOZWFyTWVkaWFGaWx0ZXIpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IHVzZSBtdWx0aXBsZSBuZWFyPE1lZGlhPiBmaWx0ZXJzIGluIGEgc2luZ2xlIHF1ZXJ5XCIpO3RyeXt0aGlzLm5lYXJUZXh0U3RyaW5nPW5ldyB1KGUpLnRvU3RyaW5nKCksdGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcj0hMH1jYXRjaChyKXt0aGlzLmFkZEVycm9yKHIudG9TdHJpbmcoKSl9cmV0dXJuIHRoaXN9O3RoaXMud2l0aE5lYXJPYmplY3Q9ZT0+e2lmKHRoaXMuaW5jbHVkZXNOZWFyTWVkaWFGaWx0ZXIpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IHVzZSBtdWx0aXBsZSBuZWFyPE1lZGlhPiBmaWx0ZXJzIGluIGEgc2luZ2xlIHF1ZXJ5XCIpO3RyeXt0aGlzLm5lYXJPYmplY3RTdHJpbmc9bmV3IGYoZSkudG9TdHJpbmcoKSx0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyPSEwfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Ioci50b1N0cmluZygpKX1yZXR1cm4gdGhpc307dGhpcy53aXRoTmVhclZlY3Rvcj1lPT57aWYodGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgdXNlIG11bHRpcGxlIG5lYXI8TWVkaWE+IGZpbHRlcnMgaW4gYSBzaW5nbGUgcXVlcnlcIik7dHJ5e3RoaXMubmVhclZlY3RvclN0cmluZz1uZXcgbShlKS50b1N0cmluZygpLHRoaXMuaW5jbHVkZXNOZWFyTWVkaWFGaWx0ZXI9ITB9Y2F0Y2gocil7dGhpcy5hZGRFcnJvcihyLnRvU3RyaW5nKCkpfXJldHVybiB0aGlzfTt0aGlzLndpdGhPYmplY3RMaW1pdD1lPT57aWYoIUtlKGUpKXRocm93IG5ldyBFcnJvcihcIm9iamVjdExpbWl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlclwiKTtyZXR1cm4gdGhpcy5vYmplY3RMaW1pdD1lLHRoaXN9O3RoaXMud2l0aExpbWl0PWU9Pih0aGlzLmxpbWl0PWUsdGhpcyk7dGhpcy53aXRoR3JvdXBCeT1lPT4odGhpcy5ncm91cEJ5PWUsdGhpcyk7dGhpcy53aXRoVGVuYW50PWU9Pih0aGlzLnRlbmFudD1lLHRoaXMpO3RoaXMudmFsaWRhdGVHcm91cD0oKT0+e2lmKHRoaXMuZ3JvdXBCeSYmIUFycmF5LmlzQXJyYXkodGhpcy5ncm91cEJ5KSl0aHJvdyBuZXcgRXJyb3IoXCJncm91cEJ5IG11c3QgYmUgYW4gYXJyYXlcIil9O3RoaXMudmFsaWRhdGVJc1NldD0oZSxyLHMpPT57KGU9PW51bGx8fGU9PW51bGx8fGUubGVuZ3RoPT0wKSYmdGhpcy5hZGRFcnJvcihgJHtyfSBtdXN0IGJlIHNldCAtIHNldCB3aXRoICR7c31gKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVHcm91cCgpLHRoaXMudmFsaWRhdGVJc1NldCh0aGlzLmNsYXNzTmFtZSxcImNsYXNzTmFtZVwiLFwiLndpdGhDbGFzc05hbWUoY2xhc3NOYW1lKVwiKSx0aGlzLnZhbGlkYXRlSXNTZXQodGhpcy5maWVsZHMsXCJmaWVsZHNcIixcIi53aXRoRmllbGRzKGZpZWxkcylcIil9O3RoaXMuZG89KCk9PntsZXQgZT1cIlwiO2lmKHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCB1c2FnZTogXCIrdGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKSk7aWYodGhpcy53aGVyZVN0cmluZ3x8dGhpcy5uZWFyVGV4dFN0cmluZ3x8dGhpcy5uZWFyT2JqZWN0U3RyaW5nfHx0aGlzLm5lYXJWZWN0b3JTdHJpbmd8fHRoaXMubGltaXR8fHRoaXMuZ3JvdXBCeXx8dGhpcy50ZW5hbnQpe2xldCByPVtdO3RoaXMud2hlcmVTdHJpbmcmJihyPVsuLi5yLGB3aGVyZToke3RoaXMud2hlcmVTdHJpbmd9YF0pLHRoaXMubmVhclRleHRTdHJpbmcmJihyPVsuLi5yLGBuZWFyVGV4dDoke3RoaXMubmVhclRleHRTdHJpbmd9YF0pLHRoaXMubmVhck9iamVjdFN0cmluZyYmKHI9Wy4uLnIsYG5lYXJPYmplY3Q6JHt0aGlzLm5lYXJPYmplY3RTdHJpbmd9YF0pLHRoaXMubmVhclZlY3RvclN0cmluZyYmKHI9Wy4uLnIsYG5lYXJWZWN0b3I6JHt0aGlzLm5lYXJWZWN0b3JTdHJpbmd9YF0pLHRoaXMubmVhck1lZGlhU3RyaW5nJiYocj1bLi4ucixgJHt0aGlzLm5lYXJNZWRpYVR5cGV9OiR7dGhpcy5uZWFyTWVkaWFTdHJpbmd9YF0pLHRoaXMuZ3JvdXBCeSYmKHI9Wy4uLnIsYGdyb3VwQnk6JHtKU09OLnN0cmluZ2lmeSh0aGlzLmdyb3VwQnkpfWBdKSx0aGlzLmxpbWl0JiYocj1bLi4ucixgbGltaXQ6JHt0aGlzLmxpbWl0fWBdKSx0aGlzLm9iamVjdExpbWl0JiYocj1bLi4ucixgb2JqZWN0TGltaXQ6JHt0aGlzLm9iamVjdExpbWl0fWBdKSx0aGlzLnRlbmFudCYmKHI9Wy4uLnIsYHRlbmFudDpcIiR7dGhpcy50ZW5hbnR9XCJgXSksZT1gKCR7ci5qb2luKFwiLFwiKX0pYH1yZXR1cm4gdGhpcy5jbGllbnQucXVlcnkoYHtBZ2dyZWdhdGV7JHt0aGlzLmNsYXNzTmFtZX0ke2V9eyR7dGhpcy5maWVsZHN9fX19YCl9O3RoaXMuaW5jbHVkZXNOZWFyTWVkaWFGaWx0ZXI9ITF9fTt2YXIgeWU9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5wcm9wZXJ0aWVzPXQucHJvcGVydGllcyx0aGlzLnF1ZXJ5PXQucXVlcnl9dG9TdHJpbmcoKXtsZXQgdD1bYHF1ZXJ5OiR7SlNPTi5zdHJpbmdpZnkodGhpcy5xdWVyeSl9YF07cmV0dXJuIHRoaXMucHJvcGVydGllcyE9PXZvaWQgMCYmKHQ9Wy4uLnQsYHByb3BlcnRpZXM6JHtKU09OLnN0cmluZ2lmeSh0aGlzLnByb3BlcnRpZXMpfWBdKSxgeyR7dC5qb2luKFwiLFwiKX19YH19O3ZhciBfZT0oZT0+KGUucmFua2VkRnVzaW9uPVwicmFua2VkRnVzaW9uXCIsZS5yZWxhdGl2ZVNjb3JlRnVzaW9uPVwicmVsYXRpdmVTY29yZUZ1c2lvblwiLGUpKShfZXx8e30pLHFlPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMubmVhclRleHQ9dC5uZWFyVGV4dCx0aGlzLm5lYXJWZWN0b3I9dC5uZWFyVmVjdG9yfXRvU3RyaW5nKCl7bGV0IHQ9W107aWYodGhpcy5uZWFyVGV4dCE9PXZvaWQgMCl7bGV0IGU9W2Bjb25jZXB0czoke0pTT04uc3RyaW5naWZ5KHRoaXMubmVhclRleHQuY29uY2VwdHMpfWBdO3RoaXMubmVhclRleHQuY2VydGFpbnR5JiYoZT1bLi4uZSxgY2VydGFpbnR5OiR7dGhpcy5uZWFyVGV4dC5jZXJ0YWludHl9YF0pLHRoaXMubmVhclRleHQuZGlzdGFuY2UmJihlPVsuLi5lLGBkaXN0YW5jZToke3RoaXMubmVhclRleHQuZGlzdGFuY2V9YF0pLHRoaXMubmVhclRleHQubW92ZVRvJiYoZT1bLi4uZSx2ZShcIm1vdmVUb1wiLHRoaXMubmVhclRleHQubW92ZVRvKV0pLHRoaXMubmVhclRleHQubW92ZUF3YXlGcm9tJiYoZT1bLi4uZSx2ZShcIm1vdmVBd2F5RnJvbVwiLHRoaXMubmVhclRleHQubW92ZUF3YXlGcm9tKV0pLHQ9Wy4uLnQsYG5lYXJUZXh0Onske2Uuam9pbihcIixcIil9fWBdfWlmKHRoaXMubmVhclZlY3RvciE9PXZvaWQgMCl7bGV0IGU9W2B2ZWN0b3I6JHtKU09OLnN0cmluZ2lmeSh0aGlzLm5lYXJWZWN0b3IudmVjdG9yKX1gXTt0aGlzLm5lYXJWZWN0b3IuY2VydGFpbnR5JiYoZT1bLi4uZSxgY2VydGFpbnR5OiR7dGhpcy5uZWFyVmVjdG9yLmNlcnRhaW50eX1gXSksdGhpcy5uZWFyVmVjdG9yLmRpc3RhbmNlJiYoZT1bLi4uZSxgZGlzdGFuY2U6JHt0aGlzLm5lYXJWZWN0b3IuZGlzdGFuY2V9YF0pLHRoaXMubmVhclZlY3Rvci50YXJnZXRWZWN0b3JzJiZ0aGlzLm5lYXJWZWN0b3IudGFyZ2V0VmVjdG9ycy5sZW5ndGg+MCYmKGU9Wy4uLmUsYHRhcmdldFZlY3RvcnM6JHtKU09OLnN0cmluZ2lmeSh0aGlzLm5lYXJWZWN0b3IudGFyZ2V0VmVjdG9ycyl9YF0pLHQ9Wy4uLnQsYG5lYXJWZWN0b3I6eyR7ZS5qb2luKFwiLFwiKX19YF19cmV0dXJuYHske3Quam9pbihcIixcIil9fWB9fSx3ZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmFscGhhPXQuYWxwaGEsdGhpcy5xdWVyeT10LnF1ZXJ5LHRoaXMudmVjdG9yPXQudmVjdG9yLHRoaXMucHJvcGVydGllcz10LnByb3BlcnRpZXMsdGhpcy50YXJnZXRWZWN0b3JzPXQudGFyZ2V0VmVjdG9ycyx0aGlzLmZ1c2lvblR5cGU9dC5mdXNpb25UeXBlLHRoaXMuc2VhcmNoZXM9dC5zZWFyY2hlcz8ubWFwKGU9Pm5ldyBxZShlKSl9dG9TdHJpbmcoKXtsZXQgdD1bYHF1ZXJ5OiR7SlNPTi5zdHJpbmdpZnkodGhpcy5xdWVyeSl9YF07cmV0dXJuIHRoaXMuYWxwaGEhPT12b2lkIDAmJih0PVsuLi50LGBhbHBoYToke0pTT04uc3RyaW5naWZ5KHRoaXMuYWxwaGEpfWBdKSx0aGlzLnZlY3RvciE9PXZvaWQgMCYmKHQ9Wy4uLnQsYHZlY3Rvcjoke0pTT04uc3RyaW5naWZ5KHRoaXMudmVjdG9yKX1gXSksdGhpcy5wcm9wZXJ0aWVzJiZ0aGlzLnByb3BlcnRpZXMubGVuZ3RoPjAmJih0PVsuLi50LGBwcm9wZXJ0aWVzOiR7SlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wZXJ0aWVzKX1gXSksdGhpcy50YXJnZXRWZWN0b3JzJiZ0aGlzLnRhcmdldFZlY3RvcnMubGVuZ3RoPjAmJih0PVsuLi50LGB0YXJnZXRWZWN0b3JzOiR7SlNPTi5zdHJpbmdpZnkodGhpcy50YXJnZXRWZWN0b3JzKX1gXSksdGhpcy5mdXNpb25UeXBlIT09dm9pZCAwJiYodD1bLi4udCxgZnVzaW9uVHlwZToke3RoaXMuZnVzaW9uVHlwZX1gXSksdGhpcy5zZWFyY2hlcyE9PXZvaWQgMCYmKHQ9Wy4uLnQsYHNlYXJjaGVzOlske3RoaXMuc2VhcmNoZXMubWFwKGU9PmUudG9TdHJpbmcoKSkuam9pbihcIixcIil9XWBdKSxgeyR7dC5qb2luKFwiLFwiKX19YH19O3ZhciBTPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuY2VydGFpbnR5PXQuY2VydGFpbnR5LHRoaXMuZGlzdGFuY2U9dC5kaXN0YW5jZSx0aGlzLmltYWdlPXQuaW1hZ2UsdGhpcy50YXJnZXRWZWN0b3JzPXQudGFyZ2V0VmVjdG9yc310b1N0cmluZyh0PSEwKXt0aGlzLnZhbGlkYXRlKCk7bGV0IGU9W107aWYodGhpcy5pbWFnZSl7bGV0IHI9dGhpcy5pbWFnZTtpZihyLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSl7bGV0IHM9XCI7YmFzZTY0LFwiO3I9ci5zdWJzdHJpbmcoci5pbmRleE9mKHMpK3MubGVuZ3RoKX1lPVsuLi5lLGBpbWFnZToke0pTT04uc3RyaW5naWZ5KHIpfWBdfXJldHVybiB0aGlzLmNlcnRhaW50eSYmKGU9Wy4uLmUsYGNlcnRhaW50eToke3RoaXMuY2VydGFpbnR5fWBdKSx0aGlzLmRpc3RhbmNlJiYoZT1bLi4uZSxgZGlzdGFuY2U6JHt0aGlzLmRpc3RhbmNlfWBdKSx0aGlzLnRhcmdldFZlY3RvcnMmJnRoaXMudGFyZ2V0VmVjdG9ycy5sZW5ndGg+MCYmKGU9Wy4uLmUsYHRhcmdldFZlY3RvcnM6JHtKU09OLnN0cmluZ2lmeSh0aGlzLnRhcmdldFZlY3RvcnMpfWBdKSx0P2B7JHtlLmpvaW4oXCIsXCIpfX1gOmAke2Uuam9pbihcIixcIil9YH12YWxpZGF0ZSgpe2lmKCF0aGlzLmltYWdlKXRocm93IG5ldyBFcnJvcihcIm5lYXJJbWFnZSBmaWx0ZXI6IGltYWdlIGZpZWxkIG11c3QgYmUgcHJlc2VudFwiKX19O3ZhciBBPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuYXV0b2NvcnJlY3Q9dC5hdXRvY29ycmVjdCx0aGlzLmNlcnRhaW50eT10LmNlcnRhaW50eSx0aGlzLmRpc3RhbmNlPXQuZGlzdGFuY2UsdGhpcy5wcm9wZXJ0aWVzPXQucHJvcGVydGllcyx0aGlzLnF1ZXN0aW9uPXQucXVlc3Rpb24sdGhpcy5yZXJhbms9dC5yZXJhbmt9dG9TdHJpbmcodD0hMCl7dGhpcy52YWxpZGF0ZSgpO2xldCBlPVtdO3JldHVybiB0aGlzLnF1ZXN0aW9uJiYoZT1bLi4uZSxgcXVlc3Rpb246JHtKU09OLnN0cmluZ2lmeSh0aGlzLnF1ZXN0aW9uKX1gXSksdGhpcy5wcm9wZXJ0aWVzJiYoZT1bLi4uZSxgcHJvcGVydGllczoke0pTT04uc3RyaW5naWZ5KHRoaXMucHJvcGVydGllcyl9YF0pLHRoaXMuY2VydGFpbnR5JiYoZT1bLi4uZSxgY2VydGFpbnR5OiR7dGhpcy5jZXJ0YWludHl9YF0pLHRoaXMuZGlzdGFuY2UmJihlPVsuLi5lLGBkaXN0YW5jZToke3RoaXMuZGlzdGFuY2V9YF0pLHRoaXMuYXV0b2NvcnJlY3QhPT12b2lkIDAmJihlPVsuLi5lLGBhdXRvY29ycmVjdDoke3RoaXMuYXV0b2NvcnJlY3R9YF0pLHRoaXMucmVyYW5rIT09dm9pZCAwJiYoZT1bLi4uZSxgcmVyYW5rOiR7dGhpcy5yZXJhbmt9YF0pLHQ/YHske2Uuam9pbihcIixcIil9fWA6YCR7ZS5qb2luKFwiLFwiKX1gfXZhbGlkYXRlKCl7aWYoIXRoaXMucXVlc3Rpb24pdGhyb3cgbmV3IEVycm9yKFwiYXNrIGZpbHRlcjogcXVlc3Rpb24gbmVlZHMgdG8gYmUgc2V0XCIpfX07dmFyIGJlPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuYXJncz10fXRvU3RyaW5nKCl7bGV0IHQ9W107cmV0dXJuIHRoaXMuYXJncy50eXBlJiYodD1bLi4udCxgdHlwZToke3RoaXMuYXJncy50eXBlfWBdKSx0aGlzLmFyZ3MuZm9yY2UmJih0PVsuLi50LGBmb3JjZToke3RoaXMuYXJncy5mb3JjZX1gXSksYHske3Quam9pbihcIixcIil9fWB9fTt2YXIgQ2U9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5hcmdzPXR9dG9TdHJpbmcoKXtsZXQgdD1bXTtmb3IobGV0IGUgb2YgdGhpcy5hcmdzKXtsZXQgcj1ge3BhdGg6JHtKU09OLnN0cmluZ2lmeShlLnBhdGgpfWA7ZS5vcmRlcj9yPXIuY29uY2F0KGAsb3JkZXI6JHtlLm9yZGVyfX1gKTpyPXIuY29uY2F0KFwifVwiKSx0LnB1c2gocil9cmV0dXJuIHQuam9pbihcIixcIil9fTt2YXIgamU9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5ncm91cGVkVGFzaz10Lmdyb3VwZWRUYXNrLHRoaXMuZ3JvdXBlZFByb3BlcnRpZXM9dC5ncm91cGVkUHJvcGVydGllcyx0aGlzLnNpbmdsZVByb21wdD10LnNpbmdsZVByb21wdH10b1N0cmluZygpe3RoaXMudmFsaWRhdGUoKTtsZXQgdD1cImdlbmVyYXRlKFwiLGU9W1wiZXJyb3JcIl07aWYodGhpcy5zaW5nbGVQcm9tcHQmJih0Kz1gc2luZ2xlUmVzdWx0Ontwcm9tcHQ6XCIke3RoaXMuc2luZ2xlUHJvbXB0LnJlcGxhY2UoL1tcXG5cXHJdKy9nLFwiXCIpfVwifWAsZS5wdXNoKFwic2luZ2xlUmVzdWx0XCIpKSx0aGlzLmdyb3VwZWRUYXNrfHx0aGlzLmdyb3VwZWRQcm9wZXJ0aWVzIT09dm9pZCAwJiZ0aGlzLmdyb3VwZWRQcm9wZXJ0aWVzLmxlbmd0aD4wKXtsZXQgcj1bXTt0aGlzLmdyb3VwZWRUYXNrJiZyLnB1c2goYHRhc2s6XCIke3RoaXMuZ3JvdXBlZFRhc2sucmVwbGFjZSgvW1xcblxccl0rL2csXCJcIil9XCJgKSx0aGlzLmdyb3VwZWRQcm9wZXJ0aWVzIT09dm9pZCAwJiZ0aGlzLmdyb3VwZWRQcm9wZXJ0aWVzLmxlbmd0aD4wJiZyLnB1c2goYHByb3BlcnRpZXM6JHtKU09OLnN0cmluZ2lmeSh0aGlzLmdyb3VwZWRQcm9wZXJ0aWVzKX1gKSx0Kz1gZ3JvdXBlZFJlc3VsdDp7JHtyLmpvaW4oXCIsXCIpfX1gLGUucHVzaChcImdyb3VwZWRSZXN1bHRcIil9cmV0dXJuIHQrPWApeyR7ZS5qb2luKFwiIFwiKX19YCx0fXZhbGlkYXRlKCl7aWYoIXRoaXMuZ3JvdXBlZFRhc2smJiF0aGlzLnNpbmdsZVByb21wdCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IHByb3ZpZGUgYXQgbGVhc3Qgb25lIG9mIGBzaW5nbGVQcm9tcHRgIG9yIGBncm91cFRhc2tgXCIpO2lmKHRoaXMuZ3JvdXBlZFRhc2shPT12b2lkIDAmJnRoaXMuZ3JvdXBlZFRhc2s9PVwiXCIpdGhyb3cgbmV3IEVycm9yKFwiZ3JvdXBlZFRhc2sgbXVzdCBub3QgYmUgZW1wdHlcIik7aWYodGhpcy5zaW5nbGVQcm9tcHQhPT12b2lkIDAmJnRoaXMuc2luZ2xlUHJvbXB0PT1cIlwiKXRocm93IG5ldyBFcnJvcihcInNpbmdsZVByb21wdCBtdXN0IG5vdCBiZSBlbXB0eVwiKX19O3ZhciBOZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmFyZ3M9dH10b1N0cmluZygpe2xldCB0PVtdO3JldHVybiB0aGlzLmFyZ3MucGF0aCYmKHQ9Wy4uLnQsYHBhdGg6JHtKU09OLnN0cmluZ2lmeSh0aGlzLmFyZ3MucGF0aCl9YF0pLHRoaXMuYXJncy5ncm91cHMmJih0PVsuLi50LGBncm91cHM6JHt0aGlzLmFyZ3MuZ3JvdXBzfWBdKSx0aGlzLmFyZ3Mub2JqZWN0c1Blckdyb3VwJiYodD1bLi4udCxgb2JqZWN0c1Blckdyb3VwOiR7dGhpcy5hcmdzLm9iamVjdHNQZXJHcm91cH1gXSksYHske3Quam9pbihcIixcIil9fWB9fTt2YXIgQj1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dGhpcy53aXRoRmllbGRzPWU9Pih0aGlzLmZpZWxkcz1lLHRoaXMpO3RoaXMud2l0aENsYXNzTmFtZT1lPT4odGhpcy5jbGFzc05hbWU9ZSx0aGlzKTt0aGlzLndpdGhBZnRlcj1lPT4odGhpcy5hZnRlcj1lLHRoaXMpO3RoaXMud2l0aEdyb3VwPWU9Pnt0cnl7dGhpcy5ncm91cFN0cmluZz1uZXcgYmUoZSkudG9TdHJpbmcoKX1jYXRjaChyKXt0aGlzLmFkZEVycm9yKHIudG9TdHJpbmcoKSl9cmV0dXJuIHRoaXN9O3RoaXMud2l0aFdoZXJlPWU9Pnt0cnl7dGhpcy53aGVyZVN0cmluZz1uZXcgbChlKS50b1N0cmluZygpfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Ioci50b1N0cmluZygpKX1yZXR1cm4gdGhpc307dGhpcy53aXRoTmVhclRleHQ9ZT0+e2lmKHRoaXMuaW5jbHVkZXNOZWFyTWVkaWFGaWx0ZXIpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IHVzZSBtdWx0aXBsZSBuZWFyPE1lZGlhPiBmaWx0ZXJzIGluIGEgc2luZ2xlIHF1ZXJ5XCIpO3JldHVybiB0aGlzLm5lYXJUZXh0U3RyaW5nPW5ldyB1KGUpLnRvU3RyaW5nKCksdGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcj0hMCx0aGlzfTt0aGlzLndpdGhCbTI1PWU9Pnt0cnl7dGhpcy5ibTI1U3RyaW5nPW5ldyB5ZShlKS50b1N0cmluZygpfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Ioci50b1N0cmluZygpKX1yZXR1cm4gdGhpc307dGhpcy53aXRoSHlicmlkPWU9Pnt0cnl7dGhpcy5oeWJyaWRTdHJpbmc9bmV3IHdlKGUpLnRvU3RyaW5nKCl9Y2F0Y2gocil7dGhpcy5hZGRFcnJvcihyLnRvU3RyaW5nKCkpfXJldHVybiB0aGlzfTt0aGlzLndpdGhOZWFyT2JqZWN0PWU9PntpZih0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCB1c2UgbXVsdGlwbGUgbmVhcjxNZWRpYT4gZmlsdGVycyBpbiBhIHNpbmdsZSBxdWVyeVwiKTt0cnl7dGhpcy5uZWFyT2JqZWN0U3RyaW5nPW5ldyBmKGUpLnRvU3RyaW5nKCksdGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcj0hMH1jYXRjaChyKXt0aGlzLmFkZEVycm9yKHIudG9TdHJpbmcoKSl9cmV0dXJuIHRoaXN9O3RoaXMud2l0aEFzaz1lPT57dHJ5e3RoaXMuYXNrU3RyaW5nPW5ldyBBKGUpLnRvU3RyaW5nKCl9Y2F0Y2gocil7dGhpcy5hZGRFcnJvcihyLnRvU3RyaW5nKCkpfXJldHVybiB0aGlzfTt0aGlzLndpdGhOZWFyTWVkaWE9ZT0+e2lmKHRoaXMuaW5jbHVkZXNOZWFyTWVkaWFGaWx0ZXIpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IHVzZSBtdWx0aXBsZSBuZWFyPE1lZGlhPiBmaWx0ZXJzIGluIGEgc2luZ2xlIHF1ZXJ5XCIpO3RyeXt0aGlzLm5lYXJNZWRpYVN0cmluZz1uZXcgcChlKS50b1N0cmluZygpLHRoaXMubmVhck1lZGlhVHlwZT1lLnR5cGUsdGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcj0hMH1jYXRjaChyKXt0aGlzLmFkZEVycm9yKHIudG9TdHJpbmcoKSl9cmV0dXJuIHRoaXN9O3RoaXMud2l0aE5lYXJJbWFnZT1lPT57aWYodGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgdXNlIG11bHRpcGxlIG5lYXI8TWVkaWE+IGZpbHRlcnMgaW4gYSBzaW5nbGUgcXVlcnlcIik7dHJ5e3RoaXMubmVhck1lZGlhU3RyaW5nPW5ldyBTKGUpLnRvU3RyaW5nKCksdGhpcy5uZWFyTWVkaWFUeXBlPVwiSW1hZ2VcIix0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyPSEwfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Ioci50b1N0cmluZygpKX1yZXR1cm4gdGhpc307dGhpcy53aXRoTmVhckF1ZGlvPWU9PnRoaXMud2l0aE5lYXJNZWRpYSh7Li4uZSx0eXBlOlwiQXVkaW9cIixtZWRpYTplLmF1ZGlvfSk7dGhpcy53aXRoTmVhclZpZGVvPWU9PnRoaXMud2l0aE5lYXJNZWRpYSh7Li4uZSx0eXBlOlwiVmlkZW9cIixtZWRpYTplLnZpZGVvfSk7dGhpcy53aXRoTmVhclRoZXJtYWw9ZT0+dGhpcy53aXRoTmVhck1lZGlhKHsuLi5lLHR5cGU6XCJUaGVybWFsXCIsbWVkaWE6ZS50aGVybWFsfSk7dGhpcy53aXRoTmVhckRlcHRoPWU9PnRoaXMud2l0aE5lYXJNZWRpYSh7Li4uZSx0eXBlOlwiRGVwdGhcIixtZWRpYTplLmRlcHRofSk7dGhpcy53aXRoTmVhcklNVT1lPT50aGlzLndpdGhOZWFyTWVkaWEoey4uLmUsdHlwZTpcIklNVVwiLG1lZGlhOmUuaW11fSk7dGhpcy53aXRoTmVhclZlY3Rvcj1lPT57aWYodGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgdXNlIG11bHRpcGxlIG5lYXI8TWVkaWE+IGZpbHRlcnMgaW4gYSBzaW5nbGUgcXVlcnlcIik7dHJ5e3RoaXMubmVhclZlY3RvclN0cmluZz1uZXcgbShlKS50b1N0cmluZygpLHRoaXMuaW5jbHVkZXNOZWFyTWVkaWFGaWx0ZXI9ITB9Y2F0Y2gocil7dGhpcy5hZGRFcnJvcihyLnRvU3RyaW5nKCkpfXJldHVybiB0aGlzfTt0aGlzLndpdGhMaW1pdD1lPT4odGhpcy5saW1pdD1lLHRoaXMpO3RoaXMud2l0aE9mZnNldD1lPT4odGhpcy5vZmZzZXQ9ZSx0aGlzKTt0aGlzLndpdGhBdXRvY3V0PWU9Pih0aGlzLmF1dG9jdXQ9ZSx0aGlzKTt0aGlzLndpdGhTb3J0PWU9Pih0aGlzLnNvcnRTdHJpbmc9bmV3IENlKGUpLnRvU3RyaW5nKCksdGhpcyk7dGhpcy53aXRoR2VuZXJhdGU9ZT0+KHRoaXMuZ2VuZXJhdGVTdHJpbmc9bmV3IGplKGUpLnRvU3RyaW5nKCksdGhpcyk7dGhpcy53aXRoQ29uc2lzdGVuY3lMZXZlbD1lPT4odGhpcy5jb25zaXN0ZW5jeUxldmVsPWUsdGhpcyk7dGhpcy53aXRoR3JvdXBCeT1lPT57dHJ5e3RoaXMuZ3JvdXBCeVN0cmluZz1uZXcgTmUoZSkudG9TdHJpbmcoKX1jYXRjaChyKXt0aGlzLmFkZEVycm9yKHIudG9TdHJpbmcoKSl9cmV0dXJuIHRoaXN9O3RoaXMud2l0aFRlbmFudD1lPT4odGhpcy50ZW5hbnQ9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlSXNTZXQ9KGUscixzKT0+eyhlPT1udWxsfHxlPT1udWxsfHxlLmxlbmd0aD09MCkmJnRoaXMuYWRkRXJyb3IoYCR7cn0gbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAke3N9YCl9O3RoaXMudmFsaWRhdGU9KCk9Pnt0aGlzLnZhbGlkYXRlSXNTZXQodGhpcy5jbGFzc05hbWUsXCJjbGFzc05hbWVcIixcIi53aXRoQ2xhc3NOYW1lKGNsYXNzTmFtZSlcIiksdGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMuZmllbGRzLFwiZmllbGRzXCIsXCIud2l0aEZpZWxkcyhmaWVsZHMpXCIpfTt0aGlzLmRvPSgpPT57bGV0IGU9XCJcIjtpZih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpO2xldCByPVtdO3JldHVybiB0aGlzLndoZXJlU3RyaW5nJiYocj1bLi4ucixgd2hlcmU6JHt0aGlzLndoZXJlU3RyaW5nfWBdKSx0aGlzLm5lYXJUZXh0U3RyaW5nJiYocj1bLi4ucixgbmVhclRleHQ6JHt0aGlzLm5lYXJUZXh0U3RyaW5nfWBdKSx0aGlzLm5lYXJPYmplY3RTdHJpbmcmJihyPVsuLi5yLGBuZWFyT2JqZWN0OiR7dGhpcy5uZWFyT2JqZWN0U3RyaW5nfWBdKSx0aGlzLmFza1N0cmluZyYmKHI9Wy4uLnIsYGFzazoke3RoaXMuYXNrU3RyaW5nfWBdKSx0aGlzLm5lYXJNZWRpYVN0cmluZyYmKHI9Wy4uLnIsYG5lYXIke3RoaXMubmVhck1lZGlhVHlwZX06JHt0aGlzLm5lYXJNZWRpYVN0cmluZ31gXSksdGhpcy5uZWFyVmVjdG9yU3RyaW5nJiYocj1bLi4ucixgbmVhclZlY3Rvcjoke3RoaXMubmVhclZlY3RvclN0cmluZ31gXSksdGhpcy5ibTI1U3RyaW5nJiYocj1bLi4ucixgYm0yNToke3RoaXMuYm0yNVN0cmluZ31gXSksdGhpcy5oeWJyaWRTdHJpbmcmJihyPVsuLi5yLGBoeWJyaWQ6JHt0aGlzLmh5YnJpZFN0cmluZ31gXSksdGhpcy5ncm91cFN0cmluZyYmKHI9Wy4uLnIsYGdyb3VwOiR7dGhpcy5ncm91cFN0cmluZ31gXSksdGhpcy5saW1pdCYmKHI9Wy4uLnIsYGxpbWl0OiR7dGhpcy5saW1pdH1gXSksdGhpcy5vZmZzZXQmJihyPVsuLi5yLGBvZmZzZXQ6JHt0aGlzLm9mZnNldH1gXSksdGhpcy5hdXRvY3V0JiYocj1bLi4ucixgYXV0b2N1dDoke3RoaXMuYXV0b2N1dH1gXSksdGhpcy5zb3J0U3RyaW5nJiYocj1bLi4ucixgc29ydDpbJHt0aGlzLnNvcnRTdHJpbmd9XWBdKSx0aGlzLmFmdGVyJiYocj1bLi4ucixgYWZ0ZXI6XCIke3RoaXMuYWZ0ZXJ9XCJgXSksdGhpcy5nZW5lcmF0ZVN0cmluZyYmKHRoaXMuZmllbGRzPy5pbmNsdWRlcyhcIl9hZGRpdGlvbmFsXCIpP3RoaXMuZmllbGRzLnJlcGxhY2UoXCJfYWRkaXRpb25hbHtcIixgX2FkZGl0aW9uYWx7JHt0aGlzLmdlbmVyYXRlU3RyaW5nfWApOnRoaXMuZmllbGRzPXRoaXMuZmllbGRzPy5jb25jYXQoYCBfYWRkaXRpb25hbHske3RoaXMuZ2VuZXJhdGVTdHJpbmd9fWApKSx0aGlzLmNvbnNpc3RlbmN5TGV2ZWwmJihyPVsuLi5yLGBjb25zaXN0ZW5jeUxldmVsOiR7dGhpcy5jb25zaXN0ZW5jeUxldmVsfWBdKSx0aGlzLmdyb3VwQnlTdHJpbmcmJihyPVsuLi5yLGBncm91cEJ5OiR7dGhpcy5ncm91cEJ5U3RyaW5nfWBdKSx0aGlzLnRlbmFudCYmKHI9Wy4uLnIsYHRlbmFudDpcIiR7dGhpcy50ZW5hbnR9XCJgXSksci5sZW5ndGg+MCYmKGU9YCgke3Iuam9pbihcIixcIil9KWApLHRoaXMuY2xpZW50LnF1ZXJ5KGB7R2V0eyR7dGhpcy5jbGFzc05hbWV9JHtlfXske3RoaXMuZmllbGRzfX19fWApfTt0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyPSExfX07dmFyIEU9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMud2l0aEZpZWxkcz1lPT4odGhpcy5maWVsZHM9ZSx0aGlzKTt0aGlzLndpdGhMaW1pdD1lPT4odGhpcy5saW1pdD1lLHRoaXMpO3RoaXMud2l0aE5lYXJUZXh0PWU9PntpZih0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCB1c2UgbXVsdGlwbGUgbmVhcjxNZWRpYT4gZmlsdGVycyBpbiBhIHNpbmdsZSBxdWVyeVwiKTt0cnl7dGhpcy5uZWFyVGV4dFN0cmluZz1uZXcgdShlKS50b1N0cmluZygpfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Ioci50b1N0cmluZygpKX1yZXR1cm4gdGhpc307dGhpcy53aXRoTmVhck9iamVjdD1lPT57aWYodGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgdXNlIG11bHRpcGxlIG5lYXI8TWVkaWE+IGZpbHRlcnMgaW4gYSBzaW5nbGUgcXVlcnlcIik7dHJ5e3RoaXMubmVhck9iamVjdFN0cmluZz1uZXcgZihlKS50b1N0cmluZygpfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Ioci50b1N0cmluZygpKX1yZXR1cm4gdGhpc307dGhpcy53aXRoQXNrPWU9PntpZih0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCB1c2UgbXVsdGlwbGUgbmVhcjxNZWRpYT4gZmlsdGVycyBpbiBhIHNpbmdsZSBxdWVyeVwiKTt0cnl7dGhpcy5hc2tTdHJpbmc9bmV3IEEoZSkudG9TdHJpbmcoKX1jYXRjaChyKXt0aGlzLmFkZEVycm9yKHIudG9TdHJpbmcoKSl9cmV0dXJuIHRoaXN9O3RoaXMud2l0aE5lYXJNZWRpYT1lPT57aWYodGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcil0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgdXNlIG11bHRpcGxlIG5lYXI8TWVkaWE+IGZpbHRlcnMgaW4gYSBzaW5nbGUgcXVlcnlcIik7dHJ5e3RoaXMubmVhck1lZGlhU3RyaW5nPW5ldyBwKGUpLnRvU3RyaW5nKCksdGhpcy5uZWFyTWVkaWFUeXBlPWUudHlwZSx0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyPSEwfWNhdGNoKHIpe3RoaXMuYWRkRXJyb3Ioci50b1N0cmluZygpKX1yZXR1cm4gdGhpc307dGhpcy53aXRoTmVhckltYWdlPWU9PntpZih0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCB1c2UgbXVsdGlwbGUgbmVhcjxNZWRpYT4gZmlsdGVycyBpbiBhIHNpbmdsZSBxdWVyeVwiKTt0cnl7dGhpcy5uZWFyTWVkaWFTdHJpbmc9bmV3IFMoZSkudG9TdHJpbmcoKSx0aGlzLm5lYXJNZWRpYVR5cGU9XCJJbWFnZVwiLHRoaXMuaW5jbHVkZXNOZWFyTWVkaWFGaWx0ZXI9ITB9Y2F0Y2gocil7dGhpcy5hZGRFcnJvcihyLnRvU3RyaW5nKCkpfXJldHVybiB0aGlzfTt0aGlzLndpdGhOZWFyQXVkaW89ZT0+dGhpcy53aXRoTmVhck1lZGlhKHsuLi5lLG1lZGlhOmUuYXVkaW8sdHlwZTpcIkF1ZGlvXCJ9KTt0aGlzLndpdGhOZWFyVmlkZW89ZT0+dGhpcy53aXRoTmVhck1lZGlhKHsuLi5lLG1lZGlhOmUudmlkZW8sdHlwZTpcIlZpZGVvXCJ9KTt0aGlzLndpdGhOZWFyRGVwdGg9ZT0+dGhpcy53aXRoTmVhck1lZGlhKHsuLi5lLG1lZGlhOmUuZGVwdGgsdHlwZTpcIkRlcHRoXCJ9KTt0aGlzLndpdGhOZWFyVGhlcm1hbD1lPT50aGlzLndpdGhOZWFyTWVkaWEoey4uLmUsbWVkaWE6ZS50aGVybWFsLHR5cGU6XCJUaGVybWFsXCJ9KTt0aGlzLndpdGhOZWFySU1VPWU9PnRoaXMud2l0aE5lYXJNZWRpYSh7Li4uZSxtZWRpYTplLmltdSx0eXBlOlwiSU1VXCJ9KTt0aGlzLndpdGhOZWFyVmVjdG9yPWU9PntpZih0aGlzLmluY2x1ZGVzTmVhck1lZGlhRmlsdGVyKXRocm93IG5ldyBFcnJvcihcImNhbm5vdCB1c2UgbXVsdGlwbGUgbmVhcjxNZWRpYT4gZmlsdGVycyBpbiBhIHNpbmdsZSBxdWVyeVwiKTt0cnl7dGhpcy5uZWFyVmVjdG9yU3RyaW5nPW5ldyBtKGUpLnRvU3RyaW5nKCl9Y2F0Y2gocil7dGhpcy5hZGRFcnJvcihyLnRvU3RyaW5nKCkpfXJldHVybiB0aGlzfTt0aGlzLnZhbGlkYXRlR3JvdXA9KCk9PntpZih0aGlzLmdyb3VwJiYhQXJyYXkuaXNBcnJheSh0aGlzLmdyb3VwKSl0aHJvdyBuZXcgRXJyb3IoXCJncm91cEJ5IG11c3QgYmUgYW4gYXJyYXlcIil9O3RoaXMudmFsaWRhdGVJc1NldD0oZSxyLHMpPT57KGU9PW51bGx8fGU9PW51bGx8fGUubGVuZ3RoPT0wKSYmdGhpcy5hZGRFcnJvcihgJHtyfSBtdXN0IGJlIHNldCAtIHNldCB3aXRoICR7c31gKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVJc1NldCh0aGlzLmZpZWxkcyxcImZpZWxkc1wiLFwiLndpdGhGaWVsZHMoZmllbGRzKVwiKX07dGhpcy5kbz0oKT0+e2xldCBlPVwiXCI7aWYodGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtsZXQgcj1bXTtyZXR1cm4gdGhpcy5uZWFyVGV4dFN0cmluZyYmKHI9Wy4uLnIsYG5lYXJUZXh0OiR7dGhpcy5uZWFyVGV4dFN0cmluZ31gXSksdGhpcy5uZWFyT2JqZWN0U3RyaW5nJiYocj1bLi4ucixgbmVhck9iamVjdDoke3RoaXMubmVhck9iamVjdFN0cmluZ31gXSksdGhpcy5hc2tTdHJpbmcmJihyPVsuLi5yLGBhc2s6JHt0aGlzLmFza1N0cmluZ31gXSksdGhpcy5uZWFyTWVkaWFTdHJpbmcmJihyPVsuLi5yLGAke3RoaXMubmVhck1lZGlhVHlwZX06JHt0aGlzLm5lYXJNZWRpYVN0cmluZ31gXSksdGhpcy5uZWFyVmVjdG9yU3RyaW5nJiYocj1bLi4ucixgbmVhclZlY3Rvcjoke3RoaXMubmVhclZlY3RvclN0cmluZ31gXSksdGhpcy5saW1pdCYmKHI9Wy4uLnIsYGxpbWl0OiR7dGhpcy5saW1pdH1gXSksZT1gKCR7ci5qb2luKFwiLFwiKX0pYCx0aGlzLmNsaWVudC5xdWVyeShge0V4cGxvcmUke2V9eyR7dGhpcy5maWVsZHN9fX1gKX07dGhpcy5wYXJhbXM9e30sdGhpcy5pbmNsdWRlc05lYXJNZWRpYUZpbHRlcj0hMX19O3ZhciBJPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhRdWVyeT1lPT4odGhpcy5xdWVyeT1lLHRoaXMpO3RoaXMudmFsaWRhdGVJc1NldD0oZSxyLHMpPT57KGU9PW51bGx8fGU9PW51bGx8fGUubGVuZ3RoPT0wKSYmdGhpcy5hZGRFcnJvcihgJHtyfSBtdXN0IGJlIHNldCAtIHNldCB3aXRoICR7c31gKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVJc1NldCh0aGlzLnF1ZXJ5LFwicXVlcnlcIixcIi5yYXcoKS53aXRoUXVlcnkocXVlcnkpXCIpfTt0aGlzLmRvPSgpPT57bGV0IGU9XCJcIjtyZXR1cm4gdGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wP1Byb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpOnRoaXMucXVlcnk/dGhpcy5jbGllbnQucXVlcnkodGhpcy5xdWVyeSk6UHJvbWlzZS5yZXNvbHZlKHZvaWQgMCl9fX07dmFyIHl0PWk9Pih7Z2V0OigpPT5uZXcgQihpKSxhZ2dyZWdhdGU6KCk9Pm5ldyAkKGkpLGV4cGxvcmU6KCk9Pm5ldyBFKGkpLHJhdzooKT0+bmV3IEkoaSl9KSxRZT15dDt2YXIgVj1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dGhpcy53aXRoQ2xhc3M9ZT0+KHRoaXMuY2xhc3M9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlQ2xhc3M9KCk9PnsodGhpcy5jbGFzcz09bnVsbHx8dGhpcy5jbGFzcz09bnVsbCkmJnRoaXMuYWRkRXJyb3IoXCJjbGFzcyBvYmplY3QgbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAud2l0aENsYXNzKGNsYXNzKVwiKX07dGhpcy5kbz0oKT0+e2lmKHRoaXMudmFsaWRhdGVDbGFzcygpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtsZXQgZT1cIi9zY2hlbWFcIjtyZXR1cm4gdGhpcy5jbGllbnQucG9zdChlLHRoaXMuY2xhc3MpfX12YWxpZGF0ZSgpe3RoaXMudmFsaWRhdGVDbGFzcygpfX07ZnVuY3Rpb24gYShpKXtyZXR1cm4gdHlwZW9mIGk9PVwic3RyaW5nXCImJmkubGVuZ3RoPjB9dmFyIHk9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMud2l0aENsYXNzTmFtZT1lPT4odGhpcy5jbGFzc05hbWU9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lPSgpPT57YSh0aGlzLmNsYXNzTmFtZSl8fHRoaXMuYWRkRXJyb3IoXCJjbGFzc05hbWUgbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAud2l0aENsYXNzTmFtZShjbGFzc05hbWUpXCIpfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUNsYXNzTmFtZSgpfTt0aGlzLmRvPSgpPT57aWYodGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtsZXQgZT1gL3NjaGVtYS8ke3RoaXMuY2xhc3NOYW1lfWA7cmV0dXJuIHRoaXMuY2xpZW50LmRlbGV0ZShlLHZvaWQgMCwhMSl9fX07dmFyIFBlPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy52YWxpZGF0ZUNsYXNzTmFtZT0oKT0+e2EodGhpcy5jbGFzc05hbWUpfHx0aGlzLmFkZEVycm9yKFwiY2xhc3NOYW1lIG11c3QgYmUgc2V0IC0gc2V0IHdpdGggLndpdGhDbGFzc05hbWUoY2xhc3NOYW1lKVwiKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVDbGFzc05hbWUoKX07dGhpcy5kbz0oKT0+e2lmKHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCB1c2FnZTogXCIrdGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKSk7bGV0IGU9XCIvc2NoZW1hXCI7cmV0dXJuIHRoaXMuY2xpZW50LmdldChlKS50aGVuKHI9PnIuY2xhc3Nlcz8uc29tZShzPT5zLmNsYXNzPT09dGhpcy5jbGFzc05hbWUpKX19fTt2YXIgUj1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dGhpcy53aXRoQ2xhc3NOYW1lPWU9Pih0aGlzLmNsYXNzTmFtZT1lLHRoaXMpO3RoaXMudmFsaWRhdGVDbGFzc05hbWU9KCk9PnthKHRoaXMuY2xhc3NOYW1lKXx8dGhpcy5hZGRFcnJvcihcImNsYXNzTmFtZSBtdXN0IGJlIHNldCAtIHNldCB3aXRoIC53aXRoQ2xhc3NOYW1lKGNsYXNzTmFtZSlcIil9O3RoaXMudmFsaWRhdGU9KCk9Pnt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lKCl9O3RoaXMuZG89KCk9PntpZih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpO2xldCBlPWAvc2NoZW1hLyR7dGhpcy5jbGFzc05hbWV9YDtyZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGUpfX19O3ZhciBPPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy53aXRoUHJvcGVydHk9ZT0+KHRoaXMucHJvcGVydHk9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lPSgpPT57YSh0aGlzLmNsYXNzTmFtZSl8fHRoaXMuYWRkRXJyb3IoXCJjbGFzc05hbWUgbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAud2l0aENsYXNzTmFtZShjbGFzc05hbWUpXCIpfTt0aGlzLnZhbGlkYXRlUHJvcGVydHk9KCk9PnsodGhpcy5wcm9wZXJ0eT09bnVsbHx8dGhpcy5wcm9wZXJ0eT09bnVsbCkmJnRoaXMuYWRkRXJyb3IoXCJwcm9wZXJ0eSBtdXN0IGJlIHNldCAtIHNldCB3aXRoIC53aXRoUHJvcGVydHkocHJvcGVydHkpXCIpfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUNsYXNzTmFtZSgpLHRoaXMudmFsaWRhdGVQcm9wZXJ0eSgpfTt0aGlzLmRvPSgpPT57aWYodGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtsZXQgZT1gL3NjaGVtYS8ke3RoaXMuY2xhc3NOYW1lfS9wcm9wZXJ0aWVzYDtyZXR1cm4gdGhpcy5jbGllbnQucG9zdChlLHRoaXMucHJvcGVydHkpfX19O3ZhciB3PWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLmRvPSgpPT57aWYodGhpcy5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpO2xldCBlPVwiL3NjaGVtYVwiO3JldHVybiB0aGlzLmNsaWVudC5nZXQoZSl9fXZhbGlkYXRlKCl7fX07dmFyIHhlPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy52YWxpZGF0ZUNsYXNzTmFtZT0oKT0+e2EodGhpcy5jbGFzc05hbWUpfHx0aGlzLmFkZEVycm9yKFwiY2xhc3NOYW1lIG11c3QgYmUgc2V0IC0gc2V0IHdpdGggLndpdGhDbGFzc05hbWUoY2xhc3NOYW1lKVwiKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVDbGFzc05hbWUoKX07dGhpcy5kbz0oKT0+KHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MD9Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYGludmFsaWQgdXNhZ2U6ICR7dGhpcy5lcnJvcnMuam9pbihcIiwgXCIpfWApKTpXZSh0aGlzLmNsaWVudCx0aGlzLmNsYXNzTmFtZSkpfX07ZnVuY3Rpb24gV2UoaSx0KXtsZXQgZT1gL3NjaGVtYS8ke3R9L3NoYXJkc2A7cmV0dXJuIGkuZ2V0KGUpfXZhciBNPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy52YWxpZGF0ZUNsYXNzTmFtZT0oKT0+e2EodGhpcy5jbGFzc05hbWUpfHx0aGlzLmFkZEVycm9yKFwiY2xhc3NOYW1lIG11c3QgYmUgc2V0IC0gc2V0IHdpdGggLndpdGhDbGFzc05hbWUoY2xhc3NOYW1lKVwiKX07dGhpcy53aXRoU2hhcmROYW1lPWU9Pih0aGlzLnNoYXJkTmFtZT1lLHRoaXMpO3RoaXMudmFsaWRhdGVTaGFyZE5hbWU9KCk9PnthKHRoaXMuc2hhcmROYW1lKXx8dGhpcy5hZGRFcnJvcihcInNoYXJkTmFtZSBtdXN0IGJlIHNldCAtIHNldCB3aXRoIC53aXRoU2hhcmROYW1lKHNoYXJkTmFtZSlcIil9O3RoaXMud2l0aFN0YXR1cz1lPT4odGhpcy5zdGF0dXM9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlU3RhdHVzPSgpPT57YSh0aGlzLnN0YXR1cyl8fHRoaXMuYWRkRXJyb3IoXCJzdGF0dXMgbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAud2l0aFN0YXR1cyhzdGF0dXMpXCIpfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUNsYXNzTmFtZSgpLHRoaXMudmFsaWRhdGVTaGFyZE5hbWUoKSx0aGlzLnZhbGlkYXRlU3RhdHVzKCl9O3RoaXMuZG89KCk9Pih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjA/UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBpbnZhbGlkIHVzYWdlOiAke3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKX1gKSk6VWUodGhpcy5jbGllbnQsdGhpcy5jbGFzc05hbWUsdGhpcy5zaGFyZE5hbWUsdGhpcy5zdGF0dXMpKX19O2Z1bmN0aW9uIFVlKGksdCxlLHIpe2xldCBzPWAvc2NoZW1hLyR7dH0vc2hhcmRzLyR7ZX1gO3JldHVybiBpLnB1dChzLHtzdGF0dXM6cn0sITApfXZhciBGPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy52YWxpZGF0ZUNsYXNzTmFtZT0oKT0+e2EodGhpcy5jbGFzc05hbWUpfHx0aGlzLmFkZEVycm9yKFwiY2xhc3NOYW1lIG11c3QgYmUgc2V0IC0gc2V0IHdpdGggLndpdGhDbGFzc05hbWUoY2xhc3NOYW1lKVwiKX07dGhpcy53aXRoU3RhdHVzPWU9Pih0aGlzLnN0YXR1cz1lLHRoaXMpO3RoaXMudmFsaWRhdGVTdGF0dXM9KCk9PnthKHRoaXMuc3RhdHVzKXx8dGhpcy5hZGRFcnJvcihcInN0YXR1cyBtdXN0IGJlIHNldCAtIHNldCB3aXRoIC53aXRoU3RhdHVzKHN0YXR1cylcIil9O3RoaXMudmFsaWRhdGU9KCk9Pnt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lKCksdGhpcy52YWxpZGF0ZVN0YXR1cygpfTt0aGlzLnVwZGF0ZVNoYXJkcz1hc3luYygpPT57bGV0IGU9YXdhaXQgUHJvbWlzZS5hbGwoQXJyYXkuZnJvbSh7bGVuZ3RoOnRoaXMuc2hhcmRzLmxlbmd0aH0sKHIscyk9PlVlKHRoaXMuY2xpZW50LHRoaXMuY2xhc3NOYW1lLHRoaXMuc2hhcmRzW3NdLm5hbWV8fFwiXCIsdGhpcy5zdGF0dXMpLnRoZW4obz0+KHtuYW1lOnRoaXMuc2hhcmRzW3NdLm5hbWUsc3RhdHVzOm8uc3RhdHVzfSkpLmNhdGNoKG89PnRoaXMuYWRkRXJyb3Ioby50b1N0cmluZygpKSkpKTtyZXR1cm4gdGhpcy5lcnJvcnMubGVuZ3RoPjA/UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBmYWlsZWQgdG8gdXBkYXRlIHNoYXJkczogJHt0aGlzLmVycm9ycy5qb2luKFwiLCBcIil9YCkpOlByb21pc2UucmVzb2x2ZShlKX07dGhpcy5kbz0oKT0+KHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MD9Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYGludmFsaWQgdXNhZ2U6ICR7dGhpcy5lcnJvcnMuam9pbihcIiwgXCIpfWApKTpXZSh0aGlzLmNsaWVudCx0aGlzLmNsYXNzTmFtZSkudGhlbihlPT50aGlzLnNoYXJkcz1lKS50aGVuKCgpPT50aGlzLnVwZGF0ZVNoYXJkcygpKS50aGVuKGU9PmUpLmNhdGNoKGU9PlByb21pc2UucmVqZWN0KGUpKSk7dGhpcy5zaGFyZHM9W119fTt2YXIgTD1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSxyLHMpe3N1cGVyKGUpO3RoaXMudmFsaWRhdGU9KCk9Pnt9O3RoaXMuZG89KCk9PnRoaXMuY2xpZW50LnBvc3QoYC9zY2hlbWEvJHt0aGlzLmNsYXNzTmFtZX0vdGVuYW50c2AsdGhpcy50ZW5hbnRzKTt0aGlzLmNsYXNzTmFtZT1yLHRoaXMudGVuYW50cz1zfX07dmFyIEc9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSk7dGhpcy52YWxpZGF0ZT0oKT0+e307dGhpcy5kbz0oKT0+dGhpcy5jbGllbnQuZ2V0KGAvc2NoZW1hLyR7dGhpcy5jbGFzc05hbWV9L3RlbmFudHNgKTt0aGlzLmNsYXNzTmFtZT1yfX07dmFyIEQ9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUscixzKXtzdXBlcihlKTt0aGlzLnZhbGlkYXRlPSgpPT57fTt0aGlzLmRvPSgpPT50aGlzLmNsaWVudC5wdXQoYC9zY2hlbWEvJHt0aGlzLmNsYXNzTmFtZX0vdGVuYW50c2AsdGhpcy50ZW5hbnRzKTt0aGlzLmNsYXNzTmFtZT1yLHRoaXMudGVuYW50cz1zfX07dmFyIHE9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUscixzKXtzdXBlcihlKTt0aGlzLnZhbGlkYXRlPSgpPT57fTt0aGlzLmRvPSgpPT50aGlzLmNsaWVudC5kZWxldGUoYC9zY2hlbWEvJHt0aGlzLmNsYXNzTmFtZX0vdGVuYW50c2AsdGhpcy50ZW5hbnRzLCExKTt0aGlzLmNsYXNzTmFtZT1yLHRoaXMudGVuYW50cz1zfX07dmFyIFllPWFzeW5jIGk9PntsZXQgZT1hd2FpdCBuZXcgdyhpKS5kbygpO2F3YWl0IFByb21pc2UuYWxsKGUuY2xhc3Nlcz9lLmNsYXNzZXMubWFwKHI9Pm5ldyB5KGkpLndpdGhDbGFzc05hbWUoci5jbGFzcykuZG8oKSk6W10pfTt2YXIgXz1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSxyLHMpe3N1cGVyKGUpO3RoaXMudmFsaWRhdGU9KCk9Pnt9O3RoaXMuZG89KCk9PnRoaXMuY2xpZW50LmhlYWQoYC9zY2hlbWEvJHt0aGlzLmNsYXNzTmFtZX0vdGVuYW50cy8ke3RoaXMudGVuYW50fWAsdm9pZCAwKTt0aGlzLmNsYXNzTmFtZT1yLHRoaXMudGVuYW50PXN9fTt2YXIgd3Q9aT0+KHtjbGFzc0NyZWF0b3I6KCk9Pm5ldyBWKGkpLGNsYXNzRGVsZXRlcjooKT0+bmV3IHkoaSksY2xhc3NHZXR0ZXI6KCk9Pm5ldyBSKGkpLGV4aXN0czp0PT5uZXcgUGUoaSkud2l0aENsYXNzTmFtZSh0KS5kbygpLGdldHRlcjooKT0+bmV3IHcoaSkscHJvcGVydHlDcmVhdG9yOigpPT5uZXcgTyhpKSxkZWxldGVBbGw6KCk9PlllKGkpLHNoYXJkc0dldHRlcjooKT0+bmV3IHhlKGkpLHNoYXJkVXBkYXRlcjooKT0+bmV3IE0oaSksc2hhcmRzVXBkYXRlcjooKT0+bmV3IEYoaSksdGVuYW50c0NyZWF0b3I6KHQsZSk9Pm5ldyBMKGksdCxlKSx0ZW5hbnRzR2V0dGVyOnQ9Pm5ldyBHKGksdCksdGVuYW50c1VwZGF0ZXI6KHQsZSk9Pm5ldyBEKGksdCxlKSx0ZW5hbnRzRGVsZXRlcjoodCxlKT0+bmV3IHEoaSx0LGUpLHRlbmFudHNFeGlzdHM6KHQsZSk9Pm5ldyBfKGksdCxlKX0pLFhlPXd0O3ZhciBXPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUpO3RoaXMud2l0aFZlY3Rvcj1lPT4odGhpcy52ZWN0b3I9ZSx0aGlzKTt0aGlzLndpdGhWZWN0b3JzPWU9Pih0aGlzLnZlY3RvcnM9ZSx0aGlzKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy53aXRoUHJvcGVydGllcz1lPT4odGhpcy5wcm9wZXJ0aWVzPWUsdGhpcyk7dGhpcy53aXRoSWQ9ZT0+KHRoaXMuaWQ9ZSx0aGlzKTt0aGlzLndpdGhDb25zaXN0ZW5jeUxldmVsPWU9Pih0aGlzLmNvbnNpc3RlbmN5TGV2ZWw9ZSx0aGlzKTt0aGlzLndpdGhUZW5hbnQ9ZT0+KHRoaXMudGVuYW50PWUsdGhpcyk7dGhpcy52YWxpZGF0ZUNsYXNzTmFtZT0oKT0+e2EodGhpcy5jbGFzc05hbWUpfHx0aGlzLmFkZEVycm9yKFwiY2xhc3NOYW1lIG11c3QgYmUgc2V0IC0gc2V0IHdpdGggLndpdGhDbGFzc05hbWUoY2xhc3NOYW1lKVwiKX07dGhpcy5wYXlsb2FkPSgpPT4oe3RlbmFudDp0aGlzLnRlbmFudCx2ZWN0b3I6dGhpcy52ZWN0b3IscHJvcGVydGllczp0aGlzLnByb3BlcnRpZXMsY2xhc3M6dGhpcy5jbGFzc05hbWUsaWQ6dGhpcy5pZCx2ZWN0b3JzOnRoaXMudmVjdG9yc30pO3RoaXMudmFsaWRhdGU9KCk9Pnt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lKCl9O3RoaXMuZG89KCk9Pih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjA/UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCB1c2FnZTogXCIrdGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKSk6dGhpcy5vYmplY3RzUGF0aC5idWlsZENyZWF0ZSh0aGlzLmNvbnNpc3RlbmN5TGV2ZWwpLnRoZW4oZT0+dGhpcy5jbGllbnQucG9zdChlLHRoaXMucGF5bG9hZCgpKSkpO3RoaXMub2JqZWN0c1BhdGg9cn19O3ZhciBVPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy53aXRoUHJvcGVydGllcz1lPT4odGhpcy5wcm9wZXJ0aWVzPWUsdGhpcyk7dGhpcy53aXRoSWQ9ZT0+KHRoaXMuaWQ9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lPSgpPT57YSh0aGlzLmNsYXNzTmFtZSl8fHRoaXMuYWRkRXJyb3IoXCJjbGFzc05hbWUgbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAud2l0aENsYXNzTmFtZShjbGFzc05hbWUpXCIpfTt0aGlzLnBheWxvYWQ9KCk9Pih7cHJvcGVydGllczp0aGlzLnByb3BlcnRpZXMsY2xhc3M6dGhpcy5jbGFzc05hbWUsaWQ6dGhpcy5pZH0pO3RoaXMudmFsaWRhdGU9KCk9Pnt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lKCl9O3RoaXMuZG89KCk9PntpZih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpO2xldCBlPVwiL29iamVjdHMvdmFsaWRhdGVcIjtyZXR1cm4gdGhpcy5jbGllbnQucG9zdChlLHRoaXMucGF5bG9hZCgpLCExKS50aGVuKCgpPT4hMCl9fX07dmFyIEo9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSk7dGhpcy53aXRoVmVjdG9yPWU9Pih0aGlzLnZlY3Rvcj1lLHRoaXMpO3RoaXMud2l0aFZlY3RvcnM9ZT0+KHRoaXMudmVjdG9ycz1lLHRoaXMpO3RoaXMud2l0aFByb3BlcnRpZXM9ZT0+KHRoaXMucHJvcGVydGllcz1lLHRoaXMpO3RoaXMud2l0aElkPWU9Pih0aGlzLmlkPWUsdGhpcyk7dGhpcy53aXRoQ2xhc3NOYW1lPWU9Pih0aGlzLmNsYXNzTmFtZT1lLHRoaXMpO3RoaXMud2l0aFRlbmFudD1lPT4odGhpcy50ZW5hbnQ9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lPSgpPT57YSh0aGlzLmNsYXNzTmFtZSl8fHRoaXMuYWRkRXJyb3IoXCJjbGFzc05hbWUgbXVzdCBiZSBzZXQgLSB1c2Ugd2l0aENsYXNzTmFtZShjbGFzc05hbWUpXCIpfTt0aGlzLnZhbGlkYXRlSWQ9KCk9PnsodGhpcy5pZD09bnVsbHx8dGhpcy5pZD09bnVsbHx8dGhpcy5pZC5sZW5ndGg9PTApJiZ0aGlzLmFkZEVycm9yKFwiaWQgbXVzdCBiZSBzZXQgLSBpbml0aWFsaXplIHdpdGggdXBkYXRlcihpZClcIil9O3RoaXMud2l0aENvbnNpc3RlbmN5TGV2ZWw9ZT0+KHRoaXMuY29uc2lzdGVuY3lMZXZlbD1lLHRoaXMpO3RoaXMucGF5bG9hZD0oKT0+KHt0ZW5hbnQ6dGhpcy50ZW5hbnQscHJvcGVydGllczp0aGlzLnByb3BlcnRpZXMsY2xhc3M6dGhpcy5jbGFzc05hbWUsaWQ6dGhpcy5pZCx2ZWN0b3I6dGhpcy52ZWN0b3IsdmVjdG9yczp0aGlzLnZlY3RvcnN9KTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUNsYXNzTmFtZSgpLHRoaXMudmFsaWRhdGVJZCgpfTt0aGlzLmRvPSgpPT4odGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wP1Byb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpOnRoaXMub2JqZWN0c1BhdGguYnVpbGRVcGRhdGUodGhpcy5pZCx0aGlzLmNsYXNzTmFtZSx0aGlzLmNvbnNpc3RlbmN5TGV2ZWwpLnRoZW4oZT0+dGhpcy5jbGllbnQucHV0KGUsdGhpcy5wYXlsb2FkKCkpKSk7dGhpcy5vYmplY3RzUGF0aD1yfX07dmFyIEg9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSk7dGhpcy53aXRoUHJvcGVydGllcz1lPT4odGhpcy5wcm9wZXJ0aWVzPWUsdGhpcyk7dGhpcy53aXRoQ2xhc3NOYW1lPWU9Pih0aGlzLmNsYXNzTmFtZT1lLHRoaXMpO3RoaXMud2l0aElkPWU9Pih0aGlzLmlkPWUsdGhpcyk7dGhpcy53aXRoQ29uc2lzdGVuY3lMZXZlbD1lPT4odGhpcy5jb25zaXN0ZW5jeUxldmVsPWUsdGhpcyk7dGhpcy53aXRoVGVuYW50PWU9Pih0aGlzLnRlbmFudD1lLHRoaXMpO3RoaXMudmFsaWRhdGVDbGFzc05hbWU9KCk9PnthKHRoaXMuY2xhc3NOYW1lKXx8dGhpcy5hZGRFcnJvcihcImNsYXNzTmFtZSBtdXN0IGJlIHNldCAtIHNldCB3aXRoIHdpdGhDbGFzc05hbWUoY2xhc3NOYW1lKVwiKX07dGhpcy52YWxpZGF0ZUlkPSgpPT57KHRoaXMuaWQ9PW51bGx8fHRoaXMuaWQ9PW51bGx8fHRoaXMuaWQubGVuZ3RoPT0wKSYmdGhpcy5hZGRFcnJvcihcImlkIG11c3QgYmUgc2V0IC0gc2V0IHdpdGggd2l0aElkKGlkKVwiKX07dGhpcy5wYXlsb2FkPSgpPT4oe3RlbmFudDp0aGlzLnRlbmFudCxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllcyxjbGFzczp0aGlzLmNsYXNzTmFtZSxpZDp0aGlzLmlkfSk7dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVDbGFzc05hbWUoKSx0aGlzLnZhbGlkYXRlSWQoKX07dGhpcy5kbz0oKT0+KHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MD9Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTp0aGlzLm9iamVjdHNQYXRoLmJ1aWxkTWVyZ2UodGhpcy5pZCx0aGlzLmNsYXNzTmFtZSx0aGlzLmNvbnNpc3RlbmN5TGV2ZWwpLnRoZW4oZT0+dGhpcy5jbGllbnQucGF0Y2goZSx0aGlzLnBheWxvYWQoKSkpKTt0aGlzLm9iamVjdHNQYXRoPXJ9fTt2YXIgSz1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy53aXRoQWZ0ZXI9ZT0+KHRoaXMuYWZ0ZXI9ZSx0aGlzKTt0aGlzLndpdGhMaW1pdD1lPT4odGhpcy5saW1pdD1lLHRoaXMpO3RoaXMud2l0aFRlbmFudD1lPT4odGhpcy50ZW5hbnQ9ZSx0aGlzKTt0aGlzLmV4dGVuZEFkZGl0aW9uYWw9ZT0+KHRoaXMuYWRkaXRpb25hbD1bLi4udGhpcy5hZGRpdGlvbmFsLGVdLHRoaXMpO3RoaXMud2l0aEFkZGl0aW9uYWw9ZT0+dGhpcy5leHRlbmRBZGRpdGlvbmFsKGUpO3RoaXMud2l0aFZlY3Rvcj0oKT0+dGhpcy5leHRlbmRBZGRpdGlvbmFsKFwidmVjdG9yXCIpO3RoaXMuZG89KCk9PnRoaXMuZXJyb3JzLmxlbmd0aD4wP1Byb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpOnRoaXMub2JqZWN0c1BhdGguYnVpbGRHZXQodGhpcy5jbGFzc05hbWUsdGhpcy5saW1pdCx0aGlzLmFkZGl0aW9uYWwsdGhpcy5hZnRlcix0aGlzLnRlbmFudCkudGhlbihlPT50aGlzLmNsaWVudC5nZXQoZSkpO3RoaXMub2JqZWN0c1BhdGg9cix0aGlzLmFkZGl0aW9uYWw9W119dmFsaWRhdGUoKXt9fTt2YXIgej1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlKTt0aGlzLndpdGhJZD1lPT4odGhpcy5pZD1lLHRoaXMpO3RoaXMud2l0aENsYXNzTmFtZT1lPT4odGhpcy5jbGFzc05hbWU9ZSx0aGlzKTt0aGlzLndpdGhUZW5hbnQ9ZT0+KHRoaXMudGVuYW50PWUsdGhpcyk7dGhpcy5leHRlbmRBZGRpdGlvbmFsPWU9Pih0aGlzLmFkZGl0aW9uYWw9Wy4uLnRoaXMuYWRkaXRpb25hbCxlXSx0aGlzKTt0aGlzLndpdGhBZGRpdGlvbmFsPWU9PnRoaXMuZXh0ZW5kQWRkaXRpb25hbChlKTt0aGlzLndpdGhWZWN0b3I9KCk9PnRoaXMuZXh0ZW5kQWRkaXRpb25hbChcInZlY3RvclwiKTt0aGlzLndpdGhDb25zaXN0ZW5jeUxldmVsPWU9Pih0aGlzLmNvbnNpc3RlbmN5TGV2ZWw9ZSx0aGlzKTt0aGlzLndpdGhOb2RlTmFtZT1lPT4odGhpcy5ub2RlTmFtZT1lLHRoaXMpO3RoaXMudmFsaWRhdGVJZD0oKT0+eyh0aGlzLmlkPT1udWxsfHx0aGlzLmlkPT1udWxsfHx0aGlzLmlkLmxlbmd0aD09MCkmJnRoaXMuYWRkRXJyb3IoXCJpZCBtdXN0IGJlIHNldCAtIGluaXRpYWxpemUgd2l0aCBnZXR0ZXJCeUlkKGlkKVwiKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVJZCgpfTt0aGlzLmJ1aWxkUGF0aD0oKT0+dGhpcy5vYmplY3RzUGF0aC5idWlsZEdldE9uZSh0aGlzLmlkLHRoaXMuY2xhc3NOYW1lLHRoaXMuYWRkaXRpb25hbCx0aGlzLmNvbnNpc3RlbmN5TGV2ZWwsdGhpcy5ub2RlTmFtZSx0aGlzLnRlbmFudCk7dGhpcy5kbz0oKT0+KHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MD9Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTp0aGlzLmJ1aWxkUGF0aCgpLnRoZW4oZT0+dGhpcy5jbGllbnQuZ2V0KGUpKSk7dGhpcy5vYmplY3RzUGF0aD1yLHRoaXMuYWRkaXRpb25hbD1bXX19O3ZhciBRPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUpO3RoaXMud2l0aElkPWU9Pih0aGlzLmlkPWUsdGhpcyk7dGhpcy53aXRoQ2xhc3NOYW1lPWU9Pih0aGlzLmNsYXNzTmFtZT1lLHRoaXMpO3RoaXMud2l0aENvbnNpc3RlbmN5TGV2ZWw9ZT0+KHRoaXMuY29uc2lzdGVuY3lMZXZlbD1lLHRoaXMpO3RoaXMud2l0aFRlbmFudD1lPT4odGhpcy50ZW5hbnQ9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlSXNTZXQ9KGUscixzKT0+eyhlPT1udWxsfHxlPT1udWxsfHxlLmxlbmd0aD09MCkmJnRoaXMuYWRkRXJyb3IoYCR7cn0gbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAke3N9YCl9O3RoaXMudmFsaWRhdGVJZD0oKT0+e3RoaXMudmFsaWRhdGVJc1NldCh0aGlzLmlkLFwiaWRcIixcIi53aXRoSWQoaWQpXCIpfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUlkKCl9O3RoaXMuZG89KCk9PnRoaXMuZXJyb3JzLmxlbmd0aD4wP1Byb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpOih0aGlzLnZhbGlkYXRlKCksdGhpcy5vYmplY3RzUGF0aC5idWlsZERlbGV0ZSh0aGlzLmlkLHRoaXMuY2xhc3NOYW1lLHRoaXMuY29uc2lzdGVuY3lMZXZlbCx0aGlzLnRlbmFudCkudGhlbihlPT50aGlzLmNsaWVudC5kZWxldGUoZSx2b2lkIDAsITEpKSk7dGhpcy5vYmplY3RzUGF0aD1yfX07dmFyIFk9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSk7dGhpcy53aXRoSWQ9ZT0+KHRoaXMuaWQ9ZSx0aGlzKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy53aXRoVGVuYW50PWU9Pih0aGlzLnRlbmFudD1lLHRoaXMpO3RoaXMud2l0aENvbnNpc3RlbmN5TGV2ZWw9ZT0+KHRoaXMuY29uc2lzdGVuY3lMZXZlbD1lLHRoaXMpO3RoaXMuYnVpbGRQYXRoPSgpPT50aGlzLm9iamVjdHNQYXRoLmJ1aWxkQ2hlY2sodGhpcy5pZCx0aGlzLmNsYXNzTmFtZSx0aGlzLmNvbnNpc3RlbmN5TGV2ZWwsdGhpcy50ZW5hbnQpO3RoaXMudmFsaWRhdGVJc1NldD0oZSxyLHMpPT57KGU9PW51bGx8fGU9PW51bGx8fGUubGVuZ3RoPT0wKSYmdGhpcy5hZGRFcnJvcihgJHtyfSBtdXN0IGJlIHNldCAtIHNldCB3aXRoICR7c31gKX07dGhpcy52YWxpZGF0ZUlkPSgpPT57dGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMuaWQsXCJpZFwiLFwiLndpdGhJZChpZClcIil9O3RoaXMudmFsaWRhdGU9KCk9Pnt0aGlzLnZhbGlkYXRlSWQoKX07dGhpcy5kbz0oKT0+dGhpcy5lcnJvcnMubGVuZ3RoPjA/UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCB1c2FnZTogXCIrdGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKSk6KHRoaXMudmFsaWRhdGUoKSx0aGlzLmJ1aWxkUGF0aCgpLnRoZW4oZT0+dGhpcy5jbGllbnQuaGVhZChlLHZvaWQgMCkpKTt0aGlzLm9iamVjdHNQYXRoPXJ9fTt2YXIgWD1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSxyLHMpe3N1cGVyKGUpO3RoaXMud2l0aElkPWU9Pih0aGlzLmlkPWUsdGhpcyk7dGhpcy53aXRoUmVmZXJlbmNlPWU9Pih0aGlzLnJlZmVyZW5jZT1lLHRoaXMpO3RoaXMud2l0aFJlZmVyZW5jZVByb3BlcnR5PWU9Pih0aGlzLnJlZlByb3A9ZSx0aGlzKTt0aGlzLndpdGhDb25zaXN0ZW5jeUxldmVsPWU9Pih0aGlzLmNvbnNpc3RlbmN5TGV2ZWw9ZSx0aGlzKTt0aGlzLndpdGhUZW5hbnQ9ZT0+KHRoaXMudGVuYW50PWUsdGhpcyk7dGhpcy52YWxpZGF0ZUlzU2V0PShlLHIscyk9PnsoZT09bnVsbHx8ZT09bnVsbHx8ZS5sZW5ndGg9PTApJiZ0aGlzLmFkZEVycm9yKGAke3J9IG11c3QgYmUgc2V0IC0gc2V0IHdpdGggJHtzfWApfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMuaWQsXCJpZFwiLFwiLndpdGhJZChpZClcIiksdGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMucmVmUHJvcCxcInJlZmVyZW5jZVByb3BlcnR5XCIsXCIud2l0aFJlZmVyZW5jZVByb3BlcnR5KHJlZlByb3ApXCIpfTt0aGlzLnBheWxvYWQ9KCk9PnRoaXMucmVmZXJlbmNlO3RoaXMuZG89KCk9PntpZih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpO2lmKCF0aGlzLnJlZmVyZW5jZS5iZWFjb24pdGhyb3cgbmV3IEVycm9yKFwicmVmZXJlbmNlIGJlYWNvbiBtdXN0IGJlIHNldFwiKTtyZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMucmVmZXJlbmNlc1BhdGguYnVpbGQodGhpcy5pZCx0aGlzLmNsYXNzTmFtZSx0aGlzLnJlZlByb3AsdGhpcy5jb25zaXN0ZW5jeUxldmVsLHRoaXMudGVuYW50KSx0aGlzLmJlYWNvblBhdGgucmVidWlsZCh0aGlzLnJlZmVyZW5jZS5iZWFjb24pXSkudGhlbihlPT57bGV0IHI9ZVswXSxzPWVbMV07cmV0dXJuIHRoaXMuY2xpZW50LnBvc3Qocix7YmVhY29uOnN9LCExKX0pfTt0aGlzLnJlZmVyZW5jZXNQYXRoPXIsdGhpcy5iZWFjb25QYXRoPXN9d2l0aENsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5jbGFzc05hbWU9ZSx0aGlzfX07dmFyIFo9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUscixzKXtzdXBlcihlKTt0aGlzLndpdGhJZD1lPT4odGhpcy5pZD1lLHRoaXMpO3RoaXMud2l0aFJlZmVyZW5jZXM9ZT0+KHRoaXMucmVmZXJlbmNlcz1lLHRoaXMpO3RoaXMud2l0aFJlZmVyZW5jZVByb3BlcnR5PWU9Pih0aGlzLnJlZlByb3A9ZSx0aGlzKTt0aGlzLndpdGhDb25zaXN0ZW5jeUxldmVsPWU9Pih0aGlzLmNvbnNpc3RlbmN5TGV2ZWw9ZSx0aGlzKTt0aGlzLndpdGhUZW5hbnQ9ZT0+KHRoaXMudGVuYW50PWUsdGhpcyk7dGhpcy52YWxpZGF0ZUlzU2V0PShlLHIscyk9PnsoZT09bnVsbHx8ZT09bnVsbHx8ZS5sZW5ndGg9PTApJiZ0aGlzLmFkZEVycm9yKGAke3J9IG11c3QgYmUgc2V0IC0gc2V0IHdpdGggJHtzfWApfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMuaWQsXCJpZFwiLFwiLndpdGhJZChpZClcIiksdGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMucmVmUHJvcCxcInJlZmVyZW5jZVByb3BlcnR5XCIsXCIud2l0aFJlZmVyZW5jZVByb3BlcnR5KHJlZlByb3ApXCIpfTt0aGlzLnBheWxvYWQ9KCk9PnRoaXMucmVmZXJlbmNlczt0aGlzLmRvPSgpPT57aWYodGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtsZXQgZT1BcnJheS5pc0FycmF5KHRoaXMucmVmZXJlbmNlcyk/UHJvbWlzZS5hbGwodGhpcy5yZWZlcmVuY2VzLm1hcChyPT50aGlzLnJlYnVpbGRSZWZlcmVuY2VQcm9taXNlKHIpKSk6UHJvbWlzZS5yZXNvbHZlKFtdKTtyZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMucmVmZXJlbmNlc1BhdGguYnVpbGQodGhpcy5pZCx0aGlzLmNsYXNzTmFtZSx0aGlzLnJlZlByb3AsdGhpcy5jb25zaXN0ZW5jeUxldmVsLHRoaXMudGVuYW50KSxlXSkudGhlbihyPT57bGV0IHM9clswXSxvPXJbMV07cmV0dXJuIHRoaXMuY2xpZW50LnB1dChzLG8sITEpfSl9O3RoaXMuYmVhY29uUGF0aD1zLHRoaXMucmVmZXJlbmNlc1BhdGg9cn13aXRoQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLmNsYXNzTmFtZT1lLHRoaXN9cmVidWlsZFJlZmVyZW5jZVByb21pc2UoZSl7cmV0dXJuIHRoaXMuYmVhY29uUGF0aC5yZWJ1aWxkKGUuYmVhY29uKS50aGVuKHI9Pih7YmVhY29uOnJ9KSl9fTt2YXIgZWU9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUscixzKXtzdXBlcihlKTt0aGlzLndpdGhJZD1lPT4odGhpcy5pZD1lLHRoaXMpO3RoaXMud2l0aFJlZmVyZW5jZT1lPT4odGhpcy5yZWZlcmVuY2U9ZSx0aGlzKTt0aGlzLndpdGhSZWZlcmVuY2VQcm9wZXJ0eT1lPT4odGhpcy5yZWZQcm9wPWUsdGhpcyk7dGhpcy53aXRoQ29uc2lzdGVuY3lMZXZlbD1lPT4odGhpcy5jb25zaXN0ZW5jeUxldmVsPWUsdGhpcyk7dGhpcy53aXRoVGVuYW50PWU9Pih0aGlzLnRlbmFudD1lLHRoaXMpO3RoaXMudmFsaWRhdGVJc1NldD0oZSxyLHMpPT57KGU9PW51bGx8fGU9PW51bGx8fGUubGVuZ3RoPT0wKSYmdGhpcy5hZGRFcnJvcihgJHtyfSBtdXN0IGJlIHNldCAtIHNldCB3aXRoICR7c31gKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVJc1NldCh0aGlzLmlkLFwiaWRcIixcIi53aXRoSWQoaWQpXCIpLHRoaXMudmFsaWRhdGVJc1NldCh0aGlzLnJlZlByb3AsXCJyZWZlcmVuY2VQcm9wZXJ0eVwiLFwiLndpdGhSZWZlcmVuY2VQcm9wZXJ0eShyZWZQcm9wKVwiKX07dGhpcy5wYXlsb2FkPSgpPT50aGlzLnJlZmVyZW5jZTt0aGlzLmRvPSgpPT57aWYodGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtpZighdGhpcy5yZWZlcmVuY2UuYmVhY29uKXRocm93IG5ldyBFcnJvcihcInJlZmVyZW5jZSBiZWFjb24gbXVzdCBiZSBzZXRcIik7cmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLnJlZmVyZW5jZXNQYXRoLmJ1aWxkKHRoaXMuaWQsdGhpcy5jbGFzc05hbWUsdGhpcy5yZWZQcm9wLHRoaXMuY29uc2lzdGVuY3lMZXZlbCx0aGlzLnRlbmFudCksdGhpcy5iZWFjb25QYXRoLnJlYnVpbGQodGhpcy5yZWZlcmVuY2UuYmVhY29uKV0pLnRoZW4oZT0+e2xldCByPWVbMF0scz1lWzFdO3JldHVybiB0aGlzLmNsaWVudC5kZWxldGUocix7YmVhY29uOnN9LCExKX0pfTt0aGlzLnJlZmVyZW5jZXNQYXRoPXIsdGhpcy5iZWFjb25QYXRoPXN9d2l0aENsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5jbGFzc05hbWU9ZSx0aGlzfX07dmFyIHRlPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLndpdGhJZD1lPT4odGhpcy5pZD1lLHRoaXMpO3RoaXMudmFsaWRhdGVJc1NldD0oZSxyLHMpPT57KGU9PW51bGx8fGU9PW51bGx8fGUubGVuZ3RoPT0wKSYmdGhpcy5hZGRFcnJvcihgJHtyfSBtdXN0IGJlIHNldCAtIHNldCB3aXRoICR7c31gKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVJc1NldCh0aGlzLmlkLFwiaWRcIixcIi53aXRoSWQoaWQpXCIpfTt0aGlzLnBheWxvYWQ9KCk9PntpZih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKHRoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSk7bGV0IGU9XCJ3ZWF2aWF0ZTovL2xvY2FsaG9zdFwiO3JldHVybiBhKHRoaXMuY2xhc3NOYW1lKSYmKGU9YCR7ZX0vJHt0aGlzLmNsYXNzTmFtZX1gKSx7YmVhY29uOmAke2V9LyR7dGhpcy5pZH1gfX19d2l0aENsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5jbGFzc05hbWU9ZSx0aGlzfWRvKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlNob3VsZCBuZXZlciBiZSBjYWxsZWRcIikpfX07ZnVuY3Rpb24gJGUoaSl7aWYodHlwZW9mIGk9PVwic3RyaW5nXCIpe2xldCB0PWkuc3BsaXQoXCIuXCIpO2lmKHQubGVuZ3RoPj0yKXtsZXQgZT1wYXJzZUludCh0WzBdLDEwKSxyPXBhcnNlSW50KHRbMV0sMTApO3JldHVybiEoZTw9MSYmcjwxNil9fXJldHVybiEwfXZhciBaZT1cIi9vYmplY3RzXCIsQmU9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5kYlZlcnNpb25TdXBwb3J0PXR9YnVpbGRDcmVhdGUodCl7cmV0dXJuIHRoaXMuYnVpbGQoe2NvbnNpc3RlbmN5TGV2ZWw6dH0sW3RoaXMuYWRkUXVlcnlQYXJhbXNdKX1idWlsZERlbGV0ZSh0LGUscixzKXtyZXR1cm4gdGhpcy5idWlsZCh7aWQ6dCxjbGFzc05hbWU6ZSxjb25zaXN0ZW5jeUxldmVsOnIsdGVuYW50OnN9LFt0aGlzLmFkZENsYXNzTmFtZURlcHJlY2F0ZWROb3RTdXBwb3J0ZWRDaGVjayx0aGlzLmFkZElkLHRoaXMuYWRkUXVlcnlQYXJhbXNdKX1idWlsZENoZWNrKHQsZSxyLHMpe3JldHVybiB0aGlzLmJ1aWxkKHtpZDp0LGNsYXNzTmFtZTplLGNvbnNpc3RlbmN5TGV2ZWw6cix0ZW5hbnQ6c30sW3RoaXMuYWRkQ2xhc3NOYW1lRGVwcmVjYXRlZE5vdFN1cHBvcnRlZENoZWNrLHRoaXMuYWRkSWQsdGhpcy5hZGRRdWVyeVBhcmFtc10pfWJ1aWxkR2V0T25lKHQsZSxyLHMsbyxoKXtyZXR1cm4gdGhpcy5idWlsZCh7aWQ6dCxjbGFzc05hbWU6ZSxhZGRpdGlvbmFsOnIsY29uc2lzdGVuY3lMZXZlbDpzLG5vZGVOYW1lOm8sdGVuYW50Omh9LFt0aGlzLmFkZENsYXNzTmFtZURlcHJlY2F0ZWROb3RTdXBwb3J0ZWRDaGVjayx0aGlzLmFkZElkLHRoaXMuYWRkUXVlcnlQYXJhbXNdKX1idWlsZEdldCh0LGUscixzLG8pe3JldHVybiB0aGlzLmJ1aWxkKHtjbGFzc05hbWU6dCxsaW1pdDplLGFkZGl0aW9uYWw6cixhZnRlcjpzLHRlbmFudDpvfSxbdGhpcy5hZGRRdWVyeVBhcmFtc0ZvckdldF0pfWJ1aWxkVXBkYXRlKHQsZSxyKXtyZXR1cm4gdGhpcy5idWlsZCh7aWQ6dCxjbGFzc05hbWU6ZSxjb25zaXN0ZW5jeUxldmVsOnJ9LFt0aGlzLmFkZENsYXNzTmFtZURlcHJlY2F0ZWRDaGVjayx0aGlzLmFkZElkLHRoaXMuYWRkUXVlcnlQYXJhbXNdKX1idWlsZE1lcmdlKHQsZSxyKXtyZXR1cm4gdGhpcy5idWlsZCh7aWQ6dCxjbGFzc05hbWU6ZSxjb25zaXN0ZW5jeUxldmVsOnJ9LFt0aGlzLmFkZENsYXNzTmFtZURlcHJlY2F0ZWRDaGVjayx0aGlzLmFkZElkLHRoaXMuYWRkUXVlcnlQYXJhbXNdKX1idWlsZCh0LGUpe3JldHVybiB0aGlzLmRiVmVyc2lvblN1cHBvcnQuc3VwcG9ydHNDbGFzc05hbWVOYW1lc3BhY2VkRW5kcG9pbnRzUHJvbWlzZSgpLnRoZW4ocj0+e2xldCBzPVplO3JldHVybiBlLmZvckVhY2gobz0+e3M9byh0LHMscil9KSxzfSl9YWRkQ2xhc3NOYW1lRGVwcmVjYXRlZE5vdFN1cHBvcnRlZENoZWNrKHQsZSxyKXtpZihyLnN1cHBvcnRzKXtpZihhKHQuY2xhc3NOYW1lKSlyZXR1cm5gJHtlfS8ke3QuY2xhc3NOYW1lfWA7ci53YXJucy5kZXByZWNhdGVkTm9uQ2xhc3NOYW1lTmFtZXNwYWNlZEVuZHBvaW50c0Zvck9iamVjdHMoKX1lbHNlIHIud2FybnMubm90U3VwcG9ydGVkQ2xhc3NOYW1lc3BhY2VkRW5kcG9pbnRzRm9yT2JqZWN0cygpO3JldHVybiBlfWFkZENsYXNzTmFtZURlcHJlY2F0ZWRDaGVjayh0LGUscil7aWYoci5zdXBwb3J0cyl7aWYoYSh0LmNsYXNzTmFtZSkpcmV0dXJuYCR7ZX0vJHt0LmNsYXNzTmFtZX1gO3Iud2FybnMuZGVwcmVjYXRlZE5vbkNsYXNzTmFtZU5hbWVzcGFjZWRFbmRwb2ludHNGb3JPYmplY3RzKCl9cmV0dXJuIGV9YWRkSWQodCxlKXtyZXR1cm4gYSh0LmlkKT9gJHtlfS8ke3QuaWR9YDplfWFkZFF1ZXJ5UGFyYW1zKHQsZSl7bGV0IHI9W107cmV0dXJuIEFycmF5LmlzQXJyYXkodC5hZGRpdGlvbmFsKSYmdC5hZGRpdGlvbmFsLmxlbmd0aD4wJiZyLnB1c2goYGluY2x1ZGU9JHt0LmFkZGl0aW9uYWwuam9pbihcIixcIil9YCksYSh0Lm5vZGVOYW1lKSYmci5wdXNoKGBub2RlX25hbWU9JHt0Lm5vZGVOYW1lfWApLGEodC5jb25zaXN0ZW5jeUxldmVsKSYmci5wdXNoKGBjb25zaXN0ZW5jeV9sZXZlbD0ke3QuY29uc2lzdGVuY3lMZXZlbH1gKSxhKHQudGVuYW50KSYmci5wdXNoKGB0ZW5hbnQ9JHt0LnRlbmFudH1gKSxyLmxlbmd0aD4wP2Ake2V9PyR7ci5qb2luKFwiJlwiKX1gOmV9YWRkUXVlcnlQYXJhbXNGb3JHZXQodCxlLHIpe2xldCBzPVtdO3JldHVybiBBcnJheS5pc0FycmF5KHQuYWRkaXRpb25hbCkmJnQuYWRkaXRpb25hbC5sZW5ndGg+MCYmcy5wdXNoKGBpbmNsdWRlPSR7dC5hZGRpdGlvbmFsLmpvaW4oXCIsXCIpfWApLHR5cGVvZiB0LmxpbWl0PT1cIm51bWJlclwiJiZ0LmxpbWl0PjAmJnMucHVzaChgbGltaXQ9JHt0LmxpbWl0fWApLGEodC5jbGFzc05hbWUpJiYoci5zdXBwb3J0cz9zLnB1c2goYGNsYXNzPSR7dC5jbGFzc05hbWV9YCk6ci53YXJucy5ub3RTdXBwb3J0ZWRDbGFzc1BhcmFtZXRlckluRW5kcG9pbnRzRm9yT2JqZWN0cygpKSxhKHQuYWZ0ZXIpJiZzLnB1c2goYGFmdGVyPSR7dC5hZnRlcn1gKSxhKHQudGVuYW50KSYmcy5wdXNoKGB0ZW5hbnQ9JHt0LnRlbmFudH1gKSxzLmxlbmd0aD4wP2Ake2V9PyR7cy5qb2luKFwiJlwiKX1gOmV9fSxFZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRiVmVyc2lvblN1cHBvcnQ9dH1idWlsZCh0LGUscixzLG8pe3JldHVybiB0aGlzLmRiVmVyc2lvblN1cHBvcnQuc3VwcG9ydHNDbGFzc05hbWVOYW1lc3BhY2VkRW5kcG9pbnRzUHJvbWlzZSgpLnRoZW4oaD0+e2xldCBjPVplO2guc3VwcG9ydHM/YShlKT9jPWAke2N9LyR7ZX1gOmgud2FybnMuZGVwcmVjYXRlZE5vbkNsYXNzTmFtZU5hbWVzcGFjZWRFbmRwb2ludHNGb3JSZWZlcmVuY2VzKCk6aC53YXJucy5ub3RTdXBwb3J0ZWRDbGFzc05hbWVzcGFjZWRFbmRwb2ludHNGb3JSZWZlcmVuY2VzKCksaC52ZXJzaW9uJiYoJGUoaC52ZXJzaW9uKXx8aC53YXJucy5kZXByZWNhdGVkV2VhdmlhdGVUb29PbGQoKSksYSh0KSYmKGM9YCR7Y30vJHt0fWApLGM9YCR7Y30vcmVmZXJlbmNlc2AsYShyKSYmKGM9YCR7Y30vJHtyfWApO2xldCBkPVtdO3JldHVybiBhKHMpJiZkLnB1c2goYGNvbnNpc3RlbmN5X2xldmVsPSR7c31gKSxhKG8pJiZkLnB1c2goYHRlbmFudD0ke299YCksZC5sZW5ndGg+MCYmKGM9YCR7Y30/JHtkLmpvaW4oXCImXCIpfWApLGN9KX19O3ZhciBidD1cIndlYXZpYXRlOi8vbG9jYWxob3N0XCIscmU9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5kYlZlcnNpb25TdXBwb3J0PXQsdGhpcy5iZWFjb25SZWdFeHA9L153ZWF2aWF0ZTpcXC9cXC9sb2NhbGhvc3QoXFwvKFteXFxcXC9dKykpPyhcXC8oW15cXFxcL10rKSk/W1xcXFwvXT8kL2dpfWFzeW5jIHJlYnVpbGQodCl7bGV0IGU9YXdhaXQgdGhpcy5kYlZlcnNpb25TdXBwb3J0LnN1cHBvcnRzQ2xhc3NOYW1lTmFtZXNwYWNlZEVuZHBvaW50c1Byb21pc2UoKSxyPW5ldyBSZWdFeHAodGhpcy5iZWFjb25SZWdFeHApLmV4ZWModCk7aWYoIXIpcmV0dXJuIHQ7bGV0IHMsbztyWzRdIT09dm9pZCAwPyhvPXJbNF0scz1yWzJdKTpvPXJbMl07bGV0IGg9YnQ7cmV0dXJuIGUuc3VwcG9ydHM/YShzKT9oPWAke2h9LyR7c31gOmUud2FybnMuZGVwcmVjYXRlZE5vbkNsYXNzTmFtZU5hbWVzcGFjZWRFbmRwb2ludHNGb3JCZWFjb25zKCk6ZS53YXJucy5ub3RTdXBwb3J0ZWRDbGFzc05hbWVzcGFjZWRFbmRwb2ludHNGb3JCZWFjb25zKCksZS52ZXJzaW9uJiYoJGUoZS52ZXJzaW9uKXx8ZS53YXJucy5kZXByZWNhdGVkV2VhdmlhdGVUb29PbGQoKSksYShvKSYmKGg9YCR7aH0vJHtvfWApLGh9fTt2YXIgQ3Q9KGksdCk9PntsZXQgZT1uZXcgQmUodCkscj1uZXcgRWUodCkscz1uZXcgcmUodCk7cmV0dXJue2NyZWF0b3I6KCk9Pm5ldyBXKGksZSksdmFsaWRhdG9yOigpPT5uZXcgVShpKSx1cGRhdGVyOigpPT5uZXcgSihpLGUpLG1lcmdlcjooKT0+bmV3IEgoaSxlKSxnZXR0ZXI6KCk9Pm5ldyBLKGksZSksZ2V0dGVyQnlJZDooKT0+bmV3IHooaSxlKSxkZWxldGVyOigpPT5uZXcgUShpLGUpLGNoZWNrZXI6KCk9Pm5ldyBZKGksZSkscmVmZXJlbmNlQ3JlYXRvcjooKT0+bmV3IFgoaSxyLHMpLHJlZmVyZW5jZVJlcGxhY2VyOigpPT5uZXcgWihpLHIscykscmVmZXJlbmNlRGVsZXRlcjooKT0+bmV3IGVlKGkscixzKSxyZWZlcmVuY2VQYXlsb2FkQnVpbGRlcjooKT0+bmV3IHRlKGkpfX0sZXQ9Q3Q7dmFyIGI9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMud2l0aElkPWU9Pih0aGlzLmlkPWUsdGhpcyk7dGhpcy52YWxpZGF0ZUlzU2V0PShlLHIscyk9PnsoZT09bnVsbHx8ZT09bnVsbHx8ZS5sZW5ndGg9PTApJiZ0aGlzLmFkZEVycm9yKGAke3J9IG11c3QgYmUgc2V0IC0gc2V0IHdpdGggJHtzfWApfTt0aGlzLnZhbGlkYXRlSWQ9KCk9Pnt0aGlzLnZhbGlkYXRlSXNTZXQodGhpcy5pZCxcImlkXCIsXCIud2l0aElkKGlkKVwiKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVJZCgpfTt0aGlzLmRvPSgpPT57aWYodGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtsZXQgZT1gL2NsYXNzaWZpY2F0aW9ucy8ke3RoaXMuaWR9YDtyZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGUpfX19O3ZhciBpZT1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dGhpcy53aXRoVHlwZT1lPT4odGhpcy50eXBlPWUsdGhpcyk7dGhpcy53aXRoU2V0dGluZ3M9ZT0+KHRoaXMuc2V0dGluZ3M9ZSx0aGlzKTt0aGlzLndpdGhDbGFzc05hbWU9ZT0+KHRoaXMuY2xhc3NOYW1lPWUsdGhpcyk7dGhpcy53aXRoQ2xhc3NpZnlQcm9wZXJ0aWVzPWU9Pih0aGlzLmNsYXNzaWZ5UHJvcGVydGllcz1lLHRoaXMpO3RoaXMud2l0aEJhc2VkT25Qcm9wZXJ0aWVzPWU9Pih0aGlzLmJhc2VkT25Qcm9wZXJ0aWVzPWUsdGhpcyk7dGhpcy53aXRoV2FpdEZvckNvbXBsZXRpb249KCk9Pih0aGlzLndhaXRGb3JDb21wbGV0aW9uPSEwLHRoaXMpO3RoaXMud2l0aFdhaXRUaW1lb3V0PWU9Pih0aGlzLndhaXRUaW1lb3V0PWUsdGhpcyk7dGhpcy52YWxpZGF0ZUlzU2V0PShlLHIscyk9PnsoZT09bnVsbHx8ZT09bnVsbHx8ZS5sZW5ndGg9PTApJiZ0aGlzLmFkZEVycm9yKGAke3J9IG11c3QgYmUgc2V0IC0gc2V0IHdpdGggJHtzfWApfTt0aGlzLnZhbGlkYXRlQ2xhc3NOYW1lPSgpPT57dGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMuY2xhc3NOYW1lLFwiY2xhc3NOYW1lXCIsXCIud2l0aENsYXNzTmFtZShjbGFzc05hbWUpXCIpfTt0aGlzLnZhbGlkYXRlQmFzZWRPblByb3BlcnRpZXM9KCk9Pnt0aGlzLnZhbGlkYXRlSXNTZXQodGhpcy5iYXNlZE9uUHJvcGVydGllcyxcImJhc2VkT25Qcm9wZXJ0aWVzXCIsXCIud2l0aEJhc2VkT25Qcm9wZXJ0aWVzKGJhc2VkT25Qcm9wZXJ0aWVzKVwiKX07dGhpcy52YWxpZGF0ZUNsYXNzaWZ5UHJvcGVydGllcz0oKT0+e3RoaXMudmFsaWRhdGVJc1NldCh0aGlzLmNsYXNzaWZ5UHJvcGVydGllcyxcImNsYXNzaWZ5UHJvcGVydGllc1wiLFwiLndpdGhDbGFzc2lmeVByb3BlcnRpZXMoY2xhc3NpZnlQcm9wZXJ0aWVzKVwiKX07dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVDbGFzc05hbWUoKSx0aGlzLnZhbGlkYXRlQ2xhc3NpZnlQcm9wZXJ0aWVzKCksdGhpcy52YWxpZGF0ZUJhc2VkT25Qcm9wZXJ0aWVzKCl9O3RoaXMucGF5bG9hZD0oKT0+KHt0eXBlOnRoaXMudHlwZSxzZXR0aW5nczp0aGlzLnNldHRpbmdzLGNsYXNzOnRoaXMuY2xhc3NOYW1lLGNsYXNzaWZ5UHJvcGVydGllczp0aGlzLmNsYXNzaWZ5UHJvcGVydGllcyxiYXNlZE9uUHJvcGVydGllczp0aGlzLmJhc2VkT25Qcm9wZXJ0aWVzfSk7dGhpcy5wb2xsRm9yQ29tcGxldGlvbj1lPT5uZXcgUHJvbWlzZSgocixzKT0+e2xldCBvPXNldFRpbWVvdXQoKCk9PntjbGVhckludGVydmFsKGgpLGNsZWFyVGltZW91dChvKSxzKG5ldyBFcnJvcihcImNsYXNzaWZpY2F0aW9uIGRpZG4ndCBmaW5pc2ggd2l0aGluIGNvbmZpZ3VyZWQgdGltZW91dCwgc2V0IGxhcmdlciB0aW1lb3V0IHdpdGggLndpdGhXYWl0VGltZW91dCh0aW1lb3V0KVwiKSl9LHRoaXMud2FpdFRpbWVvdXQpLGg9c2V0SW50ZXJ2YWwoKCk9PntuZXcgYih0aGlzLmNsaWVudCkud2l0aElkKGUpLmRvKCkudGhlbihjPT57Yy5zdGF0dXM9PT1cImNvbXBsZXRlZFwiJiYoY2xlYXJJbnRlcnZhbChoKSxjbGVhclRpbWVvdXQobykscihjKSl9KX0sNTAwKX0pO3RoaXMuZG89KCk9PntpZih0aGlzLmVycm9ycy5sZW5ndGg+MClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCB1c2FnZTogXCIrdGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKSk7dGhpcy52YWxpZGF0ZSgpO2xldCBlPVwiL2NsYXNzaWZpY2F0aW9uc1wiO3JldHVybiB0aGlzLmNsaWVudC5wb3N0KGUsdGhpcy5wYXlsb2FkKCkpLnRoZW4ocj0+dGhpcy53YWl0Rm9yQ29tcGxldGlvbj90aGlzLnBvbGxGb3JDb21wbGV0aW9uKHIuaWQpOlByb21pc2UucmVzb2x2ZShyKSl9O3RoaXMud2FpdFRpbWVvdXQ9MTAqNjAqMWUzLHRoaXMud2FpdEZvckNvbXBsZXRpb249ITF9fTt2YXIgTnQ9aT0+KHtzY2hlZHVsZXI6KCk9Pm5ldyBpZShpKSxnZXR0ZXI6KCk9Pm5ldyBiKGkpfSksdHQ9TnQ7ZnVuY3Rpb24gSWUoaSl7cmV0dXJuIGl0KFwiL2JhdGNoL29iamVjdHNcIixpKX1mdW5jdGlvbiBydChpKXtyZXR1cm4gaXQoXCIvYmF0Y2gvcmVmZXJlbmNlc1wiLGkpfWZ1bmN0aW9uIGl0KGksdCl7cmV0dXJuIHQmJnQudG9TdHJpbmcoKSE9XCJcIiYmKGk9YCR7aX0/JHt0LnRvU3RyaW5nKCl9YCksaX12YXIgc2U9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMud2l0aENvbnNpc3RlbmN5TGV2ZWw9ZT0+KHRoaXMuY29uc2lzdGVuY3lMZXZlbD1lLHRoaXMpO3RoaXMucGF5bG9hZD0oKT0+KHtvYmplY3RzOnRoaXMub2JqZWN0c30pO3RoaXMudmFsaWRhdGVPYmplY3RDb3VudD0oKT0+e3RoaXMub2JqZWN0cy5sZW5ndGg9PTAmJnRoaXMuYWRkRXJyb3IoXCJuZWVkIGF0IGxlYXN0IG9uZSBvYmplY3QgdG8gc2VuZCBhIHJlcXVlc3QsIGFkZCBvbmUgd2l0aCAud2l0aE9iamVjdChvYmopXCIpfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZU9iamVjdENvdW50KCl9O3RoaXMuZG89KCk9PntpZih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpO2xldCBlPW5ldyBVUkxTZWFyY2hQYXJhbXM7dGhpcy5jb25zaXN0ZW5jeUxldmVsJiZlLnNldChcImNvbnNpc3RlbmN5X2xldmVsXCIsdGhpcy5jb25zaXN0ZW5jeUxldmVsKTtsZXQgcj1JZShlKTtyZXR1cm4gdGhpcy5jbGllbnQucG9zdChyLHRoaXMucGF5bG9hZCgpKX07dGhpcy5vYmplY3RzPVtdfXdpdGhPYmplY3RzKC4uLmUpe2xldCByPWU7cmV0dXJuIGUubGVuZ3RoJiZBcnJheS5pc0FycmF5KGVbMF0pJiYocj1lWzBdKSx0aGlzLm9iamVjdHM9Wy4uLnRoaXMub2JqZWN0cywuLi5yXSx0aGlzfXdpdGhPYmplY3QoZSl7cmV0dXJuIHRoaXMud2l0aE9iamVjdHMoZSl9fTt2YXIgbmU9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMud2l0aENvbnNpc3RlbmN5TGV2ZWw9ZT0+KHRoaXMuY29uc2lzdGVuY3lMZXZlbD1lLHRoaXMpO3RoaXMucGF5bG9hZD0oKT0+KHttYXRjaDp7Y2xhc3M6dGhpcy5jbGFzc05hbWUsd2hlcmU6dGhpcy53aGVyZUZpbHRlcn0sb3V0cHV0OnRoaXMub3V0cHV0LGRyeVJ1bjp0aGlzLmRyeVJ1bn0pO3RoaXMudmFsaWRhdGVDbGFzc05hbWU9KCk9PnthKHRoaXMuY2xhc3NOYW1lKXx8dGhpcy5hZGRFcnJvcihcInN0cmluZyBjbGFzc05hbWUgbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAud2l0aENsYXNzTmFtZShjbGFzc05hbWUpXCIpfTt0aGlzLnZhbGlkYXRlV2hlcmVGaWx0ZXI9KCk9Pnt0eXBlb2YgdGhpcy53aGVyZUZpbHRlciE9XCJvYmplY3RcIiYmdGhpcy5hZGRFcnJvcihcIm9iamVjdCB3aGVyZSBtdXN0IGJlIHNldCAtIHNldCB3aXRoIC53aXRoV2hlcmUod2hlcmVGaWx0ZXIpXCIpfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUNsYXNzTmFtZSgpLHRoaXMudmFsaWRhdGVXaGVyZUZpbHRlcigpfTt0aGlzLmRvPSgpPT57aWYodGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtsZXQgZT1uZXcgVVJMU2VhcmNoUGFyYW1zO3RoaXMuY29uc2lzdGVuY3lMZXZlbCYmZS5zZXQoXCJjb25zaXN0ZW5jeV9sZXZlbFwiLHRoaXMuY29uc2lzdGVuY3lMZXZlbCksdGhpcy50ZW5hbnQmJmUuc2V0KFwidGVuYW50XCIsdGhpcy50ZW5hbnQpO2xldCByPUllKGUpO3JldHVybiB0aGlzLmNsaWVudC5kZWxldGUocix0aGlzLnBheWxvYWQoKSwhMCl9fXdpdGhDbGFzc05hbWUoZSl7cmV0dXJuIHRoaXMuY2xhc3NOYW1lPWUsdGhpc313aXRoV2hlcmUoZSl7cmV0dXJuIHRoaXMud2hlcmVGaWx0ZXI9ZSx0aGlzfXdpdGhPdXRwdXQoZSl7cmV0dXJuIHRoaXMub3V0cHV0PWUsdGhpc313aXRoRHJ5UnVuKGUpe3JldHVybiB0aGlzLmRyeVJ1bj1lLHRoaXN9d2l0aFRlbmFudChlKXtyZXR1cm4gdGhpcy50ZW5hbnQ9ZSx0aGlzfX07dmFyIGFlPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUpO3RoaXMud2l0aENvbnNpc3RlbmN5TGV2ZWw9ZT0+KHRoaXMuY29uc2lzdGVuY3lMZXZlbD1lLHRoaXMpO3RoaXMucGF5bG9hZD0oKT0+dGhpcy5yZWZlcmVuY2VzO3RoaXMudmFsaWRhdGVSZWZlcmVuY2VDb3VudD0oKT0+e3RoaXMucmVmZXJlbmNlcy5sZW5ndGg9PTAmJnRoaXMuYWRkRXJyb3IoXCJuZWVkIGF0IGxlYXN0IG9uZSByZWZlcmVuY2UgdG8gc2VuZCBhIHJlcXVlc3QsIGFkZCBvbmUgd2l0aCAud2l0aFJlZmVyZW5jZShvYmopXCIpfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZVJlZmVyZW5jZUNvdW50KCl9O3RoaXMuZG89KCk9PntpZih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpO2xldCBlPW5ldyBVUkxTZWFyY2hQYXJhbXM7dGhpcy5jb25zaXN0ZW5jeUxldmVsJiZlLnNldChcImNvbnNpc3RlbmN5X2xldmVsXCIsdGhpcy5jb25zaXN0ZW5jeUxldmVsKTtsZXQgcj1ydChlKTtyZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5yZWZlcmVuY2VzLm1hcChvPT50aGlzLnJlYnVpbGRSZWZlcmVuY2VQcm9taXNlKG8pKSkudGhlbihvPT50aGlzLmNsaWVudC5wb3N0KHIsbykpfTt0aGlzLnJlYnVpbGRSZWZlcmVuY2VQcm9taXNlPWU9PnRoaXMuYmVhY29uUGF0aC5yZWJ1aWxkKGUudG8pLnRoZW4ocj0+KHtmcm9tOmUuZnJvbSx0bzpyLHRlbmFudDplLnRlbmFudH0pKTt0aGlzLmJlYWNvblBhdGg9cix0aGlzLnJlZmVyZW5jZXM9W119d2l0aFJlZmVyZW5jZXMoLi4uZSl7bGV0IHI9ZTtyZXR1cm4gZS5sZW5ndGgmJkFycmF5LmlzQXJyYXkoZVswXSkmJihyPWVbMF0pLHRoaXMucmVmZXJlbmNlcz1bLi4udGhpcy5yZWZlcmVuY2VzLC4uLnJdLHRoaXN9d2l0aFJlZmVyZW5jZShlKXtyZXR1cm4gdGhpcy53aXRoUmVmZXJlbmNlcyhlKX19O3ZhciBTZT1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dGhpcy53aXRoRnJvbUlkPWU9Pih0aGlzLmZyb21JZD1lLHRoaXMpO3RoaXMud2l0aFRvSWQ9ZT0+KHRoaXMudG9JZD1lLHRoaXMpO3RoaXMud2l0aEZyb21DbGFzc05hbWU9ZT0+KHRoaXMuZnJvbUNsYXNzTmFtZT1lLHRoaXMpO3RoaXMud2l0aEZyb21SZWZQcm9wPWU9Pih0aGlzLmZyb21SZWZQcm9wPWUsdGhpcyk7dGhpcy52YWxpZGF0ZUlzU2V0PShlLHIscyk9PnsoZT09bnVsbHx8ZT09bnVsbHx8ZS5sZW5ndGg9PTApJiZ0aGlzLmFkZEVycm9yKGAke3J9IG11c3QgYmUgc2V0IC0gc2V0IHdpdGggJHtzfWApfTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMuZnJvbUlkLFwiZnJvbUlkXCIsXCIud2l0aEZyb21JZChpZClcIiksdGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMudG9JZCxcInRvSWRcIixcIi53aXRoVG9JZChpZClcIiksdGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMuZnJvbUNsYXNzTmFtZSxcImZyb21DbGFzc05hbWVcIixcIi53aXRoRnJvbUNsYXNzTmFtZShjbGFzc05hbWUpXCIpLHRoaXMudmFsaWRhdGVJc1NldCh0aGlzLmZyb21SZWZQcm9wLFwiZnJvbVJlZlByb3BcIixcIi53aXRoRnJvbVJlZlByb3AocmVmUHJvcClcIil9O3RoaXMucGF5bG9hZD0oKT0+e2lmKHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IodGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKTtsZXQgZT1cIndlYXZpYXRlOi8vbG9jYWxob3N0XCI7cmV0dXJuIGEodGhpcy50b0NsYXNzTmFtZSkmJihlPWAke2V9LyR7dGhpcy50b0NsYXNzTmFtZX1gKSx7ZnJvbTpgd2VhdmlhdGU6Ly9sb2NhbGhvc3QvJHt0aGlzLmZyb21DbGFzc05hbWV9LyR7dGhpcy5mcm9tSWR9LyR7dGhpcy5mcm9tUmVmUHJvcH1gLHRvOmAke2V9LyR7dGhpcy50b0lkfWB9fTt0aGlzLmRvPSgpPT5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJTaG91bGQgbmV2ZXIgYmUgY2FsbGVkXCIpKX13aXRoVG9DbGFzc05hbWUoZSl7cmV0dXJuIHRoaXMudG9DbGFzc05hbWU9ZSx0aGlzfX07dmFyIFB0PShpLHQpPT57bGV0IGU9bmV3IHJlKHQpO3JldHVybntvYmplY3RzQmF0Y2hlcjooKT0+bmV3IHNlKGkpLG9iamVjdHNCYXRjaERlbGV0ZXI6KCk9Pm5ldyBuZShpKSxyZWZlcmVuY2VzQmF0Y2hlcjooKT0+bmV3IGFlKGksZSkscmVmZXJlbmNlUGF5bG9hZEJ1aWxkZXI6KCk9Pm5ldyBTZShpKX19LHN0PVB0O3ZhciBvZT1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlKTt0aGlzLmRvPSgpPT50aGlzLmNsaWVudC5nZXQoXCIvLndlbGwta25vd24vbGl2ZVwiLCExKS50aGVuKCgpPT4oc2V0VGltZW91dCgoKT0+dGhpcy5kYlZlcnNpb25Qcm92aWRlci5yZWZyZXNoKCkpLFByb21pc2UucmVzb2x2ZSghMCkpKS5jYXRjaCgoKT0+UHJvbWlzZS5yZXNvbHZlKCExKSk7dGhpcy5kYlZlcnNpb25Qcm92aWRlcj1yfXZhbGlkYXRlKCl7fX07dmFyIGhlPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUpO3RoaXMuZG89KCk9PnRoaXMuY2xpZW50LmdldChcIi8ud2VsbC1rbm93bi9yZWFkeVwiLCExKS50aGVuKCgpPT4oc2V0VGltZW91dCgoKT0+dGhpcy5kYlZlcnNpb25Qcm92aWRlci5yZWZyZXNoKCkpLFByb21pc2UucmVzb2x2ZSghMCkpKS5jYXRjaCgoKT0+UHJvbWlzZS5yZXNvbHZlKCExKSk7dGhpcy5kYlZlcnNpb25Qcm92aWRlcj1yfXZhbGlkYXRlKCl7fX07dmFyIEM9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMuZG89KCk9PnRoaXMuY2xpZW50LmdldChcIi9tZXRhXCIsITApfXZhbGlkYXRlKCl7fX07dmFyIHh0PShpLHQpPT4oe2xpdmVDaGVja2VyOigpPT5uZXcgb2UoaSx0KSxyZWFkeUNoZWNrZXI6KCk9Pm5ldyBoZShpLHQpLG1ldGFHZXR0ZXI6KCk9Pm5ldyBDKGkpLG9wZW5pZENvbmZpZ3VyYXRpb25HZXR0ZXI6KCk9Pm5ldyBnKGkuaHR0cCl9KSxudD14dDt2YXIgY2U9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMud2l0aENvbmNlcHQ9ZT0+KHRoaXMuY29uY2VwdD1lLHRoaXMpO3RoaXMud2l0aERlZmluaXRpb249ZT0+KHRoaXMuZGVmaW5pdGlvbj1lLHRoaXMpO3RoaXMud2l0aFdlaWdodD1lPT4odGhpcy53ZWlnaHQ9ZSx0aGlzKTt0aGlzLnZhbGlkYXRlSXNTZXQ9KGUscixzKT0+eyhlPT1udWxsfHxlPT1udWxsfHxlLmxlbmd0aD09MCkmJnRoaXMuYWRkRXJyb3IoYCR7cn0gbXVzdCBiZSBzZXQgLSBzZXQgd2l0aCAke3N9YCl9O3RoaXMudmFsaWRhdGU9KCk9Pnt0aGlzLnZhbGlkYXRlSXNTZXQodGhpcy5jb25jZXB0LFwiY29uY2VwdFwiLFwid2l0aENvbmNlcHQoY29uY2VwdClcIiksdGhpcy52YWxpZGF0ZUlzU2V0KHRoaXMuZGVmaW5pdGlvbixcImRlZmluaXRpb25cIixcIndpdGhEZWZpbml0aW9uKGRlZmluaXRpb24pXCIpLHRoaXMudmFsaWRhdGVJc1NldCh0aGlzLndlaWdodD8udG9TdHJpbmcoKXx8XCJcIixcIndlaWdodFwiLFwid2l0aFdlaWdodCh3ZWlnaHQpXCIpfTt0aGlzLnBheWxvYWQ9KCk9Pih7Y29uY2VwdDp0aGlzLmNvbmNlcHQsZGVmaW5pdGlvbjp0aGlzLmRlZmluaXRpb24sd2VpZ2h0OnRoaXMud2VpZ2h0fSk7dGhpcy5kbz0oKT0+e2lmKHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCB1c2FnZTogXCIrdGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKSk7bGV0IGU9XCIvbW9kdWxlcy90ZXh0MnZlYy1jb250ZXh0aW9uYXJ5L2V4dGVuc2lvbnNcIjtyZXR1cm4gdGhpcy5jbGllbnQucG9zdChlLHRoaXMucGF5bG9hZCgpKX19fTt2YXIgZGU9Y2xhc3MgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO3RoaXMudmFsaWRhdGVJc1NldD0oZSxyLHMpPT57KGU9PW51bGx8fGU9PW51bGx8fGUubGVuZ3RoPT0wKSYmdGhpcy5hZGRFcnJvcihgJHtyfSBtdXN0IGJlIHNldCAtIHNldCB3aXRoICR7c31gKX07dGhpcy53aXRoQ29uY2VwdD1lPT4odGhpcy5jb25jZXB0PWUsdGhpcyk7dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMudmFsaWRhdGVJc1NldCh0aGlzLmNvbmNlcHQsXCJjb25jZXB0XCIsXCJ3aXRoQ29uY2VwdChjb25jZXB0KVwiKX07dGhpcy5kbz0oKT0+e2lmKHRoaXMudmFsaWRhdGUoKSx0aGlzLmVycm9ycy5sZW5ndGg+MClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCB1c2FnZTogXCIrdGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKSk7bGV0IGU9YC9tb2R1bGVzL3RleHQydmVjLWNvbnRleHRpb25hcnkvY29uY2VwdHMvJHt0aGlzLmNvbmNlcHR9YDtyZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGUpfX19O3ZhciBTdD1pPT4oe2NvbmNlcHRzR2V0dGVyOigpPT5uZXcgZGUoaSksZXh0ZW5zaW9uQ3JlYXRvcjooKT0+bmV3IGNlKGkpfSksYXQ9U3Q7dmFyIFZlPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuZGJWZXJzaW9uUHJvdmlkZXI9dH1zdXBwb3J0c0NsYXNzTmFtZU5hbWVzcGFjZWRFbmRwb2ludHNQcm9taXNlKCl7cmV0dXJuIHRoaXMuZGJWZXJzaW9uUHJvdmlkZXIuZ2V0VmVyc2lvblByb21pc2UoKS50aGVuKHQ9Pih7dmVyc2lvbjp0LHN1cHBvcnRzOnRoaXMuc3VwcG9ydHNDbGFzc05hbWVOYW1lc3BhY2VkRW5kcG9pbnRzKHQpLHdhcm5zOntkZXByZWNhdGVkTm9uQ2xhc3NOYW1lTmFtZXNwYWNlZEVuZHBvaW50c0Zvck9iamVjdHM6KCk9PmNvbnNvbGUud2FybihgVXNhZ2Ugb2Ygb2JqZWN0cyBwYXRocyB3aXRob3V0IGNsYXNzTmFtZSBpcyBkZXByZWNhdGVkIGluIFdlYXZpYXRlICR7dH0uIFBsZWFzZSBwcm92aWRlIGNsYXNzTmFtZSBwYXJhbWV0ZXJgKSxkZXByZWNhdGVkTm9uQ2xhc3NOYW1lTmFtZXNwYWNlZEVuZHBvaW50c0ZvclJlZmVyZW5jZXM6KCk9PmNvbnNvbGUud2FybihgVXNhZ2Ugb2YgcmVmZXJlbmNlcyBwYXRocyB3aXRob3V0IGNsYXNzTmFtZSBpcyBkZXByZWNhdGVkIGluIFdlYXZpYXRlICR7dH0uIFBsZWFzZSBwcm92aWRlIGNsYXNzTmFtZSBwYXJhbWV0ZXJgKSxkZXByZWNhdGVkTm9uQ2xhc3NOYW1lTmFtZXNwYWNlZEVuZHBvaW50c0ZvckJlYWNvbnM6KCk9PmNvbnNvbGUud2FybihgVXNhZ2Ugb2YgYmVhY29ucyBwYXRocyB3aXRob3V0IGNsYXNzTmFtZSBpcyBkZXByZWNhdGVkIGluIFdlYXZpYXRlICR7dH0uIFBsZWFzZSBwcm92aWRlIGNsYXNzTmFtZSBwYXJhbWV0ZXJgKSxkZXByZWNhdGVkV2VhdmlhdGVUb29PbGQ6KCk9PmNvbnNvbGUud2FybihgVXNhZ2Ugb2Ygd2VhdmlhdGUgJHt0fSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgY29uc2lkZXIgdXBncmFkaW5nIHRvIHRoZSBsYXRlc3QgdmVyc2lvbi4gU2VlIGh0dHBzOi8vd3d3LndlYXZpYXRlLmlvL2RldmVsb3BlcnMvd2VhdmlhdGUgZm9yIGRldGFpbHMuYCksbm90U3VwcG9ydGVkQ2xhc3NOYW1lc3BhY2VkRW5kcG9pbnRzRm9yT2JqZWN0czooKT0+Y29uc29sZS53YXJuKGBVc2FnZSBvZiBvYmplY3RzIHBhdGhzIHdpdGggY2xhc3NOYW1lIGlzIG5vdCBzdXBwb3J0ZWQgaW4gV2VhdmlhdGUgJHt0fS4gY2xhc3NOYW1lIHBhcmFtZXRlciBpcyBpZ25vcmVkYCksbm90U3VwcG9ydGVkQ2xhc3NOYW1lc3BhY2VkRW5kcG9pbnRzRm9yUmVmZXJlbmNlczooKT0+Y29uc29sZS53YXJuKGBVc2FnZSBvZiByZWZlcmVuY2VzIHBhdGhzIHdpdGggY2xhc3NOYW1lIGlzIG5vdCBzdXBwb3J0ZWQgaW4gV2VhdmlhdGUgJHt0fS4gY2xhc3NOYW1lIHBhcmFtZXRlciBpcyBpZ25vcmVkYCksbm90U3VwcG9ydGVkQ2xhc3NOYW1lc3BhY2VkRW5kcG9pbnRzRm9yQmVhY29uczooKT0+Y29uc29sZS53YXJuKGBVc2FnZSBvZiBiZWFjb25zIHBhdGhzIHdpdGggY2xhc3NOYW1lIGlzIG5vdCBzdXBwb3J0ZWQgaW4gV2VhdmlhdGUgJHt0fS4gY2xhc3NOYW1lIHBhcmFtZXRlciBpcyBpZ25vcmVkYCksbm90U3VwcG9ydGVkQ2xhc3NQYXJhbWV0ZXJJbkVuZHBvaW50c0Zvck9iamVjdHM6KCk9PmNvbnNvbGUud2FybihgVXNhZ2Ugb2Ygb2JqZWN0cyBwYXRocyB3aXRoIGNsYXNzIHF1ZXJ5IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFdlYXZpYXRlICR7dH0uIGNsYXNzIHF1ZXJ5IHBhcmFtZXRlciBpcyBpZ25vcmVkYCl9fSkpfXN1cHBvcnRzQ2xhc3NOYW1lTmFtZXNwYWNlZEVuZHBvaW50cyh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7bGV0IGU9dC5zcGxpdChcIi5cIik7aWYoZS5sZW5ndGg+PTIpe2xldCByPXBhcnNlSW50KGVbMF0sMTApLHM9cGFyc2VJbnQoZVsxXSwxMCk7cmV0dXJuIHI9PTEmJnM+PTE0fHxyPj0yfX1yZXR1cm4hMX19LG90PVwiXCIsUmU9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy52ZXJzaW9uR2V0dGVyPXQsdGhpcy5lbXB0eVZlcnNpb25Qcm9taXNlPVByb21pc2UucmVzb2x2ZShvdCksdGhpcy52ZXJzaW9uUHJvbWlzZT12b2lkIDB9Z2V0VmVyc2lvblByb21pc2UoKXtyZXR1cm4gdGhpcy52ZXJzaW9uUHJvbWlzZT90aGlzLnZlcnNpb25Qcm9taXNlOnRoaXMudmVyc2lvbkdldHRlcigpLnRoZW4odD0+dGhpcy5hc3NpZ25Qcm9taXNlKHQpKX1yZWZyZXNoKHQ9ITEpe3JldHVybiB0fHwhdGhpcy52ZXJzaW9uUHJvbWlzZT8odGhpcy52ZXJzaW9uUHJvbWlzZT12b2lkIDAsdGhpcy52ZXJzaW9uR2V0dGVyKCkudGhlbihlPT50aGlzLmFzc2lnblByb21pc2UoZSkpLnRoZW4oKCk9PlByb21pc2UucmVzb2x2ZSghMCkpKTpQcm9taXNlLnJlc29sdmUoITEpfWFzc2lnblByb21pc2UodCl7cmV0dXJuIHQ9PT1vdD90aGlzLmVtcHR5VmVyc2lvblByb21pc2U6KHRoaXMudmVyc2lvblByb21pc2U9UHJvbWlzZS5yZXNvbHZlKHQpLHRoaXMudmVyc2lvblByb21pc2UpfX07ZnVuY3Rpb24gT2UoaSl7aWYoQXJyYXkuaXNBcnJheShpKSl7bGV0IHQ9W107cmV0dXJuIGkuZm9yRWFjaChlPT57YShlKXx8dC5wdXNoKFwic3RyaW5nIGNsYXNzTmFtZSBpbnZhbGlkIC0gc2V0IHdpdGggLndpdGhJbmNsdWRlQ2xhc3NOYW1lcyguLi5jbGFzc05hbWVzKVwiKX0pLHR9cmV0dXJuIGkhPW51bGw/W1wic3RyaW5ncyBjbGFzc05hbWVzIGludmFsaWQgLSBzZXQgd2l0aCAud2l0aEluY2x1ZGVDbGFzc05hbWVzKC4uLmNsYXNzTmFtZXMpXCJdOltdfWZ1bmN0aW9uIE1lKGkpe2lmKEFycmF5LmlzQXJyYXkoaSkpe2xldCB0PVtdO3JldHVybiBpLmZvckVhY2goZT0+e2EoZSl8fHQucHVzaChcInN0cmluZyBjbGFzc05hbWUgaW52YWxpZCAtIHNldCB3aXRoIC53aXRoRXhjbHVkZUNsYXNzTmFtZXMoLi4uY2xhc3NOYW1lcylcIil9KSx0fXJldHVybiBpIT1udWxsP1tcInN0cmluZ3MgY2xhc3NOYW1lcyBpbnZhbGlkIC0gc2V0IHdpdGggLndpdGhFeGNsdWRlQ2xhc3NOYW1lcyguLi5jbGFzc05hbWVzKVwiXTpbXX1mdW5jdGlvbiBOKGkpe3JldHVybiBhKGkpP1tdOltcInN0cmluZyBiYWNrZW5kIG11c3Qgc2V0IC0gc2V0IHdpdGggLndpdGhCYWNrZW5kKGJhY2tlbmQpXCJdfWZ1bmN0aW9uIFAoaSl7cmV0dXJuIGEoaSk/W106W1wic3RyaW5nIGJhY2t1cElkIG11c3QgYmUgc2V0IC0gc2V0IHdpdGggLndpdGhCYWNrdXBJZChiYWNrdXBJZClcIl19dmFyIEF0PTFlMyxsZT1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlKTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy5hZGRFcnJvcnMoWy4uLk9lKHRoaXMuaW5jbHVkZUNsYXNzTmFtZXMpLC4uLk1lKHRoaXMuZXhjbHVkZUNsYXNzTmFtZXMpLC4uLk4odGhpcy5iYWNrZW5kKSwuLi5QKHRoaXMuYmFja3VwSWQpXSl9O3RoaXMuZG89KCk9PntpZih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjApcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpO2xldCBlPXtpZDp0aGlzLmJhY2t1cElkLGNvbmZpZzp0aGlzLmNvbmZpZyxpbmNsdWRlOnRoaXMuaW5jbHVkZUNsYXNzTmFtZXMsZXhjbHVkZTp0aGlzLmV4Y2x1ZGVDbGFzc05hbWVzfTtyZXR1cm4gdGhpcy53YWl0Rm9yQ29tcGxldGlvbj90aGlzLl9jcmVhdGVBbmRXYWl0Rm9yQ29tcGxldGlvbihlKTp0aGlzLl9jcmVhdGUoZSl9O3RoaXMuX2NyZWF0ZT1lPT50aGlzLmNsaWVudC5wb3N0KHRoaXMuX3BhdGgoKSxlKTt0aGlzLl9jcmVhdGVBbmRXYWl0Rm9yQ29tcGxldGlvbj1lPT5uZXcgUHJvbWlzZSgocixzKT0+e3RoaXMuX2NyZWF0ZShlKS50aGVuKG89Pnt0aGlzLnN0YXR1c0dldHRlci53aXRoQmFja2VuZCh0aGlzLmJhY2tlbmQpLndpdGhCYWNrdXBJZCh0aGlzLmJhY2t1cElkKTtsZXQgaD0oKT0+e3RoaXMuc3RhdHVzR2V0dGVyLmRvKCkudGhlbihjPT57Yy5zdGF0dXM9PVwiU1VDQ0VTU1wifHxjLnN0YXR1cz09XCJGQUlMRURcIj9yKHRoaXMuX21lcmdlKGMsbykpOnNldFRpbWVvdXQoaCxBdCl9KS5jYXRjaChzKX07aCgpfSkuY2F0Y2gocyl9KTt0aGlzLl9wYXRoPSgpPT5gL2JhY2t1cHMvJHt0aGlzLmJhY2tlbmR9YDt0aGlzLl9tZXJnZT0oZSxyKT0+e2xldCBzPXt9O3JldHVyblwiaWRcImluIGUmJihzLmlkPWUuaWQpLFwicGF0aFwiaW4gZSYmKHMucGF0aD1lLnBhdGgpLFwiYmFja2VuZFwiaW4gZSYmKHMuYmFja2VuZD1lLmJhY2tlbmQpLFwic3RhdHVzXCJpbiBlJiYocy5zdGF0dXM9ZS5zdGF0dXMpLFwiZXJyb3JcImluIGUmJihzLmVycm9yPWUuZXJyb3IpLFwiY2xhc3Nlc1wiaW4gciYmKHMuY2xhc3Nlcz1yLmNsYXNzZXMpLHN9O3RoaXMuc3RhdHVzR2V0dGVyPXJ9d2l0aEluY2x1ZGVDbGFzc05hbWVzKC4uLmUpe2xldCByPWU7cmV0dXJuIGUubGVuZ3RoJiZBcnJheS5pc0FycmF5KGVbMF0pJiYocj1lWzBdKSx0aGlzLmluY2x1ZGVDbGFzc05hbWVzPXIsdGhpc313aXRoRXhjbHVkZUNsYXNzTmFtZXMoLi4uZSl7bGV0IHI9ZTtyZXR1cm4gZS5sZW5ndGgmJkFycmF5LmlzQXJyYXkoZVswXSkmJihyPWVbMF0pLHRoaXMuZXhjbHVkZUNsYXNzTmFtZXM9cix0aGlzfXdpdGhCYWNrZW5kKGUpe3JldHVybiB0aGlzLmJhY2tlbmQ9ZSx0aGlzfXdpdGhCYWNrdXBJZChlKXtyZXR1cm4gdGhpcy5iYWNrdXBJZD1lLHRoaXN9d2l0aFdhaXRGb3JDb21wbGV0aW9uKGUpe3JldHVybiB0aGlzLndhaXRGb3JDb21wbGV0aW9uPWUsdGhpc313aXRoQ29uZmlnKGUpe3JldHVybiB0aGlzLmNvbmZpZz1lLHRoaXN9fTt2YXIgaz1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dGhpcy52YWxpZGF0ZT0oKT0+e3RoaXMuYWRkRXJyb3JzKFsuLi5OKHRoaXMuYmFja2VuZCksLi4uUCh0aGlzLmJhY2t1cElkKV0pfTt0aGlzLmRvPSgpPT4odGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wP1Byb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgdXNhZ2U6IFwiK3RoaXMuZXJyb3JzLmpvaW4oXCIsIFwiKSkpOnRoaXMuY2xpZW50LmdldCh0aGlzLl9wYXRoKCkpKTt0aGlzLl9wYXRoPSgpPT5gL2JhY2t1cHMvJHt0aGlzLmJhY2tlbmR9LyR7dGhpcy5iYWNrdXBJZH1gfXdpdGhCYWNrZW5kKGUpe3JldHVybiB0aGlzLmJhY2tlbmQ9ZSx0aGlzfXdpdGhCYWNrdXBJZChlKXtyZXR1cm4gdGhpcy5iYWNrdXBJZD1lLHRoaXN9fTt2YXIga3Q9MWUzLHBlPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUpO3RoaXMudmFsaWRhdGU9KCk9Pnt0aGlzLmFkZEVycm9ycyhbLi4uT2UodGhpcy5pbmNsdWRlQ2xhc3NOYW1lc3x8W10pLC4uLk1lKHRoaXMuZXhjbHVkZUNsYXNzTmFtZXN8fFtdKSwuLi5OKHRoaXMuYmFja2VuZCksLi4uUCh0aGlzLmJhY2t1cElkKV0pfTt0aGlzLmRvPSgpPT57aWYodGhpcy52YWxpZGF0ZSgpLHRoaXMuZXJyb3JzLmxlbmd0aD4wKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpbnZhbGlkIHVzYWdlOiBcIit0aGlzLmVycm9ycy5qb2luKFwiLCBcIikpKTtsZXQgZT17Y29uZmlnOnRoaXMuY29uZmlnLGluY2x1ZGU6dGhpcy5pbmNsdWRlQ2xhc3NOYW1lcyxleGNsdWRlOnRoaXMuZXhjbHVkZUNsYXNzTmFtZXN9O3JldHVybiB0aGlzLndhaXRGb3JDb21wbGV0aW9uP3RoaXMuX3Jlc3RvcmVBbmRXYWl0Rm9yQ29tcGxldGlvbihlKTp0aGlzLl9yZXN0b3JlKGUpfTt0aGlzLl9yZXN0b3JlPWU9PnRoaXMuY2xpZW50LnBvc3QodGhpcy5fcGF0aCgpLGUpO3RoaXMuX3Jlc3RvcmVBbmRXYWl0Rm9yQ29tcGxldGlvbj1lPT5uZXcgUHJvbWlzZSgocixzKT0+e3RoaXMuX3Jlc3RvcmUoZSkudGhlbihvPT57dGhpcy5zdGF0dXNHZXR0ZXIud2l0aEJhY2tlbmQodGhpcy5iYWNrZW5kKS53aXRoQmFja3VwSWQodGhpcy5iYWNrdXBJZCk7bGV0IGg9KCk9Pnt0aGlzLnN0YXR1c0dldHRlci5kbygpLnRoZW4oYz0+e2Muc3RhdHVzPT1cIlNVQ0NFU1NcInx8Yy5zdGF0dXM9PVwiRkFJTEVEXCI/cih0aGlzLl9tZXJnZShjLG8pKTpzZXRUaW1lb3V0KGgsa3QpfSkuY2F0Y2gocyl9O2goKX0pLmNhdGNoKHMpfSk7dGhpcy5fcGF0aD0oKT0+YC9iYWNrdXBzLyR7dGhpcy5iYWNrZW5kfS8ke3RoaXMuYmFja3VwSWR9L3Jlc3RvcmVgO3RoaXMuX21lcmdlPShlLHIpPT57bGV0IHM9e307cmV0dXJuXCJpZFwiaW4gZSYmKHMuaWQ9ZS5pZCksXCJwYXRoXCJpbiBlJiYocy5wYXRoPWUucGF0aCksXCJiYWNrZW5kXCJpbiBlJiYocy5iYWNrZW5kPWUuYmFja2VuZCksXCJzdGF0dXNcImluIGUmJihzLnN0YXR1cz1lLnN0YXR1cyksXCJlcnJvclwiaW4gZSYmKHMuZXJyb3I9ZS5lcnJvciksXCJjbGFzc2VzXCJpbiByJiYocy5jbGFzc2VzPXIuY2xhc3Nlcyksc307dGhpcy5zdGF0dXNHZXR0ZXI9cn13aXRoSW5jbHVkZUNsYXNzTmFtZXMoLi4uZSl7bGV0IHI9ZTtyZXR1cm4gZS5sZW5ndGgmJkFycmF5LmlzQXJyYXkoZVswXSkmJihyPWVbMF0pLHRoaXMuaW5jbHVkZUNsYXNzTmFtZXM9cix0aGlzfXdpdGhFeGNsdWRlQ2xhc3NOYW1lcyguLi5lKXtsZXQgcj1lO3JldHVybiBlLmxlbmd0aCYmQXJyYXkuaXNBcnJheShlWzBdKSYmKHI9ZVswXSksdGhpcy5leGNsdWRlQ2xhc3NOYW1lcz1yLHRoaXN9d2l0aEJhY2tlbmQoZSl7cmV0dXJuIHRoaXMuYmFja2VuZD1lLHRoaXN9d2l0aEJhY2t1cElkKGUpe3JldHVybiB0aGlzLmJhY2t1cElkPWUsdGhpc313aXRoV2FpdEZvckNvbXBsZXRpb24oZSl7cmV0dXJuIHRoaXMud2FpdEZvckNvbXBsZXRpb249ZSx0aGlzfXdpdGhDb25maWcoZSl7cmV0dXJuIHRoaXMuY29uZmlnPWUsdGhpc319O3ZhciBUPWNsYXNzIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt0aGlzLnZhbGlkYXRlPSgpPT57dGhpcy5hZGRFcnJvcnMoWy4uLk4odGhpcy5iYWNrZW5kKSwuLi5QKHRoaXMuYmFja3VwSWQpXSl9O3RoaXMuZG89KCk9Pih0aGlzLnZhbGlkYXRlKCksdGhpcy5lcnJvcnMubGVuZ3RoPjA/UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCB1c2FnZTogXCIrdGhpcy5lcnJvcnMuam9pbihcIiwgXCIpKSk6dGhpcy5jbGllbnQuZ2V0KHRoaXMuX3BhdGgoKSkpO3RoaXMuX3BhdGg9KCk9PmAvYmFja3Vwcy8ke3RoaXMuYmFja2VuZH0vJHt0aGlzLmJhY2t1cElkfS9yZXN0b3JlYH13aXRoQmFja2VuZChlKXtyZXR1cm4gdGhpcy5iYWNrZW5kPWUsdGhpc313aXRoQmFja3VwSWQoZSl7cmV0dXJuIHRoaXMuYmFja3VwSWQ9ZSx0aGlzfX07dmFyIFR0PWk9Pih7Y3JlYXRvcjooKT0+bmV3IGxlKGksbmV3IGsoaSkpLGNyZWF0ZVN0YXR1c0dldHRlcjooKT0+bmV3IGsoaSkscmVzdG9yZXI6KCk9Pm5ldyBwZShpLG5ldyBUKGkpKSxyZXN0b3JlU3RhdHVzR2V0dGVyOigpPT5uZXcgVChpKX0pLGh0PVR0O3ZhciB1ZT1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7dGhpcy53aXRoQ2xhc3NOYW1lPWU9Pih0aGlzLmNsYXNzTmFtZT1lLHRoaXMpO3RoaXMud2l0aE91dHB1dD1lPT4odGhpcy5vdXRwdXQ9ZSx0aGlzKTt0aGlzLmRvPSgpPT57bGV0IGU9XCIvbm9kZXNcIjtyZXR1cm4gdGhpcy5jbGFzc05hbWUmJihlPWAke2V9LyR7dGhpcy5jbGFzc05hbWV9YCksdGhpcy5vdXRwdXQ/ZT1gJHtlfT9vdXRwdXQ9JHt0aGlzLm91dHB1dH1gOmU9YCR7ZX0/b3V0cHV0PXZlcmJvc2VgLHRoaXMuY2xpZW50LmdldChlKX19dmFsaWRhdGUoKXt9fTt2YXIganQ9aT0+KHtub2Rlc1N0YXR1c0dldHRlcjooKT0+bmV3IHVlKGkpfSksY3Q9anQ7aW1wb3J0e3Y1IGFzIGR0fWZyb21cInV1aWRcIjtmdW5jdGlvbiBEbyhpLHQ9XCJcIil7bGV0IGU9aS50b1N0cmluZygpK3QudG9TdHJpbmcoKTtyZXR1cm4gZHQoZSxkdC5ETlMpLnRvU3RyaW5nKCl9ZnVuY3Rpb24gX28oaSl7aWYodHlwZW9mIHdpbmRvdz5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgYXZhaWxhYmxlIGluIHRoZSBicm93c2VyXCIpO2xldCB0PW5ldyBGaWxlUmVhZGVyO3JldHVybiBuZXcgUHJvbWlzZSgoZSxyKT0+e3Qub25sb2FkPWUsdC5vbmVycm9yPXIsdC5yZWFkQXNEYXRhVVJMKGkpfSkudGhlbigoKT0+e2lmKHR5cGVvZiB0LnJlc3VsdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgcmVzdWx0IHdoZW4gY29udmVydGluZyBibG9iIHRvIGJhc2U2NCAocmVzdWx0IGlzIG5vdCBhIHN0cmluZyk6ICR7dC5yZXN1bHR9YCk7cmV0dXJuIHQucmVzdWx0fSl9dmFyICR0PXtjbGllbnQ6ZnVuY3Rpb24oaSl7aWYoIWkuaG9zdCl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGBob3N0YCBwYXJhbWV0ZXJcIik7aS5oZWFkZXJzfHwoaS5oZWFkZXJzPXt9KTtsZXQgdD1uZXcgZ2UoaSksZT1CdCh0KSxyPW5ldyBWZShlKSxzPXtncmFwaHFsOlFlKHQpLHNjaGVtYTpYZSh0KSxkYXRhOmV0KHQsciksY2xhc3NpZmljYXRpb25zOnR0KHQpLGJhdGNoOnN0KHQsciksbWlzYzpudCh0LGUpLGMxMXk6YXQodCksYmFja3VwOmh0KHQpLGNsdXN0ZXI6Y3QodCl9O3JldHVybiB0Lm9pZGNBdXRoJiYocy5vaWRjQXV0aD10Lm9pZGNBdXRoKSxzfSxBcGlLZXk6a2UsQXV0aFVzZXJQYXNzd29yZENyZWRlbnRpYWxzOm1lLEF1dGhBY2Nlc3NUb2tlbkNyZWRlbnRpYWxzOmosQXV0aENsaWVudENyZWRlbnRpYWxzOmZlfTtmdW5jdGlvbiBCdChpKXtsZXQgdD1uZXcgQyhpKSxlPSgpPT50LmRvKCkudGhlbihzPT5zLnZlcnNpb24pLmNhdGNoKCgpPT5Qcm9taXNlLnJlc29sdmUoXCJcIikpLHI9bmV3IFJlKGUpO3JldHVybiByLnJlZnJlc2goKSxyfXZhciBtaD0kdDtleHBvcnR7JCBhcyBBZ2dyZWdhdG9yLGtlIGFzIEFwaUtleSxqIGFzIEF1dGhBY2Nlc3NUb2tlbkNyZWRlbnRpYWxzLGZlIGFzIEF1dGhDbGllbnRDcmVkZW50aWFscyxtZSBhcyBBdXRoVXNlclBhc3N3b3JkQ3JlZGVudGlhbHMsayBhcyBCYWNrdXBDcmVhdGVTdGF0dXNHZXR0ZXIsbGUgYXMgQmFja3VwQ3JlYXRvcixUIGFzIEJhY2t1cFJlc3RvcmVTdGF0dXNHZXR0ZXIscGUgYXMgQmFja3VwUmVzdG9yZXIsWSBhcyBDaGVja2VyLFYgYXMgQ2xhc3NDcmVhdG9yLHkgYXMgQ2xhc3NEZWxldGVyLFIgYXMgQ2xhc3NHZXR0ZXIsYiBhcyBDbGFzc2lmaWNhdGlvbnNHZXR0ZXIsaWUgYXMgQ2xhc3NpZmljYXRpb25zU2NoZWR1bGVyLGRlIGFzIENvbmNlcHRzR2V0dGVyLFcgYXMgQ3JlYXRvcixRIGFzIERlbGV0ZXIsRSBhcyBFeHBsb3JlcixjZSBhcyBFeHRlbnNpb25DcmVhdG9yLF9lIGFzIEZ1c2lvblR5cGUsSyBhcyBHZXR0ZXIseiBhcyBHZXR0ZXJCeUlkLEIgYXMgR3JhcGhRTEdldHRlcixvZSBhcyBMaXZlQ2hlY2tlcixIIGFzIE1lcmdlcixDIGFzIE1ldGFHZXR0ZXIsdWUgYXMgTm9kZXNTdGF0dXNHZXR0ZXIsbmUgYXMgT2JqZWN0c0JhdGNoRGVsZXRlcixzZSBhcyBPYmplY3RzQmF0Y2hlcixBZSBhcyBPaWRjQXV0aGVudGljYXRvcixnIGFzIE9wZW5pZENvbmZpZ3VyYXRpb25HZXR0ZXIsTyBhcyBQcm9wZXJ0eUNyZWF0b3IsSSBhcyBSYXcsaGUgYXMgUmVhZHlDaGVja2VyLFggYXMgUmVmZXJlbmNlQ3JlYXRvcixlZSBhcyBSZWZlcmVuY2VEZWxldGVyLHRlIGFzIFJlZmVyZW5jZVBheWxvYWRCdWlsZGVyLFogYXMgUmVmZXJlbmNlUmVwbGFjZXIsYWUgYXMgUmVmZXJlbmNlc0JhdGNoZXIsdyBhcyBTY2hlbWFHZXR0ZXIsTSBhcyBTaGFyZFVwZGF0ZXIsRiBhcyBTaGFyZHNVcGRhdGVyLEwgYXMgVGVuYW50c0NyZWF0b3IscSBhcyBUZW5hbnRzRGVsZXRlcixfIGFzIFRlbmFudHNFeGlzdHMsRyBhcyBUZW5hbnRzR2V0dGVyLEQgYXMgVGVuYW50c1VwZGF0ZXIsSiBhcyBVcGRhdGVyLFUgYXMgVmFsaWRhdG9yLG1oIGFzIGRlZmF1bHQsRG8gYXMgZ2VuZXJhdGVVdWlkNSxfbyBhcyB0b0Jhc2U2NEZyb21CbG9ifTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../node_modules/weaviate-ts-client/dist/index.mjs\n");

/***/ })

};
;